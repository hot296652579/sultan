{"version":3,"sources":["assets/script/login/LoginView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameConfig } from \"../common/base/HotUpdate\";\nimport { Config } from \"../common/config/Config\";\nimport { dispatchEnterComplete, LogicEvent, LogicType } from \"../common/event/LogicEvent\";\nimport { i18n } from \"../common/language/LanguageImpl\";\nimport { gameManager } from \"../common/manager/GameManager\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { CommonMessage, protoPackage, serverType } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { BUNDLE_RESOURCES } from \"../framework/base/Defines\";\nimport { IController } from \"../framework/controller/Controller\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport { EventApi } from \"../framework/event/EventApi\";\nimport { HttpErrorType, RequestPackge } from \"../framework/net/HttpClient\";\nimport UIView from \"../framework/ui/UIView\";\nimport { User } from \"../global/User\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\nimport { ShareTraceHelpder } from \"../Helpder/shareTrace/ShareTraceHelpder\";\nimport LanguageChange from \"../common/language/LanguageChange\";\nimport ServiceView from \"../service/ServiceView\";\nimport RichTextHandler from \"./RichTextHandler\";\n\nconst { ccclass, property } = cc._decorator;\n\nexport enum LoginType {\n    phone = 1,\n    tourist = 2,\n    password = 3,\n    facebook = 4,\n}\n\n/**\n * @description 登录方式逻辑事件定义\n */\nexport let LoginEvent = {\n    /**@description 进行指定场景完成 */\n    TOURIST: \"TOURIST\",\n\n    /**@description 进入大厅*/\n    FACEBOOK: \"FACEBOOK\",\n\n    /**@description 进入游戏 */\n    PHONE: \"PHONE\",\n\n};\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class LoginView extends UIView implements IController<LobbyService> {\n\n    loginType: any = null;\n    outTimeCall: NodeJS.Timeout;\n    isAuto: boolean;\n\n    public static getPrefabUrl() {\n        return \"login/prefabs/LoginView\";\n    }\n    service: LobbyService = null;\n    onLoad() {\n        super.onLoad();\n        // this.audioHelper.playMusic(\"common/audio/login_bgm\", BUNDLE_RESOURCES);\n        dispatchEnterComplete({ type: LogicType.LOGIN, views: [this] });\n    }\n    bindingEvents() {\n        super.bindingEvents();\n        this.registerEvent(LoginEvent.FACEBOOK, this.reqFaceBookAccLogin);\n        this.registerEvent(EventApi.NetEvent.ON_OPEN, this.onGateWayReq);\n        this.registerEvent(\"webSocketIsOpen\", this.onGateWayReq);\n        this.registerEvent(makeKey(serverType.GateWay, protoPackage.gateway.Gate_Cmd_ID.Identity_Auth), this.onGateWayCall);\n        this.registerEvent(makeKey(serverType.Lobby, protoPackage.hall.HallCmd.LOGIN), this.onLoginReqCall);\n\n        this.registerEvent(\"serverOutTime\", this.serverOutTime);\n    }\n    serverOutTime() {\n        LobbyService.instance.close();\n        PanelHelp.showMsgBox(\"\", i18n.ERRORCODE.SERVERTIMEOUT);\n    }\n    /**\n     * 网关身份验证\n     */\n    onGateWayReq() {\n        if (User._token) {\n            PanelHelp.showLoading(i18n.WAIT.LOGIN);\n            let req = protoPackage.gateway.IdenityAuthReq.create({ token: User._token });\n            let buffer = protoPackage.gateway.IdenityAuthReq.encode(req).finish();\n            this.service.sendMsg(serverType.GateWay,\n                protoPackage.gateway.Gate_Cmd_ID.Identity_Auth,\n                buffer);\n        }\n    }\n    onGateWayCall(resData) {\n        G.Logger.log('token验证回调', resData);\n        if (resData.statusMsg.status == 0) {\n            let req = protoPackage.hallBase.Login.create({ appType: this.loginType });\n            let buffer = protoPackage.hallBase.Login.encode(req).finish();\n            //发送进入大厅\n            this.service.sendMsg(serverType.Lobby,\n                protoPackage.hall.HallCmd.LOGIN,\n                buffer);\n\n        } else { //token 验证失败\n            PanelHelp.hideLoading();\n            PanelHelp.showMsgBox(\"\", i18n.ERRORCODE.E20010001);\n            Manager.localStorage.cleanLoginCache();//清理登录缓存\n        }\n    }\n    /**\n     * 进入大厅回调\n     */\n    onLoginReqCall(resData) {\n        G.Logger.log('进入大厅回调', resData);\n        if (resData.statusMsg.status == 0) {\n            // if (resData.reConnect) {\n            //     this.reConnectGame(resData.reConnect);\n            // } else {\n            //     dispatch(LogicEvent.ENTER_HALL);\n            // }\n            User.resetData()\n            User.updateUserData(resData.user);\n            User._needSetPassword = resData.setPassword;\n            User._promoteUrl = resData.promoteUrl;\n            User._shareImgUrl = resData.shareImgUrl;\n            User._goldType = resData.newBee;\n            ShareTraceHelpder.checkNeedBindInviterId(true);\n            PanelHelp.showLoading(i18n.WAIT.LOADING, true)\n            dispatch(LogicEvent.ENTER_HALL, resData);\n\n        } else if (resData.statusMsg.status > 1000000) {\n            PanelHelp.showMsgBox('', resData.statusMsg.msg);\n        } else {\n            PanelHelp.hideLoading();\n            PanelHelp.showMsgBox(\"\", Manager.makeLanguage(\"ERRORCODE.\" + resData.statusMsg.status));\n        }\n    }\n\n    start() {\n        this.reqLoginText();\n\n        let loginCache = Manager.localStorage.getItem(\"loginCache\");\n        if (loginCache) {\n            this.autoLogin(loginCache)\n        }\n    }\n    onDestroy() {\n        super.onDestroy();\n        if (this.outTimeCall) {\n            clearTimeout(this.outTimeCall);\n        }\n    }\n    onClick(name, node) {\n        G.Logger.log(name);\n        switch (name) {\n            case 'btn_guest':\n                // dispatch(LogicEvent.ENTER_HALL);\n                this.touLogin();\n                break;\n            case 'btn_facebook':\n                //    PanelHelp.showTip('21314');\n                //    PanelHelp.showMsgBox('21314','234535');\n                // PanelHelp.showLoading('21314');\n                // PanelHelp.showDialog('1231','`133');\n                // window['platformUtil'].copyToClip('4545454');\n                // this.reqFaceBookAccLogin({fbId:'154176843082171'\n                //     ,fbName:'Jun Xiao'\n                //     ,fbHeadImg:'https://scontent-lax3-2.xx.fbcdn.net/v/t1.30497-1/cp0/c15.0.50.50a/p50x50/84628273_176159830277856_972693363922829312_n.jpg?_nc_cat=1&ccb=2&_nc_sid=12b3be&_nc_ohc=OtdmIKfFFJsAX_uqgvi&_nc_ht=scontent-lax3-2.xx&tp=27&oh=362c25faa8ea33acbcca1ec72ca42232&oe=5FBC8BB8'\n                // })touLogin\n                window['platformUtil'].loginToFacebook(true);\n                break;\n            case 'btn_phone':\n                dispatch(\"accountLoginIn\", this)\n                break;\n            case 'language':\n                Manager.uiManager.open({ type: LanguageChange, bundle: BUNDLE_RESOURCES });\n                break;\n\n            case 'service':\n                this.reqService();\n                break;\n            default:\n                break;\n        }\n    }\n\n    touLogin() {\n        //游客已经登录过使用老账号登录\n        let touristLoginCache = Manager.localStorage.getItem(\"touristLoginCache\");\n        if (touristLoginCache) {\n            Manager.localStorage.setItem('loginCache', touristLoginCache);\n            // this.autoLogin(touristLoginCache)\n            let msg = { uuid: touristLoginCache.openId }\n            this.loginType = LoginType.tourist;\n            this.reqLogin(msg);\n        } else {\n            let msg = { uuid: null }\n            msg.uuid = window['platformUtil'].getDeviceUUID();\n            this.loginType = LoginType.tourist;\n            this.reqLogin(msg);\n        }\n    }\n    /**\n     * facebook 登录\n     */\n    reqFaceBookAccLogin(data) {\n        if (!data) return\n        G.Logger.log('facebook 登录 = ', data);\n        this.loginType = LoginType.facebook;\n        let msg = {};\n        msg['uuid'] = data.fbId;\n        msg['nickName'] = data.fbName;\n        msg['headImgUrl'] = data.fbHeadImg;\n        this.reqLogin(msg);\n    }\n\n    getReqURL(msg) {\n        let url = '';\n        let code = ShareTraceHelpder.getInviterId();\n        let agentId = ShareTraceHelpder.getAgentId();\n        let deviceId = window['platformUtil'].getDeviceUUID();\n        let chanel = window['platformUtil'].getAppQuDaoId();\n        url += G.URLMgr.loginURL + 'login?inviterId=' + code + \"&agentId=\" + agentId + \"&\";\n        url += 'appType=' + this.loginType;\n        if (this.loginType == LoginType.tourist) {\n            url += '&openId=' + msg.uuid + '&signData=' + base64Encrypt(msg.uuid) + '&deviceId=' + deviceId + '&channel=' + chanel\n        } else if (this.loginType == LoginType.facebook) {\n            url += '&openId=' + msg.uuid + '&signData=' + base64Encrypt(msg.uuid) + '&unionid=' + msg.uuid + '&nickName=' + encodeURIComponent(msg['nickName']) + '&headImgUrl=' + encodeURIComponent(msg['headImgUrl']) + '&deviceId=' + deviceId + '&channel=' + chanel\n        } else if (this.loginType == LoginType.phone || this.loginType == LoginType.password) {\n            url += '&openId=' + msg.uuid + '&signData=' + base64Encrypt(msg.uuid) + '&deviceId=' + deviceId + '&channel=' + chanel + '&phone=' + msg.uuid + '&code=' + msg.code + '&password=' + base64Encrypt(msg.password || '') + '&area=' + encodeURIComponent(msg.areaCode);\n        }\n        G.Logger.log(\"url == \", url);\n        return url\n    }\n\n    /**\n     * 发送登录消息\n     * @param msg \n     */\n    reqLogin(msg) {\n        if (!msg) return\n        let url = this.getReqURL(msg);\n        PanelHelp.showLoading(i18n.WAIT.CONNECTSERVER);\n        let packge = new RequestPackge;\n        packge.data.url = url;\n        packge.send((netData) => {\n            G.Logger.log('Login = ', netData);\n            // PanelHelp.hideLoading();\n            if (netData.state == 0) {\n                let result = netData.result;\n                User._userID = result.userId;\n                User._token = result.token;\n                Config.webServiceCfg = result.serverList[0];\n                Config.headImageURL = result.picDomain;\n                LobbyService.instance.connect(Config.webServiceCfg.ip, Config.webServiceCfg.wsPort, Config.webServiceCfg.protocol);\n                // Config.uploadHeadURL = String.format(Config.uploadHeadURL, Config.webServiceCfg.ip);\n\n                let loginCache = {\n                    openId: msg.uuid,\n                    userId: result.userId,\n                    type: this.loginType,\n                    token: result.token,\n                    webServiceCfg: result.serverList[0],\n                    picDomain: result.picDomain\n                }\n\n                Manager.localStorage.setItem('loginCache', loginCache);\n\n                if (this.loginType == LoginType.tourist) {\n                    Manager.localStorage.setItem('touristLoginCache', loginCache);\n                }\n\n            } else if (netData.state > 1000000) {\n                PanelHelp.showMsgBox('', netData.msg);\n            } else {\n                PanelHelp.showMsgBox('', i18n.ERRORCODE[netData.state] || Manager.makeLanguage(\"ERRORCODE.11\"));\n            }\n\n        }, (err) => {\n            G.Logger.log('Login = ', err);\n            // PanelHelp.hideLoading();\n            // if (err.type == HttpErrorType.RequestError) {\n            //     PanelHelp.showMsgBox('',i18n.ERRORCODE.SERVERERROR+err.type);\n            // }else if (err.type == HttpErrorType.TimeOut) {\n            //     PanelHelp.showMsgBox('',i18n.ERRORCODE.SERVERTIMEOUT);\n            // } \n\n        });\n    }\n    /**\n     * 自动登陆\n     */\n    autoLogin(loginCache) {\n        PanelHelp.showLoading(i18n.WAIT.LOGIN);\n        Config.webServiceCfg = loginCache.webServiceCfg;\n        Config.headImageURL = loginCache.picDomain;\n\n        this.loginType = loginCache.type;\n        User._userID = loginCache.userId;\n        User._token = loginCache.token;\n        // Config.uploadHeadURL = String.format(Config.uploadHeadURL, Config.webServiceCfg.ip);\n        LobbyService.instance.connect(Config.webServiceCfg.ip, Config.webServiceCfg.wsPort, Config.webServiceCfg.protocol);\n    }\n\n    reqService() {\n        let packge = new RequestPackge;\n        packge.data.url = G.URLMgr.customerURL + \"/\" + window['platformUtil'].getAppQuDaoId();\n        packge.send((netData) => {\n            G.Logger.log(\"service data\", netData);\n            if (netData.statusMsg.status == 0) {\n                if (netData.showType == 1) {\n                    if (netData.customerHttpAddress) {\n                        window['platformUtil'].openURL(netData.customerHttpAddress)\n                    }\n                } else {\n                    Manager.uiManager.open({ type: ServiceView, bundle: BUNDLE_RESOURCES, args: [netData] });\n                }\n            } else {\n                PanelHelp.showMsgBox('', Manager.makeLanguage(\"ERRORCODE.\" + netData.status));\n            }\n        }, (err) => {\n            G.Logger.log('service err= ', err);\n        });\n\n    }\n\n    reqLoginText() {\n        let packge = new RequestPackge;\n        packge.data.url = G.URLMgr.loginURL + \"/loginText/config?channel=\" + window['platformUtil'].getAppQuDaoId();\n        packge.send((netData) => {\n            G.Logger.log(\"reqLoginText data\", netData);\n            if (netData.state == 0) {\n                if (netData.result.textContent) {\n                    var textContent = this.formatContent(netData.result.textContent);\n                }\n                if (netData.result.agreeName && netData.result.agreeUrl) {\n                    textContent += \" <color=#0fffff><on click='agreeUrlHandler'>\" + netData.result.agreeName + \"</on></color> \";\n                    this.node.getChildByName('loginText').getComponent(RichTextHandler).agreeUrl = netData.result.agreeUrl;\n                }\n                if (netData.result.termsName && netData.result.termsUrl) {\n                    textContent += \" <color=#0fffff><on click='termsUrlHandler'>\" + netData.result.termsName + \"</on></color> \";\n                    this.node.getChildByName('loginText').getComponent(RichTextHandler).termsUrl = netData.result.termsUrl;\n                }\n                this.node.getChildByName('loginText').getComponent(cc.RichText).string = textContent;\n            } else {\n                PanelHelp.showMsgBox('', Manager.makeLanguage(\"ERRORCODE.\" + netData.status));\n            }\n        }, (err) => {\n            G.Logger.log('reqLoginText err= ', err);\n        });\n    }\n\n    formatContent(content) {\n        let newContent = content.replace(/\\[/g, \"<\")\n        newContent = newContent.replace(/\\]/g, \">\")\n        return newContent\n    }\n}\n"]}