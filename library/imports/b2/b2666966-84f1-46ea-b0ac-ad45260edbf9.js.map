{"version":3,"sources":["assets/script/framework/log/Log.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/**\n * @description 日志封装\n */\n\nexport enum LogLevel {\n    LOG = 0X00000001,\n    DUMP = 0X00000010,\n    WARN = 0X00000100,\n    ERROR = 0X00001000,\n    ALL = LOG | DUMP | WARN | ERROR ,\n}\n\nclass _Log {\n    private _level: number = LogLevel.ALL;\n    private _forceNativeLog: boolean = false;\n    public get logLevel(): number {\n        return this._level;\n    }\n    public set logLevel(value: number) {\n        this._level = value;\n        this.bindLogHandler();\n    }\n\n    public get forceNativeLog(): boolean {\n        return this._forceNativeLog;\n    }\n    public set forceNativeLog(value: boolean) {\n        this._forceNativeLog = value;\n    }\n    /**@description 是否使用附加控制台方式,强制*/\n    private get isUsingConsole( ){\n        let win : any = window;\n        if ( win.vConsole ){\n            return true;\n        }\n        return false;\n    }\n\n    public get isDebug( ){\n        if ( this.isUsingConsole ){\n            return true;\n        }\n        if (cc.sys.isNative && this.forceNativeLog){\n            return true;\n        }\n        return CC_DEBUG;\n    }\n\n    private _bindLogHanler( usingCustom : boolean ){\n        if (usingCustom) {\n            G.Logger.log(\"--------using custom log--------\");\n            let backupcc = window[\"cc\"];\n            if (!backupcc.dump) {\n                window[\"cc\"].dump = this.dump.bind(this);\n            }\n            cc.log = this.log.bind(this);\n            cc.warn = this.warn.bind(this);\n            cc.error = this.error.bind(this);\n\n            if ( (this.logLevel & LogLevel.LOG) && this.isDebug ){\n                window[\"cc\"].time = console.time;\n                window[\"cc\"].timeEnd = console.timeEnd;\n            }else{\n                window[\"cc\"].time = this.doNothing.bind(this);\n                window[\"cc\"].timeEnd = this.doNothing.bind(this);\n            }\n        }\n        else {\n            G.Logger.log(`--------using default log--------`);\n\n            if (this.logLevel & LogLevel.DUMP) {\n                let backupcc = window[\"cc\"];\n                if (!backupcc.dump) {\n                    window[\"cc\"].dump = this.dump.bind(this);\n                }\n            } else {\n                cc.dump = this.doNothing.bind(this);\n            }\n\n            if (this.logLevel & LogLevel.WARN) {\n\n            } else {\n                cc.warn = this.doNothing.bind(this);\n            }\n\n            if ( (this.logLevel & LogLevel.LOG) && this.isDebug ){\n                window[\"cc\"].time = console.time;\n                window[\"cc\"].timeEnd = console.timeEnd;\n            }else{\n                window[\"cc\"].time = this.doNothing.bind(this);\n                window[\"cc\"].timeEnd = this.doNothing.bind(this);\n            }\n        }\n    }\n\n    private bindLogHandler() {\n        if ( this.isUsingConsole ){\n            this._bindLogHanler(true);\n        }\n        else{\n            if (cc.sys.isMobile) {\n                G.Logger.log(\"--------isMobile-----------\");\n                this._bindLogHanler(true);\n            }\n            else {\n                G.Logger.log(`--------other------os-----${cc.sys.os}`);\n                G.Logger.log(`isdebug : ${CC_DEBUG}`);\n                this._bindLogHanler(false);\n            }\n        }\n    }\n\n    public log() {\n        if (this.logLevel & LogLevel.LOG) {\n            if (!this.isDebug) return;\n            let backupLog = G.Logger.log || cc.log || window[\"log\"];\n            backupLog.call(_Log, `${this.getDateString()} INFO : ` + cc.js.formatStr.apply(cc, arguments), this.stack());\n        }\n    }\n\n    public dump() {\n        if (this.logLevel & LogLevel.DUMP) {\n            if (!this.isDebug) return;\n            let ret = this._dump(arguments[0], arguments[1], arguments[2], arguments[4]);\n            let backupLog = console.info || cc.log || window[\"info\"];\n            backupLog.call(_Log, `${this.getDateString()} DUMP : ` + cc.js.formatStr.apply(cc, [ret]), this.stack());\n        }\n    }\n\n    public warn() {\n        if (this.logLevel & LogLevel.WARN) {\n            if (!this.isDebug) return;\n            let backupLog = G.Logger.warn || cc.warn || window[\"warn\"];\n            backupLog.call(_Log, `${this.getDateString()} WARN : ` + cc.js.formatStr.apply(cc, arguments), this.stack());\n        }\n    }\n\n    public error() {\n        if (this.logLevel & LogLevel.ERROR) {\n            if (!this.isDebug) return;\n            if ( cc.sys.isNative ){\n                try {\n                    let backupLog = G.Logger.log || cc.log || window[\"log\"];\n                    backupLog.call(_Log, `${this.getDateString()} ERROR : ` + cc.js.formatStr.apply(cc, arguments), this.stack());\n                } catch (error) {\n                    G.Logger.log(`---error---`);\n                    G.Logger.error(error);\n                }\n            }else{\n                let backupLog = G.Logger.error || cc.error || window[\"error\"];\n                backupLog.call(_Log, `${this.getDateString()} ERROR : ` + cc.js.formatStr.apply(cc, arguments), this.stack());\n            }\n        }\n    }\n\n    private getDateString() {\n        var d = new Date();\n        var str = d.getHours() + \"\";\n        var timeStr = \"\";\n        timeStr += (str.length === 1 ? (\"0\" + str) : str) + \":\";\n\n        str = d.getMinutes() + \"\";\n        timeStr += (str.length === 1 ? (\"0\" + str) : str) + \":\";\n\n        str = d.getSeconds() + \"\";\n        timeStr += (str.length === 1 ? (\"0\" + str) : str) + \".\";\n\n        str = d.getMilliseconds() + \"\";\n        if (str.length === 1) str = \"00\" + str;\n        if (str.length === 2) str = \"0\" + str;\n        timeStr += str;\n\n        timeStr = '[' + timeStr + ']';\n\n        return timeStr;\n    }\n\n    private stack() {\n        var e = new Error();\n        var lines = e.stack.split(\"\\n\");\n        lines.shift();\n        var result = [];\n        lines.forEach((line) => {\n            line = line.substring(7);\n            var lineBreak = line.split(\" \");\n            if (lineBreak.length < 2) {\n                result.push(lineBreak[0]);\n            } else {\n                result.push({ [lineBreak[0]]: lineBreak[1] });\n            }\n        });\n        if ( result.length > 2 ){\n            let temp = \"\\n\" + JSON.stringify(result[2]);\n            return temp;\n        }else{\n            let temp = \"\";\n            return temp;\n        }\n    }\n\n\n    private _dump(var_value: any, var_name: string = \"unkown_dump_name\", level: number = 2, indent_by: number = 0): string {\n        if (level < 0) {\n            return \"...\"\n        }\n        indent_by = indent_by + 3;\n        let self = this;\n        let do_boolean = function (v: boolean) {\n            return 'Boolean(1) ' + (v ? 'TRUE' : 'FALSE');\n        };\n        let do_number = function (v: number) {\n            return v;\n        };\n        let do_string = function (v: string) {\n            return '\"' + v + '\"';\n        };\n        let do_object = function (v: any) {\n            if (v === null) {\n                return \"NULL(0)\";\n            }\n            let out = '';\n            let num_elem = 0;\n            let indent = '';\n\n            if (v instanceof Array) {\n                num_elem = v.length;\n                for (let d = 0; d < indent_by; ++d) {\n                    indent += ' ';\n                }\n                out = \"Array(\" + num_elem + \") \" + (indent.length === 0 ? '' : '') + \"[\";\n                for (let i = 0; i < num_elem; ++i) {\n                    out += \"\\n\" + (indent.length === 0 ? '' : '' + indent) + \"   [\" + i + \"] = \" + self._dump(v[i], '', level, indent_by);\n                }\n                out += \"\\n\" + (indent.length === 0 ? '' : '' + indent + '') + \"]\";\n                return out;\n            } else if (v instanceof Object) {\n                for (let d = 0; d < indent_by; ++d) {\n                    indent += ' ';\n                }\n                out = \"{\";\n                for (let p in v) {\n                    out += \"\\n\" + (indent.length === 0 ? '' : '' + indent) + \"   [\" + p + \"] = \" + self._dump(v[p], '', level, indent_by);\n                }\n                out += \"\\n\" + (indent.length === 0 ? '' : '' + indent + '') + \"}\";\n                return out;\n            } else {\n                return 'Unknown Object Type!';\n            }\n        };\n        var_name = typeof var_name === 'undefined' ? '' : var_name;\n        let out = '';\n        let v_name = '';\n        switch (typeof var_value) {\n            case \"boolean\":\n                v_name = var_name.length > 0 ? var_name + ' = ' : '';\n                out += v_name + do_boolean(var_value);\n                break;\n            case \"number\":\n                v_name = var_name.length > 0 ? var_name + ' = ' : '';\n                out += v_name + do_number(var_value);\n                break;\n            case \"string\":\n                v_name = var_name.length > 0 ? var_name + ' = ' : '';\n                out += v_name + do_string(var_value);\n                break;\n            case \"object\":\n                v_name = var_name.length > 0 ? var_name + ' => ' : '';\n                out += v_name + do_object(var_value);\n                break;\n            case \"function\":\n                v_name = var_name.length > 0 ? var_name + ' = ' : '';\n                out += v_name + \"Function\";\n                break;\n            case \"undefined\":\n                v_name = var_name.length > 0 ? var_name + ' = ' : '';\n                out += v_name + \"Undefined\";\n                break;\n            default:\n                out += v_name + ' is unknown type!';\n        }\n        return out;\n    }\n\n    private doNothing() {\n\n    }\n}\n\nexport let Log = new _Log();\n"]}