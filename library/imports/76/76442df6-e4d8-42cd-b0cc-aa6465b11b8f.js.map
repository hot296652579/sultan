{"version":3,"sources":["assets/script/common/language/LanguageSprite.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ENABLE_CHANGE_LANGUAGE } from \"../../framework/base/Defines\";\nimport EventComponent from \"../../framework/base/EventComponent\";\nimport { EventApi } from \"../../framework/event/EventApi\";\nimport { Manager } from \"../manager/Manager\";\n\n\nconst { ccclass, property, menu } = cc._decorator;\n\n/**\n * 多语言的图片初始化\n */\n@ccclass\n@menu(\"多语言/sprite\")\nexport default class LanguageSprite extends EventComponent {\n\n    @property({\n        displayName: \"英文(默认)\",\n        type: cc.SpriteFrame\n    })\n    en: cc.SpriteFrame = null;\n\n    @property({\n        displayName: \"中文\",\n        type: cc.SpriteFrame\n    })\n    zh: cc.SpriteFrame = null;\n\n\n    @property({\n        displayName: \"印地语\",\n        type: cc.SpriteFrame\n    })\n    hi: cc.SpriteFrame = null;\n\n    onLoad() {\n        super.onLoad()\n        if (Manager.language.getLanguage() === cc.sys.LANGUAGE_ENGLISH) {\n            if (this.en) this.getComponent(cc.Sprite).spriteFrame = this.en;\n        } else if (Manager.language.getLanguage() === cc.sys.LANGUAGE_HINDI) {\n            if (this.hi) this.getComponent(cc.Sprite).spriteFrame = this.hi;\n        }\n    }\n    protected bindingEvents() {\n        super.bindingEvents();\n        if (ENABLE_CHANGE_LANGUAGE) {\n            this.registerEvent(EventApi.CHANGE_LANGUAGE, this.onLanguageChange);\n        }\n    }\n    /**\n    * 监听切换语言事件\n    */\n    onLanguageChange(language) {\n        // 容错处理\n        if(!this || !cc.isValid(this) || !this.getComponent(cc.Sprite) || !cc.isValid(this.getComponent(cc.Sprite))) {\n            return;\n        }\n\n        if (language == cc.sys.LANGUAGE_ENGLISH) {\n            if (this.en) this.getComponent(cc.Sprite).spriteFrame = this.en;\n            else G.Logger.warn(\"未配置多语言\")\n        } else if (language == cc.sys.LANGUAGE_CHINESE) {\n            if (this.zh) this.getComponent(cc.Sprite).spriteFrame = this.zh;\n            else G.Logger.warn(\"未配置多语言\")\n        } else if (language == cc.sys.LANGUAGE_HINDI) {\n            if (this.hi) this.getComponent(cc.Sprite).spriteFrame = this.hi;\n            else G.Logger.warn(\"未配置多语言\")\n        }\n    }\n\n    // update (dt) {}\n}\n"]}