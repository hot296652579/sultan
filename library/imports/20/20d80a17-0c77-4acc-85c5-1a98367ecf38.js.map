{"version":3,"sources":["assets/games/crash/script/view/CrashCheckView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,iGAAyE;AACzE,uEAAoE;AACpE,6EAA0E;AAG1E,uEAAmF;AAEnF,kFAAkF;AAClF,0EAAuE;AAGvE,oFAA4D;AAE5D,uDAAoD;AACpD,kEAA0C;AAE1C,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAI5C,IAAqB,cAAc,GAAnC,MAAqB,cAAe,SAAQ,gBAAM;IAAlD;;QAIY,aAAQ,GAAe,IAAI,CAAC;QAG5B,kBAAa,GAAkB,IAAI,CAAC;QAE5C,OAAO;QACC,eAAU,GAAc,IAAI,CAAC;QACrC,MAAM;QACE,YAAO,GAAW,IAAI,CAAC;IAqDnC,CAAC;IAnDU,MAAM,CAAC,YAAY;QACtB,OAAO,wBAAwB,CAAC;IACpC,CAAC;IAED,MAAM;QACF,KAAK,CAAC,MAAM,EAAE,CAAC;QAEf,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,QAAQ,EAAE,CAAC;IAEpB,CAAC;IAED,KAAK;IAEL,CAAC;IAEM,IAAI,CAAC,IAAY;QACpB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAExB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,yBAAW,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC;IAC/E,CAAC;IAEO,QAAQ;QACZ,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAEO,QAAQ;IAEhB,CAAC;IAEO,WAAW;QACf,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;IACzI,CAAC;IAED,aAAa;QACT,KAAK,CAAC,aAAa,EAAE,CAAC;QAEtB,IAAI,gCAAsB,EAAE;YACxB,IAAI,CAAC,aAAa,CAAC,mBAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACvE;IAEL,CAAC;IAED,gBAAgB;QACZ,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,iBAAO,CAAC,YAAY,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC,CAAC;IAEzF,CAAC;CAEJ,CAAA;AA7DG;IADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;gDACe;AAGpC;IADC,QAAQ,CAAC,uBAAa,CAAC;qDACoB;AAP3B,cAAc;IAFlC,OAAO;IACP,0BAAa,CAAC,2BAAY,CAAC,QAAQ,CAAC;GAChB,cAAc,CAiElC;kBAjEoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import ListView from \"../../../../script/common/component/ListView\";\nimport NoneItem from \"../../../../script/common/item/NoneItem\";\nimport TitleItemPage from \"../../../../script/common/item/TitleItemPage\";\nimport { Manager } from \"../../../../script/common/manager/Manager\";\nimport { LobbyService } from \"../../../../script/common/net/LobbyService\";\nimport TypeUtils from \"../../../../script/common/utils/TypeUtils\";\nimport AppData from \"../../../../script/data/AppData\";\nimport { ENABLE_CHANGE_LANGUAGE } from \"../../../../script/framework/base/Defines\";\nimport { IController } from \"../../../../script/framework/controller/Controller\";\nimport { injectService } from \"../../../../script/framework/decorator/Decorators\";\nimport { EventApi } from \"../../../../script/framework/event/EventApi\";\nimport DateUtils from \"../../../../script/framework/extentions/DateUtils\";\nimport { MST } from \"../../../../script/framework/external/protoc\";\nimport UIView from \"../../../../script/framework/ui/UIView\";\nimport PanelHelp from \"../../../../script/msgbox/PanelHelp\";\nimport { CrashConfig } from \"../config/CrashConfig\";\nimport CrashData from \"../data/CrashData\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class CrashCheckView extends UIView implements IController<LobbyService> {\n    service: LobbyService;\n\n    @property(cc.WebView)\n    private wbvCheck: cc.WebView = null;\n\n    @property(TitleItemPage)\n    private titleItemPage: TitleItemPage = null;\n\n    // 游戏数据\n    private _crashData: CrashData = null;\n    // 游戏号\n    private _gameNo: string = null;\n\n    public static getPrefabUrl() {\n        return \"prefabs/CrashCheckView\";\n    }\n\n    onLoad() {\n        super.onLoad();\n\n        this.initData();\n        this.initView();\n\n    }\n\n    start() {\n\n    }\n\n    public show(args?: any[]): void {\n        super.show(args);\n        this.onLanguageChange();\n\n        this._gameNo = args[0];\n        this.wbvCheck.url = `${CrashConfig.CHECK_SHA256_URL}${this.getURLParam()}`;\n    }\n\n    private initData(): void {\n        this._crashData = G.DataMgr.get(CrashData);\n        this._gameNo = null;\n    }\n\n    private initView(): void {\n\n    }\n\n    private getURLParam(): string {\n        return `${this._crashData.totalRecordData.SeedInfo.ServerSeed}${this._crashData.totalRecordData.SeedInfo.PublicSeed}${this._gameNo}`;\n    }\n\n    bindingEvents() {\n        super.bindingEvents();\n\n        if (ENABLE_CHANGE_LANGUAGE) {\n            this.registerEvent(EventApi.CHANGE_LANGUAGE, this.onLanguageChange);\n        }\n\n    }\n\n    onLanguageChange() {\n        this.titleItemPage.languagePageName(Manager.makeLanguage(\"labRecordPageName\", true));\n\n    }\n\n}\n"]}