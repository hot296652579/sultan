{"version":3,"sources":["assets/games/crash/script/view/CrashTotalRecordView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ListView from \"../../../../script/common/component/ListView\";\nimport NoneItem from \"../../../../script/common/item/NoneItem\";\nimport TitleItemPage from \"../../../../script/common/item/TitleItemPage\";\nimport { Manager } from \"../../../../script/common/manager/Manager\";\nimport { LobbyService } from \"../../../../script/common/net/LobbyService\";\nimport TypeUtils from \"../../../../script/common/utils/TypeUtils\";\nimport AppData from \"../../../../script/data/AppData\";\nimport { ENABLE_CHANGE_LANGUAGE } from \"../../../../script/framework/base/Defines\";\nimport { IController } from \"../../../../script/framework/controller/Controller\";\nimport { injectService } from \"../../../../script/framework/decorator/Decorators\";\nimport { EventApi } from \"../../../../script/framework/event/EventApi\";\nimport DateUtils from \"../../../../script/framework/extentions/DateUtils\";\nimport { MST } from \"../../../../script/framework/external/protoc\";\nimport UIView from \"../../../../script/framework/ui/UIView\";\nimport PanelHelp from \"../../../../script/msgbox/PanelHelp\";\n\n// 每页数量\nconst PAGE_COUNT: number = 20;\n// 一天毫秒\nconst ONE_DAY_MS: number = 86400000;\n// 默认首次请求分页 ID\nconst DEFAULT_FIRST_ID: number = -1;\n// 最大显示前几天数据\nconst MAX_BEFORE_DAY: number = 7;\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class CrashTotalRecordView extends UIView implements IController<LobbyService> {\n    service: LobbyService;\n\n    @property(cc.Button)\n    private btnLeft: cc.Button = null;\n\n    @property(cc.Label)\n    private labDate: cc.Label = null;\n\n    @property(cc.Button)\n    private btnRight: cc.Button = null;\n\n    @property(cc.Label)\n    private labCurrServerSeed: cc.Label = null;\n\n    @property(cc.Label)\n    private labCurrServerSeedValue: cc.Label = null;\n\n    @property(cc.Label)\n    private labPrevServerSeed: cc.Label = null;\n\n    @property(cc.Label)\n    private labPrevServerSeedValue: cc.Label = null;\n\n    @property(cc.Label)\n    private labPublicSeed: cc.Label = null;\n\n    @property(cc.Label)\n    private labPublicSeedValue: cc.Label = null;\n\n    @property(ListView)\n    private lsvRecord: ListView = null;\n\n    @property(TitleItemPage)\n    private titleItemPage: TitleItemPage = null;\n\n    @property(NoneItem)\n    private noneItem: NoneItem = null;\n\n    // App 数据\n    private _appData: AppData = null;\n    // 当前查找时间戳\n    private _currFindTimestamp: number = null;\n    // 是否最后一页\n    private _isLastPage: boolean = false;\n    // 当天历史数据列表\n    private _todayRecordDataList: MST.ICrashRecordInfo[] = null;\n\n    public static getPrefabUrl() {\n        return \"prefabs/CrashTotalRecordView\";\n    }\n\n    onLoad() {\n        super.onLoad();\n\n        this.initData();\n        this.initView();\n\n        this.C2M_CrashHashRecord_Req(this._currFindTimestamp);\n    }\n\n    start() {\n\n    }\n\n    public show(args?: any[]): void {\n        super.show(args);\n\n        this.onLanguageChange();\n    }\n\n    private initData(): void {\n        this._appData = G.DataMgr.get(AppData);\n        this._currFindTimestamp = DateUtils.getDayTimestamp(this._appData.getClientTimestamp());\n        this._isLastPage = false;\n        this._todayRecordDataList = [];\n    }\n\n    private initView(): void {\n        this.btnRight.interactable = false;\n        this.labDate.string = DateUtils.getYMD(this._currFindTimestamp, \"-\");\n        this.labCurrServerSeedValue.string = \"\";\n        this.labPrevServerSeedValue.string = \"\";\n        this.labPublicSeedValue.string = \"\";\n        this.noneItem.node.active = false;\n    }\n\n    bindingEvents() {\n        super.bindingEvents();\n\n        if (ENABLE_CHANGE_LANGUAGE) {\n            this.registerEvent(EventApi.CHANGE_LANGUAGE, this.onLanguageChange);\n        }\n\n        this.registerEvent(\"Event_M2C_CrashHashRecord_Res\", this.onEvent_M2C_CrashHashRecord_Res);\n\n    }\n\n    onLanguageChange() {\n        this.titleItemPage.languagePageName(Manager.makeLanguage(\"labRecordPageName\", true));\n        this.labCurrServerSeed.language = Manager.makeLanguage(\"labCurrServerSeed\", true);\n        this.labPrevServerSeed.language = Manager.makeLanguage(\"labPrevServerSeed\", true);\n        this.labPublicSeed.language = Manager.makeLanguage(\"labPublicSeed\", true);\n\n    }\n\n    private refreshLeftRightBtn(): void {\n        if (this._currFindTimestamp >= DateUtils.getDayTimestamp(this._appData.getClientTimestamp())) {\n            this.btnRight.interactable = false;\n        } else {\n            this.btnRight.interactable = true;\n        }\n\n        this.btnLeft.interactable = true;\n        if (this._currFindTimestamp <= DateUtils.getTimestampByDate(DateUtils.getDayBeforeAfter(this._appData.getClientTimestamp(), -(MAX_BEFORE_DAY - 1)))) {\n            // && this._todayRecordDataList.length <= 0) {\n            this.btnLeft.interactable = false;\n        }\n\n    }\n\n    private getLastRecordId(): number {\n        let id: number = DEFAULT_FIRST_ID;\n        if (this._todayRecordDataList.length > 0) {\n            let lastRecordData: MST.ICrashRecordInfo = this._todayRecordDataList[this._todayRecordDataList.length - 1];\n            id = lastRecordData.ID;\n        }\n        return id;\n    }\n\n    private clickPrevDayData(): void {\n        let prevTimestamp: number = this._currFindTimestamp - ONE_DAY_MS;\n        this._todayRecordDataList.length = 0;\n        this._isLastPage = false;\n        this.C2M_CrashHashRecord_Req(prevTimestamp);\n    }\n\n    private clickNextDayData(): void {\n        let nextTimestamp: number = this._currFindTimestamp + ONE_DAY_MS;\n        this._todayRecordDataList.length = 0;\n        this._isLastPage = false;\n        this.C2M_CrashHashRecord_Req(nextTimestamp);\n    }\n\n    /**\n     * 查询历史记录\n     * @param timestamp {number} 查询哪天时间戳\n     */\n    private C2M_CrashHashRecord_Req(timestamp: number, id?: number): void {\n        if (TypeUtils.isNull(id)) {\n            id = DEFAULT_FIRST_ID;\n        }\n\n        let data: MST.IC2M_CrashHashRecord_Req = {\n            RpcId: Manager.netManager.getNewSeqId(),\n            Date: DateUtils.getYMD(timestamp, \"-\"),\n            ID: id,\n            PageNumber: PAGE_COUNT,\n        }\n        let req = MST.C2M_CrashHashRecord_Req.create(data);\n        let buffer = MST.C2M_CrashHashRecord_Req.encode(req).finish();\n        this.service.sendMsg(MST.C2M_CrashHashRecord_Req, MST.OuterOpcode_CrashGame.C2M_CrashHashRecord_Req, buffer);\n    }\n\n    private onEvent_M2C_CrashHashRecord_Res(data: MST.IM2C_CrashHashRecord_Res): void {\n        if (data.Error !== 0) {\n            PanelHelp.showErrTip(data.Error);\n            return;\n        }\n\n        if (data.SeedInfo.ServerSeed.length <= 0) {\n            this.labCurrServerSeedValue.language = Manager.makeLanguage(\"labCurrServerSeedValue\", true);\n        } else {\n            this.labCurrServerSeedValue.string = data.SeedInfo.ServerSeed;\n        }\n\n        if (data.ID === DEFAULT_FIRST_ID && data.RecordInfo.length <= 0) {\n            this.noneItem.node.active = true;\n            this.lsvRecord.node.active = false;\n        } else {\n            this.noneItem.node.active = false;\n            this.lsvRecord.node.active = true;\n        }\n\n        // 是否最后一页\n        this._isLastPage = data.RecordInfo.length < PAGE_COUNT;\n\n        this.labDate.string = data.Date;\n        this._currFindTimestamp = DateUtils.getTimestampByDate(data.Date);\n\n        this.labPrevServerSeedValue.string = data.SeedInfo.ServerSeedHash;\n        this.labPublicSeedValue.string = data.SeedInfo.PublicSeed;\n\n        if (data.ID === DEFAULT_FIRST_ID) {\n            this._todayRecordDataList = [].concat(data.RecordInfo);\n            this.lsvRecord.set(data.RecordInfo);\n        } else {\n            this._todayRecordDataList = this._todayRecordDataList.concat(data.RecordInfo);\n            this.lsvRecord.insert(data.RecordInfo);\n        }\n\n        this.refreshLeftRightBtn();\n    }\n\n    public onClick(ButtonName: any, ButtonNode: any, data?: string): void {\n        switch (ButtonName) {\n            case \"btnLeft\":\n                this.clickPrevDayData();\n                break;\n            case \"btnRight\":\n                this.clickNextDayData();\n                break;\n            case \"btnClose\":\n                this.close();\n                break;\n        }\n    }\n\n    /**\n     * 上拉回调\n     * @param target \n     */\n    private onPullTop(target: ListView): void {\n        this.C2M_CrashHashRecord_Req(this._currFindTimestamp);\n    }\n\n    /**\n     * 下拉回调\n     */\n    private onPullBottom(target: ListView): void {\n        if (this._isLastPage) {\n            G.Logger.log(\"Crash 浏览总历史记录 已是最后一页 无需请求翻页\");\n            return;\n        }\n        this.C2M_CrashHashRecord_Req(this._currFindTimestamp, this.getLastRecordId());\n    }\n\n}\n"]}