{"version":3,"sources":["assets/script/wallet/AttractNewView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameConfig } from \"../common/base/HotUpdate\";\nimport { Config } from \"../common/config/Config\";\nimport { dispatchEnterComplete, LogicEvent, LogicType } from \"../common/event/LogicEvent\";\nimport { i18n } from \"../common/language/LanguageImpl\";\nimport { gameManager } from \"../common/manager/GameManager\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { CommonMessage, protoPackage, serverType } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { BUNDLE_RESOURCES } from \"../framework/base/Defines\";\nimport { IController } from \"../framework/controller/Controller\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport { EventApi } from \"../framework/event/EventApi\";\nimport { HttpErrorType, RequestPackge } from \"../framework/net/HttpClient\";\nimport UIView from \"../framework/ui/UIView\";\nimport { User } from \"../global/User\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\nimport { ShareTraceHelpder } from \"../Helpder/shareTrace/ShareTraceHelpder\";\nimport LanguageChange from \"../common/language/LanguageChange\";\nimport ServiceView from \"../service/ServiceView\";\nimport { UIManager } from \"../framework/base/UIManager\";\nimport AkunView from \"../akun/AkunView\";\nimport HallNewView from \"../hall/HallNewView\";\nimport LoginNewView from \"../login/LoginNewView\";\nimport CreateAccountView from \"./CreateAccountView\";\nimport { MST } from \"../framework/external/protoc\";\nimport UserData from \"../data/UserData\";\nimport NumberUtils from \"../common/utils/NumberUtils\";\nimport RechargeData from \"../data/RechargeData\";\nimport BindPhoneView from \"../common/bindItemView/BindPhoneView\";\n\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\n@injectService(LobbyService.instance)\nexport default class AttractNewView extends UIView implements IController<LobbyService> {\n    service: LobbyService;\n\n    @property(cc.Node)\n    noWithdrawal: cc.Node = null;\n    @property(cc.Node)\n    bandInfoNode: cc.Node = null;\n    @property(cc.Label)\n    labGold: cc.Label = null;\n    @property(cc.Label)\n    labTelephone: cc.Label = null;\n    @property(cc.Label)\n    labEmail: cc.Label = null;\n\n    @property(cc.Node)\n    DocNode: cc.Node = null;\n\n    @property(cc.Node)\n    btnWithdrawal: cc.Node = null;\n\n    @property(cc.EditBox)\n    rpEditBox: cc.EditBox = null;\n\n    @property(cc.EditBox)\n    codeEditBox: cc.EditBox = null;\n    m_codeStr: string = \"\";\n\n    m_attractStr: string = '';\n    canAttract: boolean = false;\n\n    _2d_sprite_mat: string = '2d-sprite';\n    _2d_gray_mat: string = '2d-gray-sprite';\n\n    // 用户数据\n    private _userData: UserData = null;\n    private _rechargeData: RechargeData = null;\n\n    public static getPrefabUrl() {\n        return \"wallet/prefabes/AttractNewView\";\n    }\n\n    onLoad() {\n        super.onLoad();\n        // this.audioHelper.playMusic(\"common/audio/login_bgm\", BUNDLE_RESOURCES);\n        this.bindEvents();\n    }\n\n    private initData(): void {\n        this._userData = G.DataMgr.get(UserData);\n        this._rechargeData = G.DataMgr.get(RechargeData);\n    }\n\n    bindEvents() {\n        this.rpEditBox.node.on(\"editing-did-began\", this.onDidBegan, this);\n        this.rpEditBox.node.on(\"editing-did-ended\", this.onDidEnded, this);\n        this.rpEditBox.node.on(\"editing-return\", this.onDidEnded, this);\n        this.rpEditBox.node.on(\"text-changed\", this.onTextChanged, this);\n\n        this.codeEditBox.node.on(\"editing-did-began\", this.onCodeBegan, this);\n        this.codeEditBox.node.on(\"editing-did-ended\", this.onCodeEnded, this);\n        this.codeEditBox.node.on(\"editing-return\", this.onCodeEnded, this);\n        this.codeEditBox.node.on(\"text-changed\", this.onCodeChanged, this);\n    }\n\n    bindingEvents() {\n        super.bindingEvents();\n        this.registerEvent('L2C_Withdraw_Res', this.onL2C_Withdraw_Res);\n        this.registerEvent('L2C_GetBankCardInfo_Res', this.onL2C_GetBankCardInfo_Res);\n        this.registerEvent(\"Event_M2C_GoldChange_Mes\", this.refreshUser);\n        this.registerEvent(\"Event_L2C_BindBankCard_Res\", this.requestBankInfo);\n        this.registerEvent('Event_S2C_BindPhone', this.onEvent_S2C_BindPhone);\n        this.registerEvent('Event_S2C_GetCheckCode', this.onEvent_S2C_GetCheckCode);\n    }\n\n    show() {\n        this.initData();\n        this.initView();\n        this.requestBankInfo();\n        this.requestGetBankList();\n        this.refreshUser();\n        this.refreshPhoneNo();\n        this.refreshEmail();\n    }\n\n    initView() {\n        this.btnWithdrawal.getComponent(cc.Button).enabled = false;\n        let material: cc.Material = cc.Material.getBuiltinMaterial(this._2d_gray_mat);\n        let sp = this.btnWithdrawal.getComponent(cc.Sprite);\n        sp.setMaterial(0, material);\n\n        let rechargeData = this._rechargeData;\n        if (!rechargeData.minWithAmount || !rechargeData.maxWithAmount) return;\n\n        let minWithAmount = rechargeData.minWithAmount;\n        let maxWithAmount = rechargeData.maxWithAmount;\n        this.rpEditBox.placeholder = `jarak:Rp${minWithAmount}-${maxWithAmount}`;\n    }\n\n    requestGetBankList() {\n        let req = MST.C2L_GetBankList_Req.create({\n            RpcId: Manager.netManager.getNewSeqId(),\n            index: 0,\n            limit: 6\n        });\n        let buffer = MST.C2L_GetBankList_Req.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2L_GetBankList_Req, MST.OuterOpcode_Lobby.C2L_GetBankList_Req, buffer);\n    }\n\n    requestBankInfo() {\n        let req = MST.C2L_GetBankCardInfo_Req.create({\n            RpcId: Manager.netManager.getNewSeqId(),\n        });\n        let buffer = MST.C2L_GetBankCardInfo_Req.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2L_GetBankCardInfo_Req, MST.OuterOpcode_Lobby.C2L_GetBankCardInfo_Req, buffer);\n    }\n\n    onEvent_S2C_BindPhone() {\n        this.refreshPhoneNo();\n    }\n\n    refreshPhoneNo() {\n        let userData = this._userData;\n        let phone = userData.BindPhone;\n        if (phone)\n            this.labTelephone.string = phone;\n    }\n\n    refreshEmail() {\n        let userData = this._userData;\n        let email = userData.email;\n        if (email)\n            this.labEmail.string = email;\n    }\n\n    onClick(name, node) {\n        switch (name) {\n            case 'btnClose':\n                this.close();\n            case 'btnCloseDoc':\n                this.DocNode.active = false;\n                break;\n            case 'btnArrange':\n                Manager.uiManager.open({ type: CreateAccountView, bundle: BUNDLE_RESOURCES });\n                break;\n            case 'btnChange':\n                Manager.uiManager.open({ type: CreateAccountView, bundle: BUNDLE_RESOURCES });\n                break;\n            case 'btnUpdateTel':\n                Manager.uiManager.open({ type: BindPhoneView, bundle: BUNDLE_RESOURCES });\n                break;\n            case 'btnWithdrawal':\n                this.withdrawHanlder();\n                break;\n            case 'btnGetCode':\n                this.clickGetCode();\n                break;\n            case 'labNumberOfOpen':\n                this.DocNode.active = true;\n                break;\n        }\n    }\n\n    clickGetCode() {\n        let userdata = this._userData;\n        let email = userdata.email;\n        if (email) {\n            this.requestGetCheckCode();\n        } else {\n            // NOTBINDEMAIL\n            PanelHelp.showTip(i18n.TIPS.NOTBINDEMAIL);\n        }\n    }\n\n    onEvent_S2C_GetCheckCode() {\n        PanelHelp.showTip(i18n.REGISTER.PLEASECHECK);\n    }\n\n    private onCodeBegan(target: cc.EditBox): void {\n        this.codeEditBox.string = this.m_codeStr;\n    }\n\n    private onCodeEnded(target: cc.EditBox): void {\n        if (this.m_codeStr.length <= 0) {\n            return;\n        }\n\n        this.codeEditBox.string = this.m_codeStr;\n    }\n\n    private onCodeChanged(content: cc.EditBox): void {\n        this.m_codeStr = content.string;\n    }\n\n    requestGetCheckCode() {\n        let userData = this._userData;\n        let username = userData.email;\n        let req = MST.C2S_GetCheckCode.create({\n            serial: Manager.netManager.getNewSeqId(),\n            username\n        });\n        let buffer = MST.C2S_GetCheckCode.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2S_GetCheckCode, MST.OuterOpcode_Lobby.C2S_GetCheckCode, buffer);\n    }\n\n    withdrawHanlder() {\n        if (this.canAttract) {\n            let rechargeData = this._rechargeData;\n            let bandBankCardInfo = rechargeData.bandBankCardInfo;\n\n            if (!bandBankCardInfo) return;\n\n            let attractNum = Number(this.m_attractStr);\n            let bankNo = bandBankCardInfo.bankNo;\n            let bankCode = bandBankCardInfo.bankCode;\n            let name = bandBankCardInfo.bankUserName;\n            let chips = attractNum * 100;\n\n            let req = MST.C2L_Withdraw_Req.create({\n                RpcId: Manager.netManager.getNewSeqId(),\n                chips,\n                bankNo,\n                bankCode,\n                name\n            });\n            let buffer = MST.C2L_Withdraw_Req.encode(req).finish();\n            LobbyService.instance.sendMsg(MST.C2L_Withdraw_Req, MST.OuterOpcode_Lobby.C2L_Withdraw_Req, buffer);\n        }\n    }\n\n    onL2C_Withdraw_Res() {\n        PanelHelp.showTip(i18n.TIPS.RECHARGESUCCESS);\n    }\n\n    refreshUser() {\n        if (this._userData.isLogined()) {\n            this.labGold.string = NumberUtils.converToC(Number(this._userData.info.Gold));\n        }\n    }\n\n    onL2C_GetBankCardInfo_Res() {\n        let rechargeData = G.DataMgr.get(RechargeData);\n        let bandBankCardInfo = rechargeData.bandBankCardInfo;\n        this.bandInfoNode.active = false;\n        this.noWithdrawal.active = false;\n        if (bandBankCardInfo) {\n            this.bandInfoNode.active = true;\n            this.refreshBandInfo();\n        } else {\n            this.noWithdrawal.active = true;\n        }\n    }\n\n    refreshBandInfo() {\n        let rechargeData = G.DataMgr.get(RechargeData);\n        let bandBankCardInfo = rechargeData.bandBankCardInfo;\n        let bandInfoNode = this.bandInfoNode;\n        let bankNo = bandInfoNode.getChildByName('bankNo');\n        let bankCode = bandInfoNode.getChildByName('bankCode');\n        bankNo.getComponent(cc.Label).string = bandBankCardInfo.bankNo;\n        bankCode.getComponent(cc.Label).string = bandBankCardInfo.bankCode;\n    }\n\n    private onDidBegan(target: cc.EditBox): void {\n        this.rpEditBox.string = this.m_attractStr;\n    }\n\n    private onDidEnded(target: cc.EditBox): void {\n        if (this.m_attractStr.length <= 0) {\n            return;\n        }\n\n        this.rpEditBox.string = this.m_attractStr;\n        this.checkIsAttract();\n    }\n\n    checkIsAttract() {\n        let rechargeData = G.DataMgr.get(RechargeData);\n        if (!rechargeData.minWithAmount || !rechargeData.maxWithAmount) return;\n\n        let minWithAmount = rechargeData.minWithAmount;\n        let maxWithAmount = rechargeData.maxWithAmount;\n        let attractNum = Number(this.m_attractStr);\n        if (attractNum) {\n            if (attractNum >= minWithAmount && attractNum <= maxWithAmount) {\n                this.btnWithdrawal.getComponent(cc.Button).enabled = true;\n                let material: cc.Material = cc.Material.getBuiltinMaterial(this._2d_sprite_mat);\n                let sp = this.btnWithdrawal.getComponent(cc.Sprite);\n                sp.setMaterial(0, material);\n\n                this.canAttract = true;\n            }\n        }\n    }\n\n    private onTextChanged(content: cc.EditBox): void {\n        this.m_attractStr = content.string;\n    }\n\n    onDestroy() {\n        super.onDestroy();\n    }\n\n}\n"]}