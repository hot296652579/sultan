{"version":3,"sources":["assets/script/framework/base/Defines.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/*\n * @Author: your name\n * @Date: 2019-11-20 19:04:21\n * @LastEditTime: 2020-04-01 18:06:09\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: \\ddz\\assets\\framework\\loader\\Defines.ts\n */\nimport UIView, { UIClass } from \"../ui/UIView\";\n\n/**\n * @description 资源加载缓存数据 \n */\nexport enum ResourceCacheStatus {\n    /**@description 无状态 */\n    NONE,\n    /**@description 等待释放 */\n    WAITTING_FOR_RELEASE,\n}\n\n/**@description 资源类型 */\nexport enum ResourceType {\n    /**@description 本地 */\n    Local,\n    /**@description 远程资源 */\n    Remote,\n}\n\n/**@description 资源信息 */\nexport class ResourceInfo {\n    url: string = \"\";\n    type: typeof cc.Asset = null;\n    data: cc.Asset = null;\n    assetUrl: string = \"\";\n    /**@description 是否常驻内存，远程加载资源有效 */\n    retain: boolean = false;\n    bundle: BUNDLE_TYPE = null;\n}\n\nexport class ResourceCacheData {\n\n    /**@description 加载资源url地址 */\n    url: string = \"\";\n    /**@description 是否已经加载完成 */\n    isLoaded: boolean = false;\n    /**@description 加载完成数据 \n     * cc.Prefab \n     * cc.SpriteAtlas \n     * cc.SpriteFrame \n     * cc.AudioClip \n     * cc.Font \n     * sp.SkeletonData \n     * cc.ParticleAsset \n     * cc.Texture2D\n     * cc.JsonAsset\n     * */\n    data: cc.Asset = null;\n\n    /**@description 加载资源类型 */\n    assetType: typeof cc.Asset = null;\n\n    status = ResourceCacheStatus.NONE;\n\n    bundle: BUNDLE_TYPE = null;\n\n    /**@description 在加载过程中有地方获取,加载完成后再回调 */\n    getCb: ((data: any) => void)[] = [];\n\n    /**@description 完成回调，在资源正在加载过程中，又有其它地方调用加载同一个资源，此时需要等待资源加载完成，统一回调 */\n    finishCb: ((data: any) => void)[] = [];\n\n    /**@description jsb下载完成回调 */\n    jsbFinishCb: (data: any) => void = null;\n\n    /**@description 远程下载资源保存本地的物理路径，仅在JSB情况下有效 */\n    jsbStoragePath: string = null;\n\n    /**@description 默认为本地资源 */\n    resourceType: ResourceType = ResourceType.Local;\n\n    public doGet(data) {\n        for (let i = 0; i < this.getCb.length; i++) {\n            if (this.getCb[i]) this.getCb[i](data);\n        }\n        this.getCb = [];\n    }\n\n    public doFinish(data) {\n        for (let i = 0; i < this.finishCb.length; i++) {\n            if (this.finishCb[i]) this.finishCb[i](data);\n        }\n        this.finishCb = [];\n    }\n\n    public doJsbFinish(data) {\n        if (this.jsbFinishCb) {\n            this.jsbFinishCb(data);\n        }\n        this.jsbFinishCb = null;\n    }\n}\n\nexport interface ResourceData {\n    /**@description resources 目录url 与 type 必须成对出现*/\n    url?: string,\n    /**@description 资源类型 与 url 必须成对出现 目前支持预加载的资源有cc.Prefab | cc.SpriteFrame | sp.SkeletonData*/\n    type?: typeof cc.Asset,\n    /**\n     * @description 预加载界面，不需要对url type赋值 \n     * 如GameView游戏界面，需要提前直接加载好界面，而不是只加载预置体，\n     * 在网络消息来的时间，用预置体加载界面还是需要一定的时间，\n     * 从而会造成消息处理不是顺序执行 \n     * */\n    preloadView?: UIClass<UIView>,\n    bundle?: BUNDLE_TYPE,\n}\n\n/**\n * @description 界面视图状态\n * 界面控制器,各界面的类名不能相同，即使是放在不同文件夹下面，也会认为是同一类型，建议加上模块前缀\n */\n\nexport enum ViewStatus {\n    /**@description 等待关闭 */\n    WAITTING_CLOSE,\n    /**@description 等待隐藏 */\n    WATITING_HIDE,\n    /**@description 无状态 */\n    WAITTING_NONE,\n}\n\nexport type BUNDLE_TYPE = string | cc.AssetManager.Bundle;\n\nexport const BUNDLE_RESOURCES = 'resources';\n\nexport const BUNDLE_REMOTE = \"__Remote__Caches__\";\n\n/**@description 是否允许游戏启动后切换语言 */\nexport const ENABLE_CHANGE_LANGUAGE = true;\n/**@description 语言包路径使用前缀 */\nexport const USING_LAN_KEY = \"i18n.\";"]}