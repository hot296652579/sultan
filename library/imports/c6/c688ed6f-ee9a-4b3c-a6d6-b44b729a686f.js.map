{"version":3,"sources":["assets/script/promotion/PromotionRankItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import NumberUtils from \"../common/utils/NumberUtils\";\nimport { MST } from \"../framework/external/protoc\";\nimport UIView from \"../framework/ui/UIView\";\nimport { UtilMgr } from \"../global/UtilMgr\";\nimport { PromotionInterface } from \"./PromotionInterface\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PromotionRankItem extends UIView {\n\n    @property(cc.Sprite)\n    private imgRank: cc.Sprite = null;\n\n    @property(cc.Label)\n    private labRank: cc.Label = null;\n\n    @property(cc.Sprite)\n    private imgAvatar: cc.Sprite = null;\n\n    @property(cc.Label)\n    private labNick: cc.Label = null;\n\n    @property(cc.Label)\n    private labIncome: cc.Label = null;\n\n    @property([cc.SpriteFrame])\n    private spfRankList: cc.SpriteFrame[] = [];\n\n    private _data: PromotionInterface.PlayerBrokerageRank = null;\n\n    onLoad() {\n        this.initData();\n        this.initUI();\n    }\n\n    start() {\n\n    }\n\n    private initData(): void {\n        this._data = null;\n    }\n\n    private initUI(): void {\n        this.imgRank.node.active = false;\n        this.labRank.string = \"\";\n        this.imgAvatar.spriteFrame = null;\n        this.labNick.string = \"\";\n        this.labIncome.string = \"\";\n    }\n\n    private refreshRank(): void {\n        if (this._data.rank <= 3) {\n            this.labRank.string = \"\";\n            this.imgRank.spriteFrame = this.spfRankList[this._data.rank - 1];\n            this.imgRank.node.active = true;\n        } else {\n            this.imgRank.node.active = false;\n            this.labRank.string = this._data.rank.toString();\n        }\n    }\n\n    private refreshPlayer(): void {\n        UtilMgr.loadHeadImg(this.imgAvatar, this._data.data.userInfo.HeaderUrl, this._data.data.userInfo.UnitId, this);\n        this.labNick.string = this._data.data.userInfo.Nick;\n    }\n\n    private refreshIncome(): void {\n        this.labIncome.string = NumberUtils.converToC(this._data.data.incomeGold);\n    }\n\n    public onShow(data: PromotionInterface.PlayerBrokerageRank): void {\n        this._data = data;\n        this.initUI();\n\n        this.refreshRank();\n        this.refreshPlayer();\n        this.refreshIncome();\n    }\n\n    public reset(): void {\n        this.initData();\n        this.initUI();\n    }\n\n    // update (dt) {}\n}\n"]}