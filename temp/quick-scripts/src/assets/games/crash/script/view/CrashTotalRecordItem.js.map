{"version":3,"sources":["assets/games/crash/script/view/CrashTotalRecordItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { SubGameDefine } from \"../../../../script/common/define/SubGameDefine\";\nimport { Manager } from \"../../../../script/common/manager/Manager\";\nimport { LobbyService } from \"../../../../script/common/net/LobbyService\";\nimport NumberUtils from \"../../../../script/common/utils/NumberUtils\";\nimport TypeUtils from \"../../../../script/common/utils/TypeUtils\";\nimport { ENABLE_CHANGE_LANGUAGE } from \"../../../../script/framework/base/Defines\";\nimport { IController } from \"../../../../script/framework/controller/Controller\";\nimport { injectService } from \"../../../../script/framework/decorator/Decorators\";\nimport { EventApi } from \"../../../../script/framework/event/EventApi\";\nimport DateUtils from \"../../../../script/framework/extentions/DateUtils\";\nimport { MST } from \"../../../../script/framework/external/protoc\";\nimport UIView from \"../../../../script/framework/ui/UIView\";\nimport PanelHelp from \"../../../../script/msgbox/PanelHelp\";\nimport { CrashConfig } from \"../config/CrashConfig\";\nimport CrashData from \"../data/CrashData\";\nimport CrashCheckView from \"./CrashCheckView\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class CrashTotalRecordItem extends UIView implements IController<LobbyService> {\n    service: LobbyService;\n\n    @property(cc.Label)\n    private labGameNo: cc.Label = null;\n\n    @property(cc.Label)\n    private labDate: cc.Label = null;\n\n    @property(cc.Label)\n    private labRoundHash: cc.Label = null;\n\n    @property(cc.Label)\n    private labRoundHashValue: cc.Label = null;\n\n    @property(cc.Label)\n    private labAcak: cc.Label = null;\n\n    @property(cc.Label)\n    private labAcakValue: cc.Label = null;\n\n    @property(cc.Label)\n    private labPoint: cc.Label = null;\n\n    @property(cc.Label)\n    private labPointValue: cc.Label = null;\n\n    @property(cc.Label)\n    private labCheck: cc.Label = null;\n\n    @property(cc.Sprite)\n    private imgLine: cc.Label = null;\n\n    // 数据\n    private _data: MST.ICrashRecordInfo = null;\n\n    onLoad(): void {\n        super.onLoad();\n\n        this.initData();\n        this.initView();\n    }\n\n    protected start(): void {\n\n    }\n\n    private initData(): void {\n        this._data = null;\n    }\n\n    private initView(): void {\n        this.labGameNo.string = \"\";\n        this.labDate.string = \"\";\n        this.labRoundHash.string = \"\";\n        this.labRoundHashValue.string = \"\";\n        this.labAcak.string = \"\";\n        this.labAcakValue.string = \"\";\n        this.labPoint.string = \"\";\n        this.labPointValue.string = \"\";\n    }\n\n    protected bindingEvents(): void {\n        super.bindingEvents();\n\n        if (ENABLE_CHANGE_LANGUAGE) {\n            this.registerEvent(EventApi.CHANGE_LANGUAGE, this.onLanguageChange);\n        }\n    }\n\n    onLanguageChange() {\n        this.labPoint.language = Manager.makeLanguage(\"labPoint\", true);\n        this.labRoundHash.language = Manager.makeLanguage(\"labRoundHash\", true);\n        this.labAcak.language = Manager.makeLanguage(\"labAcak\", true);\n    }\n\n    public onShow(data: MST.ICrashRecordInfo): void {\n        this.onLanguageChange();\n\n        this._data = data;\n\n        this.labGameNo.language = Manager.makeLanguage([\"labGameNo\", data.GameNo], true);\n        this.labDate.string = DateUtils.getYMDHMS(data.Timestamp);\n        this.labPointValue.string = `${NumberUtils.converToC(data.Multiple)}x`;\n        this.labRoundHashValue.string = data.RoundHashCell.RoundHash;\n        this.labAcakValue.string = data.RoundHashCell.Acak.toString();\n    }\n\n    public reset(): void {\n        this.initData();\n        this.initView();\n    }\n\n    public openCheckWeb(): void {\n        let crashData: CrashData = G.DataMgr.get(CrashData);\n        let serverSeed: string = crashData.totalRecordData.SeedInfo.ServerSeed;\n\n        if (TypeUtils.isNull(serverSeed) || serverSeed.length <= 0) {\n            PanelHelp.showTip(Manager.makeLanguage(\"todayNotFind\", true));\n            return;\n        }\n\n        let publicSeed: string = crashData.totalRecordData.SeedInfo.PublicSeed;\n        let gameNo: number = this._data.GameNo;\n        let url: string = `${CrashConfig.CHECK_SHA256_URL}${serverSeed}${publicSeed}${gameNo}`;\n        cc.sys.openURL(url);\n    }\n\n    public onClick(ButtonName: any, ButtonNode: any, data?: string): void {\n        switch (ButtonName) {\n            case \"btnCheck\":\n                // Manager.uiManager.open({ type: CrashCheckView, bundle: SubGameDefine.GameName.CRASH, args: [this._data.GameNo] });\n                this.openCheckWeb();\n                break;\n        }\n    }\n\n}\n"]}