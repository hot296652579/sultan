{"version":3,"sources":["assets/script/redPakge/RedPakgeRecord.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,sFAA8D;AAE9D,+DAAuE;AACvE,6DAA0D;AAC1D,kEAA2E;AAC3E,oEAA4C;AAC5C,kFAA0D;AAG1D,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAI5C,IAAqB,cAAc,GAAnC,MAAqB,cAAe,SAAQ,gBAAM;IAAlD;;QAGI,cAAS,GAAY,IAAI,CAAC;QAG1B,aAAQ,GAAY,IAAI,CAAC;QAGzB,yBAAoB,GAAyB,IAAI,CAAC;QAGlD,kBAAa,GAAkB,IAAI,CAAC;QA2CpC,iBAAiB;IACrB,CAAC;IAzCG,MAAM;QACF,KAAK,CAAC,MAAM,EAAE,CAAC;IACnB,CAAC;IAED,aAAa;QACT,KAAK,CAAC,aAAa,EAAE,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,oBAAO,CAAC,0BAAU,CAAC,KAAK,EAAE,4BAAY,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACnH,IAAI,CAAC,aAAa,CAAC,0BAA0B,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAEpE,CAAC;IACD,QAAQ;QACJ,IAAI,CAAC,MAAM,EAAE,CAAA;QACb,IAAI,GAAG,GAAG,4BAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,EAAC,WAAW,EAAC,CAAC,EAAC,CAAC,CAAC;QAC3E,IAAI,MAAM,GAAG,4BAAY,CAAC,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;QAC3E,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,0BAAU,CAAC,KAAK,EACjC,4BAAY,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,EACjD,MAAM,CAAC,CAAC;IAChB,CAAC;IACO,MAAM;QACV,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;IACjC,CAAC;IACO,WAAW,CAAC,GAAG;QACnB,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,GAAG,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;YAClC,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAA;gBAC3B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAA;gBAC7B,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;aAC3C;SAEJ;IAEL,CAAC;IACO,UAAU,CAAC,IAAI;QACnB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QACpC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IAEjD,CAAC;CAEJ,CAAA;AArDG;IADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACQ;AAG1B;IADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACO;AAGzB;IADC,QAAQ,CAAC,8BAAoB,CAAC;4DACmB;AAGlD;IADC,QAAQ,CAAC,uBAAa,CAAC;qDACY;AAZnB,cAAc;IAFlC,OAAO;IACP,0BAAa,CAAC,2BAAY,CAAC,QAAQ,CAAC;GAChB,cAAc,CAwDlC;kBAxDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import ScroViewLogic from \"../common/component/ScroViewLogic\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { protoPackage, serverType } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport UIView from \"../framework/ui/UIView\";\nimport RedPakgeRecordDetail from \"./RedPakgeRecordDetail\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class RedPakgeRecord extends UIView {\n\n    @property(cc.Node)\n    noTipNode: cc.Node = null;\n\n    @property(cc.Node)\n    listNode: cc.Node = null;\n\n    @property(RedPakgeRecordDetail)\n    eedPakgeRecordDetail: RedPakgeRecordDetail = null;\n\n    @property(ScroViewLogic)\n    scroViewLogic: ScroViewLogic = null;\n\n    service: LobbyService;\n    onLoad() {\n        super.onLoad();\n    }\n\n    bindingEvents() {\n        super.bindingEvents();\n        this.registerEvent(makeKey(serverType.Lobby, protoPackage.hall.HallCmd.CMD_RedPacketSendRecord), this.refreshList);\n        this.registerEvent(\"showRedPakgeRecordDetail\", this.showDetail);\n        \n    }\n    onEnable() {\n        this.initUI()\n        let req = protoPackage.hall.RedPacketSendRecordReq.create({currentPage:1});\n        let buffer = protoPackage.hall.RedPacketSendRecordReq.encode(req).finish();\n        this.service.sendMsg(serverType.Lobby,\n            protoPackage.hall.HallCmd.CMD_RedPacketSendRecord,\n            buffer);\n    }\n    private initUI(){\n        this.eedPakgeRecordDetail.node.active = false;\n        this.listNode.active = false;\n        this.noTipNode.active = true;\n    }\n    private refreshList(msg) {\n        G.Logger.log(msg);\n        if (msg && msg.statusMsg.status == 0) {\n            if (msg.redPacket && msg.redPacket.length > 0) {\n                this.listNode.active = true\n                this.noTipNode.active = false\n                this.scroViewLogic.initUI(msg.redPacket)\n            }\n           \n        }\n\n    }\n    private showDetail(data){\n        this.eedPakgeRecordDetail.init(data)\n        this.eedPakgeRecordDetail.node.active = true;\n\n    }\n    // update (dt) {}\n}\n"]}