{"version":3,"sources":["assets/script/redPakge/RedPakgeSend.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { i18n } from \"../common/language/LanguageImpl\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { protoPackage, serverType } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { BUNDLE_RESOURCES } from \"../framework/base/Defines\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport UIView from \"../framework/ui/UIView\";\nimport { User } from \"../global/User\";\nimport { UtilMgr } from \"../global/UtilMgr\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\nimport RedPakgeShareView from \"./RedPakgeShareView\";\n\nconst NUM_MAX: number = 100;\nconst NUM_MIN: number = 1;\nconst VALI_MAX: number = 200;\n\nconst LabColor = {\n    nomal: cc.color(198, 117, 49),\n    red: cc.color(230, 23, 23)\n}\n\nconst { ccclass, property } = cc._decorator;\n\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class RedPakgeSend extends UIView {\n\n\n    @property(cc.Label)\n    typeTip: cc.Label = null\n\n    @property(cc.Label)\n    numTip: cc.Label = null\n\n    @property(cc.Label)\n    amountTip: cc.Label = null\n\n    @property(cc.Label)\n    validityTip: cc.Label = null\n\n    @property(cc.Label)\n    codeTip: cc.Label = null\n\n    @property(cc.Node)\n    redIconNum: cc.Node = null\n    @property(cc.Node)\n    redIconAmount: cc.Node = null\n    @property(cc.Node)\n    redIconValidity: cc.Node = null\n\n    @property(cc.EditBox)\n    typeEditBox: cc.EditBox = null\n\n    @property(cc.EditBox)\n    numEditBox: cc.EditBox = null\n\n    @property(cc.EditBox)\n    amountEditBox: cc.EditBox = null\n    @property(cc.EditBox)\n    validityEditBox: cc.EditBox = null\n\n    @property(cc.EditBox)\n    codeEditBox: cc.EditBox = null\n\n\n    @property(cc.Node)\n    typePanel: cc.Node = null\n\n    @property(cc.Node)\n    infoPanel: cc.Node = null\n\n    @property(cc.Node)\n    infoContentPanel: cc.Node = null\n\n    @property(cc.Node)\n    bgUp: cc.Node = null\n\n    @property(cc.Node)\n    upNode: cc.Node = null\n\n    @property(cc.Node)\n    title: cc.Node = null\n\n    @property(cc.Label)\n    infoTypeLab: cc.Label = null\n    @property(cc.Label)\n    infoNumLab: cc.Label = null\n    @property(cc.Label)\n    infoAmountLab: cc.Label = null\n    @property(cc.Label)\n    infoValidityLab: cc.Label = null\n    @property(cc.Label)\n    infoCodeLab: cc.Label = null\n\n    @property(cc.Label)\n    infoTypeTip: cc.Label = null\n\n    @property(cc.Label)\n    infoNumTip: cc.Label = null\n\n    @property(cc.Label)\n    infoAmountTip: cc.Label = null\n\n    @property(cc.Label)\n    infoValidityTip: cc.Label = null\n\n    @property(cc.Label)\n    infoCodeTip: cc.Label = null\n\n    @property(cc.Label)\n    labAverage: cc.Label = null\n\n    @property(cc.Label)\n    labRandom: cc.Label = null\n\n    @property(cc.Label)\n    maxAmountLab: cc.Label = null\n\n\n    service: LobbyService;\n    redType: number; // 红包类型 1平均红包 2随机红包\n    private _issend: boolean = false;\n\n    private _maxAmount = 0;\n\n\n    onLoad() {\n        super.onLoad();\n    }\n\n    bindingEvents() {\n        super.bindingEvents();\n        this.registerEvent(makeKey(serverType.Lobby, protoPackage.hall.HallCmd.CMD_SendRedPacket), this.sendCallBack);\n        this.registerEvent(makeKey(serverType.Lobby, protoPackage.hall.HallCmd.CMD_PreSendRedPacket), this.preCallBack);\n\n    }\n    private preCallBack(msg){\n        if (msg && msg.statusMsg.status == 0) {\n            this._maxAmount = Math.floor(msg.maximumAmount/10000) \n            this.maxAmountLab.node.active = true;\n            this.maxAmountLab.string = i18n.REDPAKGE.amountlabMaxTip+UtilMgr.changeMoney(this._maxAmount*10000)\n        } else {\n            PanelHelp.showTip(Manager.makeLanguage(\"ERRORCODE.\" + msg.statusMsg.status));\n        }\n    }\n    private sendCallBack(msg) {\n        if (msg && msg.statusMsg.status == 0) {\n\n            this.resetData()\n            this.infoContentPanel.runAction(cc.sequence(cc.moveTo(0.2, cc.v2(0, -200)), cc.delayTime(0.2), cc.callFunc(() => {\n                this.hideInfoPanel()\n                if (msg.shareUrl) {\n                    Manager.uiManager.open({ type: RedPakgeShareView, bundle: BUNDLE_RESOURCES, args: [msg.shareUrl] })\n                }\n            })))\n            this.title.active = false\n            this.bgUp.runAction(cc.sequence(cc.delayTime(0.2), cc.callFunc(() => {\n                this.bgUp.zIndex = 2\n            }), cc.scaleTo(0.2, 1, -1)))\n\n        } else {\n            this._issend = false;\n            PanelHelp.showTip(Manager.makeLanguage(\"ERRORCODE.\" + msg.statusMsg.status));\n        }\n    }\n    onEnable() {\n        this.initUI()\n        this.reqPreSendRedPacket()\n    }\n    private reqPreSendRedPacket(){\n        this.service.sendMsg(serverType.Lobby,\n            protoPackage.hall.HallCmd.CMD_PreSendRedPacket,\n            null);\n    }\n\n    private initUI() {\n        this.infoTypeTip.language = this.typeTip.language = Manager.makeLanguage(\"REDPAKGE.typelabTip\");\n        this.infoNumTip.language = this.numTip.language = Manager.makeLanguage(\"REDPAKGE.numlabTip\");\n        this.infoAmountTip.language = this.amountTip.language = Manager.makeLanguage(\"REDPAKGE.amountlabTip\");\n        this.infoValidityTip.language = this.validityTip.language = Manager.makeLanguage(\"REDPAKGE.validitylabTip\");\n        this.infoCodeTip.language = this.codeTip.language = Manager.makeLanguage(\"REDPAKGE.codelabTip\");\n\n        this.typeEditBox.enabled = false;\n        this.typeEditBox.string = Manager.getLanguage(\"REDPAKGE.randomTypeTip\");\n        this.numEditBox.placeholder = Manager.getLanguage(\"REDPAKGE.numPlaceholderTip\");\n        this.amountEditBox.placeholder = Manager.getLanguage(\"REDPAKGE.amountPlaceholderTip\");\n        this.validityEditBox.placeholder = Manager.getLanguage(\"REDPAKGE.validityPlaceholderTip\");\n        this.codeEditBox.placeholder = Manager.getLanguage(\"REDPAKGE.codePlaceholderTip\");\n\n        this.labAverage.language = Manager.makeLanguage(\"REDPAKGE.averageTypeTip\");\n        this.labRandom.language = Manager.makeLanguage(\"REDPAKGE.randomTypeTip\");\n\n        this.typePanel.active = false\n        this.redType = 2\n        this.numEditBox.string = \"\";\n        this.amountEditBox.string = \"\";\n        this.validityEditBox.string = \"24\";\n        this.codeEditBox.string = this.getRandomCode()\n\n        this.resetRedTip()\n        this.hideInfoPanel()\n    }\n\n    private resetData() {\n\n        this.numEditBox.string = \"\";\n        this.amountEditBox.string = \"\";\n        this.validityEditBox.string = \"24\";\n        this.codeEditBox.string = this.getRandomCode()\n    }\n    private resetRedTip() {\n        this.redIconNum.active = false\n        this.redIconAmount.active = false\n        this.redIconValidity.active = false\n\n        this.numTip.node.color = LabColor.nomal\n        this.amountTip.node.color = LabColor.nomal\n        this.validityTip.node.color = LabColor.nomal\n\n        this.maxAmountLab.node.color = LabColor.nomal;\n    }\n    onClick(name, node) {\n        switch (name) {\n            case \"confirm\": this.onClickConfirm(); break;\n            case \"typeEditbox\": this.showType(); break;\n            case \"infoClose\": this.hideInfoPanel(); break;\n            case \"infoConfirm\": this.onClickInfoConfirm(); break;\n            case \"infoCancel\": this.hideInfoPanel(); break;\n            default: G.Logger.error(\"no find button name -> %s\", name);\n        }\n    }\n\n    private showInfoPanel() {\n        this.infoContentPanel.y = 0\n        this.upNode.zIndex = 1\n        this.title.active = true\n        this.bgUp.stopAllActions()\n        this.bgUp.zIndex = 0\n        this.bgUp.scaleY = 1\n        this.infoPanel.active = true\n\n    }\n    private hideInfoPanel() {\n        this.infoPanel.active = false\n        this.infoContentPanel.y = 0\n        this.title.active = true\n        this.bgUp.stopAllActions()\n        this.bgUp.zIndex = 0\n        this.bgUp.scaleY = 1\n        this._issend = false;\n    }\n    private showType() {\n        this.typePanel.active = !this.typePanel.active ? true : false\n    }\n\n    private onNumEditboxEnd(editbox, customEventData) {\n        let input = editbox.string;\n\n        if (input && input != parseInt(input)) {\n            input = parseInt(input)\n        }\n        if (parseInt(input) < NUM_MIN) {\n            editbox.string = NUM_MIN\n        } else if (parseInt(input) > NUM_MAX) {\n            editbox.string = NUM_MAX\n        } else {\n            editbox.string = input\n        }\n\n\n        if (parseInt(editbox.string) > 0) {\n            this.numTip.node.color = LabColor.nomal;\n            this.redIconNum.active = false;\n        }\n    }\n    private onAmountEditboxEnd(editbox, customEventData) {\n        let input = editbox.string;\n\n        if (input && input != parseInt(input)) {\n            input = parseInt(input)\n        }\n        let uMax = User._gold / 10000\n        let max = parseInt(uMax.toString())\n        if (parseInt(input) < NUM_MIN) {\n            if (uMax < NUM_MIN) {\n                editbox.string = 0\n            } else {\n                editbox.string = NUM_MIN\n            }\n        } else if (parseInt(input) > max) {\n            if (max >= NUM_MIN) {\n                editbox.string = max\n\n            } else {\n                editbox.string = 0\n\n            }\n        } else {\n            editbox.string = input\n        }\n\n        if (parseInt(editbox.string) > 0) {\n            this.amountTip.node.color = LabColor.nomal;\n            this.redIconAmount.active = false;\n        }\n\n        if (parseInt(editbox.string) > this._maxAmount) {\n            this.maxAmountLab.node.color = LabColor.red;\n        }else{\n            this.maxAmountLab.node.color = LabColor.nomal;\n        }\n    }\n\n    private onValiditEditboxEnd(editbox, customEventData) {\n        let input = editbox.string;\n\n        if (input && input != parseInt(input)) {\n            input = parseInt(input)\n        }\n        if (parseInt(input) < NUM_MIN) {\n            editbox.string = NUM_MIN\n        } else if (parseInt(input) > VALI_MAX) {\n            editbox.string = VALI_MAX\n        } else {\n            editbox.string = input\n        }\n\n        if (parseInt(editbox.string) > 0) {\n            this.validityTip.node.color = LabColor.nomal;\n            this.redIconValidity.active = false;\n        }\n    }\n    private onCodeEditboxEnd(editbox, customEventData) {\n        let input = editbox.string;\n\n\n        if (input) {\n            if (input.length < 6) {\n                editbox.string = \"\"\n                return\n            }\n            if (input != parseInt(input)) {\n                input = parseInt(input)\n            }\n\n        }\n        editbox.string = input\n    }\n\n    private getRandomCode() {\n        let code = \"\";\n        for (var i = 1; i <= 6; i++) {\n            const num = Math.floor(Math.random() * 10);\n            code += num;\n\n        }\n\n        return code\n    }\n    private onClickNumSub() {\n        this.audioHelper.playEffect(\"common/audio/click\", BUNDLE_RESOURCES)\n        if (this.numEditBox.string) {\n            let input = parseInt(this.numEditBox.string)\n            input--\n            this.numEditBox.string = input.toString()\n            this.onNumEditboxEnd(this.numEditBox, \"\")\n        }\n\n    }\n    private onClickNumAdd() {\n        this.audioHelper.playEffect(\"common/audio/click\", BUNDLE_RESOURCES)\n        if (this.numEditBox.string) {\n            let input = parseInt(this.numEditBox.string)\n            input++\n            this.numEditBox.string = input.toString()\n            this.onNumEditboxEnd(this.numEditBox, \"\")\n        }\n\n    }\n    private onClickValiditAdd() {\n        this.audioHelper.playEffect(\"common/audio/click\", BUNDLE_RESOURCES)\n        if (this.validityEditBox.string) {\n            let input = parseInt(this.validityEditBox.string)\n            input++\n            this.validityEditBox.string = input.toString()\n            this.onValiditEditboxEnd(this.validityEditBox, \"\")\n        }\n    }\n    private onClickValiditSub() {\n        this.audioHelper.playEffect(\"common/audio/click\", BUNDLE_RESOURCES)\n        if (this.validityEditBox.string) {\n            let input = parseInt(this.validityEditBox.string)\n            input--\n            this.validityEditBox.string = input.toString()\n            this.onValiditEditboxEnd(this.validityEditBox, \"\")\n        }\n    }\n\n    private onClickRandomType() {\n        this.audioHelper.playEffect(\"common/audio/click\", BUNDLE_RESOURCES)\n        this.showType()\n        this.typeEditBox.string = Manager.getLanguage(\"REDPAKGE.randomTypeTip\");\n        this.redType = 2;// 红包类型 1平均红包 2随机红包\n    }\n\n    private onClickAverageType() {\n        this.audioHelper.playEffect(\"common/audio/click\", BUNDLE_RESOURCES)\n        this.showType()\n        this.typeEditBox.string = Manager.getLanguage(\"REDPAKGE.averageTypeTip\");\n        this.redType = 1;\n    }\n    private onClickConfirm() {\n        if (this.numEditBox.string == \"\") {\n            // PanelHelp.showTip(i18n.REDPAKGE.inputNum)\n            this.numTip.node.color = LabColor.red;\n            this.redIconNum.active = true;\n            return\n        }\n        if (this.amountEditBox.string == \"\" || parseInt(this.amountEditBox.string) == 0 || parseInt(this.amountEditBox.string) > this._maxAmount) {\n      \n            // PanelHelp.showTip(i18n.REDPAKGE.inputAmount)\n            this.amountTip.node.color = LabColor.red;\n            this.redIconAmount.active = true;\n            return\n        }\n        if (this.validityEditBox.string == \"\") {\n            // PanelHelp.showTip(i18n.REDPAKGE.inputValidity)\n            this.validityTip.node.color = LabColor.red;\n            this.redIconValidity.active = true;\n            return\n        }\n        this.infoTypeLab.string = this.typeEditBox.string\n        this.infoNumLab.string = this.numEditBox.string\n        this.infoAmountLab.string = this.amountEditBox.string\n        this.infoValidityLab.string = this.validityEditBox.string\n        this.infoCodeLab.string = this.codeEditBox.string || \"-\"\n\n        this.showInfoPanel()\n    }\n    private onClickInfoConfirm() {\n        if (parseInt(this.amountEditBox.string) == 0) {\n            PanelHelp.showTip(i18n.ERRORCODE[243])\n            return\n        }\n        if (this._issend) {\n            return\n        }\n        this._issend = true\n        this.reqSendRedPakge()\n    }\n\n    private reqSendRedPakge() {\n        let data = {\n            type: this.redType,\n            number: parseInt(this.numEditBox.string),\n            totalAmount: parseInt(this.amountEditBox.string) * 10000,\n            validity: parseInt(this.validityEditBox.string),\n            receiveCode: this.codeEditBox.string || \"\",\n\n        }\n        let req = protoPackage.hall.SendRedPacketReq.create(data);\n        let buffer = protoPackage.hall.SendRedPacketReq.encode(req).finish();\n        this.service.sendMsg(serverType.Lobby,\n            protoPackage.hall.HallCmd.CMD_SendRedPacket,\n            buffer);\n    }\n    // update (dt) {}\n}\n"]}