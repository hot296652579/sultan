{"version":3,"sources":["assets/script/common/language/LanguageSpine.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,0DAAsE;AACtE,yFAAiE;AACjE,6DAA0D;AAC1D,yDAAoD;AAGpD,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAElD;;GAEG;AAGH,IAAqB,aAAa,GAAlC,MAAqB,aAAc,SAAQ,wBAAc;IAAzD;;QAMI,OAAE,GAAoB,IAAI,CAAC;QAK3B,OAAE,GAAoB,IAAI,CAAC;QAM3B,OAAE,GAAoB,IAAI,CAAC;QAgC3B,iBAAiB;IACrB,CAAC;IA/BG,MAAM;QACF,KAAK,CAAC,MAAM,EAAE,CAAA;QACd,IAAI,QAAQ,GAAG,mBAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC9C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;IACS,aAAa;QACnB,KAAK,CAAC,aAAa,EAAE,CAAC;QACtB,IAAI,gCAAsB,EAAE;YACxB,IAAI,CAAC,aAAa,CAAC,mBAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACvE;IACL,CAAC;IACD;;MAEE;IACF,gBAAgB,CAAC,QAAQ;QACrB,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,IAAI,QAAQ,IAAI,EAAE,CAAC,GAAG,CAAC,gBAAgB,EAAE;YACrC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAA;SACzB;aAAM,IAAI,QAAQ,IAAI,EAAE,CAAC,GAAG,CAAC,gBAAgB,EAAE;YAC5C,YAAY,GAAG,IAAI,CAAC,EAAE,CAAA;SACzB;aAAM,IAAI,QAAQ,IAAI,EAAE,CAAC,GAAG,CAAC,cAAc,EAAE;YAC1C,YAAY,GAAG,IAAI,CAAC,EAAE,CAAA;SACzB;QACD,IAAI,YAAY,EAAE;YACd,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,YAAY,GAAG,YAAY,CAAC;YAC3D,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;SACxE;IAEL,CAAC;CAGJ,CAAA;AA5CG;IAJC,QAAQ,CAAC;QACN,WAAW,EAAE,QAAQ;QACrB,IAAI,EAAE,EAAE,CAAC,YAAY;KACxB,CAAC;yCACyB;AAK3B;IAJC,QAAQ,CAAC;QACN,WAAW,EAAE,IAAI;QACjB,IAAI,EAAE,EAAE,CAAC,YAAY;KACxB,CAAC;yCACyB;AAM3B;IAJC,QAAQ,CAAC;QACN,WAAW,EAAE,IAAI;QACjB,IAAI,EAAE,EAAE,CAAC,YAAY;KACxB,CAAC;yCACyB;AAjBV,aAAa;IAFjC,OAAO;IACP,IAAI,CAAC,WAAW,CAAC;GACG,aAAa,CAkDjC;kBAlDoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import { ENABLE_CHANGE_LANGUAGE } from \"../../framework/base/Defines\";\nimport EventComponent from \"../../framework/base/EventComponent\";\nimport { EventApi } from \"../../framework/event/EventApi\";\nimport { Manager } from \"../../framework/Framework\";\n\n\nconst { ccclass, property, menu } = cc._decorator;\n\n/**\n * 多语言的spine初始化\n */\n@ccclass\n@menu(\"多语言/spine\")\nexport default class LanguageSpine extends EventComponent {\n\n    @property({\n        displayName: \"英文(默认)\",\n        type: sp.SkeletonData\n    })\n    en: sp.SkeletonData = null;\n    @property({\n        displayName: \"中文\",\n        type: sp.SkeletonData\n    })\n    zh: sp.SkeletonData = null;\n\n    @property({\n        displayName: \"印地\",\n        type: sp.SkeletonData\n    })\n    hi: sp.SkeletonData = null;\n\n    onLoad() {\n        super.onLoad()\n        let language = Manager.language.getLanguage();\n        this.onLanguageChange(language);\n    }\n    protected bindingEvents() {\n        super.bindingEvents();\n        if (ENABLE_CHANGE_LANGUAGE) {\n            this.registerEvent(EventApi.CHANGE_LANGUAGE, this.onLanguageChange);\n        }\n    }\n    /**\n    * 监听切换语言事件\n    */\n    onLanguageChange(language) {\n        let skeletonData = null;\n        if (language == cc.sys.LANGUAGE_ENGLISH) {\n            skeletonData = this.en\n        } else if (language == cc.sys.LANGUAGE_CHINESE) {\n            skeletonData = this.zh\n        } else if (language == cc.sys.LANGUAGE_HINDI) {\n            skeletonData = this.hi\n        }\n        if (skeletonData) {\n            this.getComponent(sp.Skeleton).skeletonData = skeletonData;\n            this.getComponent(sp.Skeleton).setAnimation(0, 'newAnimation', true);\n        }\n\n    }\n\n    // update (dt) {}\n}\n"]}