{"version":3,"sources":["assets/script/common/component/ScroViewPlusItem.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAE5C;;;;;;GAMG;AAEH,IAAqB,gBAAgB,GAArC,MAAqB,gBAAiB,SAAQ,EAAE,CAAC,SAAS;IAA1D;;QAKI,4BAAuB,GAAgC,EAAE,CAAC;QAM1D,2BAAsB,GAAgC,EAAE,CAAC;QAMzD,2BAAsB,GAAgC,EAAE,CAAC;QAIzD;;;;;WAKG;QACH,cAAS,GAAY,KAAK,CAAC;IAkD/B,CAAC;IAhDG;;OAEG;IACH,wBAAwB;QACpB,IAAI,IAAI,CAAC,uBAAuB,CAAC,MAAM,IAAI,CAAC,EAAE;YAC1C,OAAO;SACV;QACD,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACzC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,uBAAuB;QACnB,IAAI,IAAI,CAAC,sBAAsB,CAAC,MAAM,IAAI,CAAC,EAAE;YACzC,OAAO;SACV;QACD,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACxC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;;OAKG;IACH,uBAAuB,CAAC,cAAsB,EAAE,cAAsB;QAClE,IAAI,IAAI,CAAC,sBAAsB,CAAC,MAAM,IAAI,CAAC,EAAE;YACzC,OAAO;SACV;QACD,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACxC,KAAK,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU,CAAC,IAAI,EAAE,MAAM;QACnB,yDAAyD;QACzD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IAC1B,CAAC;IAED,SAAS;QACL,OAAO,IAAI,CAAC,OAAO,CAAA;IACvB,CAAC;CACJ,CAAA;AAxEG;IAJC,QAAQ,CAAC;QACN,IAAI,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC;QACjC,OAAO,EAAE,iBAAiB;KAC7B,CAAC;iEACwD;AAM1D;IAJC,QAAQ,CAAC;QACN,IAAI,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC;QACjC,OAAO,EAAE,iBAAiB;KAC7B,CAAC;gEACuD;AAMzD;IAJC,QAAQ,CAAC;QACN,IAAI,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC;QACjC,OAAO,EAAE,0BAA0B;KACtC,CAAC;gEACuD;AAjBxC,gBAAgB;IADpC,OAAO;GACa,gBAAgB,CA6EpC;kBA7EoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n/**\n * 用法：\n *\n *      1. 将本组件挂载在Item节点上\n * \t\t2. 在属性面板上指定事件数组回调，即可监听 Item 「进入」和「离开」ScrollView可视区域的事件\n *\n */\n@ccclass\nexport default class ScroViewPlusItem extends cc.Component {\n    @property({\n        type: [cc.Component.EventHandler],\n        tooltip: \"进入ScrollView时回调\"\n    })\n    onEnterScorllViewEvents: cc.Component.EventHandler[] = [];\n\n    @property({\n        type: [cc.Component.EventHandler],\n        tooltip: \"离开ScrollView时回调\"\n    })\n    onExitScorllViewEvents: cc.Component.EventHandler[] = [];\n\n    @property({\n        type: [cc.Component.EventHandler],\n        tooltip: \"进入ScrollView之后，位置发生改变时回调\"\n    })\n    onPositionChangeEvents: cc.Component.EventHandler[] = [];\n    _itemId: any;\n    _data: any;\n\n    /**\n     * 当前是否在展示中\n     *\n     * 1. 在进入和离开ScrollView期间，为true\n     * 2. 在离开ScrolLView期间，为false\n     */\n    isShowing: boolean = false;\n\n    /**\n     * Item 进入 ScrollView 的时候回调\n     */\n    publishOnEnterScrollView() {\n        if (this.onEnterScorllViewEvents.length == 0) {\n            return;\n        }\n        this.onEnterScorllViewEvents.forEach(event => {\n            event.emit([]);\n        });\n    }\n\n    /**\n     * Item 离开 ScrollView 的时候回调\n     */\n    publishOnExitScrollView() {\n        if (this.onExitScorllViewEvents.length == 0) {\n            return;\n        }\n        this.onExitScorllViewEvents.forEach(event => {\n            event.emit([]);\n        });\n    }\n\n    /**\n     * Item 进入 ScrollView 后，位置发生移动时回调，离开ScrollView后不会回调\n     *\n     * @param xOffsetPercent 相对于 ScrollView 可视区域中心点，X的偏移量百分比，取值范围：[0, 1]。其中，0：为在可视区域最左边，1：为可视区域最右边\n     * @param yOffsetPercent 相对于 ScrollView 可视区域中心点，Y的偏移量百分比，取值范围：[0, 1]。其中，0：为在可视区域最下边，1：为可视区域最上边\n     */\n    publishOnPositionChange(xOffsetPercent: number, yOffsetPercent: number) {\n        if (this.onPositionChangeEvents.length == 0) {\n            return;\n        }\n        this.onPositionChangeEvents.forEach(event => {\n            event.emit([xOffsetPercent, yOffsetPercent]);\n        });\n    }\n\n    updateItem(data, itemId) {\n        //cc.assert(itemId || itemId == 0, \"itemId is undefined\")\n        this._data = data;\n        this._itemId = itemId;\n    }\n\n    getItemId() {\n        return this._itemId\n    }\n}\n"]}