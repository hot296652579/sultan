{"version":3,"sources":["assets/script/tournament/TournamentDetailView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Config } from \"../common/config/Config\";\nimport { i18n } from \"../common/language/LanguageImpl\";\nimport { serverType, protoPackage } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { BUNDLE_RESOURCES } from \"../framework/base/Defines\";\nimport { IController } from \"../framework/controller/Controller\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport { com } from \"../framework/external/protoc\";\nimport { Manager } from \"../framework/Framework\";\nimport UIView from \"../framework/ui/UIView\";\nimport { User } from \"../global/User\";\nimport { UtilMgr } from \"../global/UtilMgr\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\nimport { shareType } from \"../platform/android\";\nimport SignUpPlayersView from \"./SignUpPlayersView\";\nimport TournamentData from \"./TournamentData\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class TournamentDetailView extends UIView implements IController<LobbyService> {\n\n    service: LobbyService;\n\n    @property(cc.Node)\n    detailNode: cc.Node = null;\n\n    @property(cc.Node)\n    signUpNode: cc.Node = null;\n\n    @property(cc.Sprite)\n    head: cc.Sprite = null;\n\n    @property(cc.Label)\n    creatorName: cc.Label = null;\n\n    @property(cc.Label)\n    game: cc.Label = null;\n\n    @property(cc.Label)\n    pPeople: cc.Label = null;\n\n    @property(cc.Node)\n    rewardChip: cc.Node[] = [];\n\n    @property(cc.EditBox)\n    enterPassword: cc.EditBox = null;\n\n    @property(cc.Label)\n    touenamentID: cc.Label = null;\n\n    @property(cc.Label)\n    password_SignUp: cc.Label = null;\n\n    @property(cc.Label)\n    password: cc.Label = null;\n\n    @property(cc.Label)\n    detailjoinFee: cc.Label = null;\n\n    @property(cc.Label)\n    sginUpjoinFee: cc.Label = null;\n\n    @property(cc.Node)\n    closeBtn: cc.Node = null;\n\n    @property(cc.Node)\n    signUpPlayersBtn: cc.Node = null;\n\n    @property(cc.Node)\n    signUpBtn: cc.Node = null;\n\n    @property(cc.Node)\n    exitTournamentBtn: cc.Node = null;\n\n    @property(cc.Node)\n    joinBtn: cc.Node = null;\n\n\n    @property(cc.Node)\n    shareNode: cc.Node = null;\n\n    @property(cc.Node)\n    shareBG: cc.Node = null;\n\n    @property(cc.Label)\n    shanrPassword: cc.Label = null;\n\n    @property(cc.Label)\n    shanrTournamentID: cc.Label = null;\n\n    @property(cc.Graphics)\n    icon: cc.Graphics = null;\n\n    private data: com.bt.game.proto.hall.ITournamentDetailRes\n    private signType: number;\n    private pw: string;\n    private _isSaveIamge: boolean = false;\n    public static getPrefabUrl() {\n        return \"tournament/prefabs/TournamentDetailView\";\n    }\n    onLoad() {\n        super.onLoad();\n        this.content = this.node.getChildByName('content');\n    }\n\n    start() {\n\n        this.updateView();\n    }\n\n    hideUI() {\n        this.closeBtn.active = false;\n        this.signUpBtn.active = false;\n        this.signUpPlayersBtn.active = false;\n        this.exitTournamentBtn.active = false;\n        this.shareBG.active = false;\n    }\n\n    show(args) {\n        super.show(args);\n        this.showWithAction(true);\n        if (args && args[0]) {\n            this.data = args[0];\n        }\n        console.log(\"ITournamentDetailRes\", this.data);\n        this.hideUI();\n        //显示详情还是显示报名\n        if (this.data.userId == 0) {//创房ID = 0 官方赛\n            this.data.signStatus == 0 ? this.signUpNode.active = true : this.detailNode.active = true;\n        } else {//自建赛 \n            if (this.data.userId == User._userID) {//我创建的\n                this.detailNode.active = true;\n                this.closeBtn.active = true;\n                this.signUpPlayersBtn.active = true;\n            } else {//别人创建的\n                this.data.signStatus == 0 ? this.signUpNode.active = true : this.detailNode.active = true;\n            }\n            this.data.signStatus == 0 ? this.signUpBtn.active = true : this.exitTournamentBtn.active = true;\n            this.joinBtn.active = this.data.signStatus != 0;\n        }\n        this.shareNode.x = this.signUpNode.active ? 110 : 0;\n    }\n\n\n    bindingEvents() {\n        super.bindingEvents();\n        this.registerEvent(makeKey(serverType.Lobby, protoPackage.hall.HallCmd.CMD_TournamentSignUp), this.onNetTournamentSignUp);\n        this.registerEvent(makeKey(serverType.Lobby, protoPackage.hall.HallCmd.CMD_TournamentSignUpUsers), this.onNetTournamentSignUpUsersRes);\n        this.registerEvent(makeKey(serverType.Lobby, protoPackage.hall.HallCmd.CMD_CloseTournament), this.onNetCloseTournamentRes);\n        this.registerEvent(\"handleSaveImageToLocal\", (isSuccess) => {\n            if (isSuccess) {\n                this.unscheduleAllCallbacks()\n                PanelHelp.showTip(i18n.REDPAKGE.saveSuccess)\n                this._isSaveIamge = false;\n                this.shareImageChangeUI(false);\n            }\n        });\n    }\n\n    updateView() {\n        this.creatorName.string = UtilMgr.setString(this.data.nickname);\n        this.pPeople.string = this.data.numberOfParticipants + \"-people\";\n        this.shanrPassword.string = this.password_SignUp.string = this.password.string = this.data.password.length == 0 ? \"No Password\" : this.data.password;\n        this.shanrTournamentID.string = this.touenamentID.string = this.data.tournamentId + \"\";\n        this.sginUpjoinFee.string = this.detailjoinFee.string = UtilMgr.changeMoney(this.data.joinFee);\n        this.game.string = Config.games[this.data.gameId].disName;\n        let reward = this.data.reward.split(',');\n        this.rewardChip.forEach((nd: cc.Node, index) => {\n            if (index < reward.length) {\n                nd.active = true;\n                nd.getChildByName('lb_Glod').getComponent(cc.Label).string = UtilMgr.changeMoney(reward[index]);\n            }\n        });\n        UtilMgr.loadHeadImg(this.head, this.data.headImg, this.data.userId + \"\", this);\n        this.enterPassword.node.active = !!this.data.enterPassword;\n        // this.sginUpjoinFee.node.parent.active = this.detailjoinFee.node.parent.active = this.data.bonusSource == 0;\n        this.sginUpjoinFee.node.parent.active = this.detailjoinFee.node.parent.active = this.data.joinFee != 0;\n        let qrcode = this.shareUrl();\n        this.createQRcode(decodeURIComponent(qrcode));\n    }\n\n    onClick(name, node) {\n        switch (name) {\n            case \"close\": this.closeWithAction(); break;\n            case \"closeBtn\":\n                PanelHelp.showDialog(\"\", i18n.Tournament.CloseTournament, () => {\n                    //关闭锦标赛 返回大厅\n                    this.reqCloseTournament();\n                }, () => {\n                    //返回上一级\n                }, \"btn_Cancel\", \"btn_Confirm\");\n                break;\n            case \"signUpPlayerBtn\": this.reqSignUpUsers(); break;\n            case \"joinBtn\": this.reqJoinTournament(); break;\n            case \"signUpBtn_1\": this.reqSignUp(1); break;\n            case \"sginUpBtn_2\": this.reqSignUp(2); break;\n            case \"exitTournamentBtn\": this.reqSignUp(3); break;\n            case \"saveImageBtn\": this.onSaveImage(); break;\n            case \"facebookBtn\": this.onShareFaceBook(); break;\n            case \"copyLineBtn\": this.onCopyTournamentInfo(); break;\n            case \"copyIDBtn\": window['platformUtil'].copyToClip(this.touenamentID.string); break;\n            default: G.Logger.error(\"no find button name -> %s\", name);\n        }\n    }\n\n\n    reqSignUp(type) {\n        let password: string, signType: number;\n        if (type == 1) {//输入密码报名\n            password = this.data.enterPassword == 1 ? this.enterPassword.string : \"\";\n            signType = 0;\n        } else if (type == 2) {//已知密码报名\n            password = this.data.password;\n            signType = 0;\n        } else if (type == 3) {//退赛\n            password = this.data.password;\n            signType = 1;\n        }\n        let jsonData = {\n            tournamentId: this.data.tournamentId,\n            password: password,\n            type: signType,\n        }\n        this.signType = signType;\n        this.pw = password;\n        G.Logger.log(\"报名锦标赛\",type, jsonData);\n        let req = protoPackage.hall.TournamentSignUpReq.create(jsonData);\n        let buffer = protoPackage.hall.TournamentSignUpReq.encode(req).finish();\n        this.service.sendMsg(serverType.Lobby,\n            protoPackage.hall.HallCmd.CMD_TournamentSignUp,\n            buffer);\n    }\n\n    onNetTournamentSignUp(data: com.bt.game.proto.hall.ITournamentSignUpRes) {\n        if (data.statusMsg.status == 0) {\n            this.signUpBtn.active = this.signType == 1;\n            this.exitTournamentBtn.active = this.signType != 1;\n            this.signUpNode.active = this.signType == 1 && this.data.userId != User._userID;\n            this.detailNode.active = this.data.userId == User._userID ? true : this.signType != 1;\n            this.joinBtn.active = this.signType != 1;\n            TournamentData.getInstance().flushItmeID = this.data.tournamentId;\n            this.shareNode.x = this.signUpNode.active ? 110 : 0;\n            if(this.signType == 0) PanelHelp.showTip(i18n.Tournament.SignSuccessfully);\n            this.shanrPassword.string = this.password_SignUp.string = this.password.string = this.pw.length == 0 ? \"No Password\" : this.pw;\n            dispatch(\"UpdateTournamentList\");\n        } else {\n            if(data.statusMsg.status == 251){\n                PanelHelp.showMsgBox(\"\", i18n.FRIENDROOM.ToRecharge, () => {\n                    dispatch(\"openRechargeView\");\n                }, \"btn_Recharge\");\n            }else if(data.statusMsg.status == 309){\n                PanelHelp.showTip(i18n.Tournament.passwordWong);\n            }else{\n                PanelHelp.showTip(i18n.ERRORCODE[data.statusMsg.status]);\n            }\n        }\n\n    }\n\n    reqSignUpUsers() {\n        let jsonData = {\n            tournamentId: this.data.tournamentId,\n        }\n        let req = protoPackage.hall.TournamentSignUpUsersReq.create(jsonData);\n        let buffer = protoPackage.hall.TournamentSignUpUsersReq.encode(req).finish();\n        this.service.sendMsg(serverType.Lobby,\n            protoPackage.hall.HallCmd.CMD_TournamentSignUpUsers,\n            buffer);\n\n    }\n\n    onNetTournamentSignUpUsersRes(data: com.bt.game.proto.hall.ITournamentSignUpUsersRes) {\n        if (data.statusMsg.status == 0) {\n            Manager.uiManager.open({ type: SignUpPlayersView, bundle: BUNDLE_RESOURCES, args: [data.users] });\n        } else {\n            PanelHelp.showTip(i18n.ERRORCODE[data.statusMsg.status]);\n        }\n\n    }\n\n    reqCloseTournament() {\n        let jsonData = {\n            tournamentId: this.data.tournamentId,\n        }\n        let req = protoPackage.hall.CloseTournamentReq.create(jsonData);\n        let buffer = protoPackage.hall.CloseTournamentReq.encode(req).finish();\n        this.service.sendMsg(serverType.Lobby,\n            protoPackage.hall.HallCmd.CMD_CloseTournament,\n            buffer);\n\n    }\n\n    onNetCloseTournamentRes(data) {\n        if (data.statusMsg.status == 0) {\n            dispatch(\"UpdateTournamentList\");\n            this.closeWithAction();\n        } else {\n            PanelHelp.showTip(i18n.ERRORCODE[data.statusMsg.status]);\n        }\n\n    }\n    //进入比赛场\n    reqJoinTournament() {\n        PanelHelp.showLoading(i18n.Waiting.EnterGame)\n        TournamentData.getInstance().isTournamentGame = true;\n        TournamentData.getInstance().tournamentID = this.data.tournamentId;\n        TournamentData.getInstance().toServerId = this.data.serverId;\n        TournamentData.getInstance().serverType = this.data.serverType;\n        dispatch(\"JoinTournament\", { serviceType: this.data.serverType, toServerId: this.data.serverId });\n    }\n\n    shareUrl() {\n        let shareAddress = G.URLMgr.shareFriendRoomURL;\n        let channel = window['platformUtil'].getAppQuDaoId();\n        let userId = User._userID;\n        let gameId = this.data.gameId;\n        let tournamentId = this.data.tournamentId;\n        let shareUrl = shareAddress + \"/t/\" + channel + \"/\" + userId + \"/\" + gameId + \"/\" + tournamentId + \"/index.html\"\n        return shareUrl;\n    }\n\n    onCopyTournamentInfo() {\n        let copyStr = this.shareUrl();\n        window['platformUtil'].copyToClip(copyStr, i18n.FRIENDROOM.CopyRoomInfoSuccess);\n    }\n    onShareFaceBook() {\n        let shareUrl = this.shareUrl();\n        window['platformUtil'].shareToFacebook(shareType.LINK, shareUrl, shareUrl);\n    }\n\n    shareImageChangeUI(isShare) {\n        this.shareBG.active = isShare;\n        this.detailNode.active = !isShare;\n    }\n\n    private onSaveImage() {\n        this.shareImageChangeUI(true);\n        if (this._isSaveIamge) {\n            return\n        }\n        this._isSaveIamge = true;\n        UtilMgr.captureTexture(this.shareNode)\n        this.scheduleOnce(() => {\n            this._isSaveIamge = false;\n            this.shareImageChangeUI(false);\n        }, 5)\n    }\n\n    createQRcode(url: string) {\n        var qrcode = new window[\"QRCode\"](-1, 3);\n        qrcode.addData(url);\n        qrcode.make();\n\n        this.icon.fillColor = cc.Color.BLACK;\n        //块宽高\n        var tileW = this.icon.node.width / qrcode.getModuleCount();\n        var tileH = this.icon.node.height / qrcode.getModuleCount();\n\n        // draw in the Graphics\n        for (var row = 0; row < qrcode.getModuleCount(); row++) {\n            for (var col = 0; col < qrcode.getModuleCount(); col++) {\n                if (qrcode.isDark(row, col)) {\n                    // ctx.fillColor = cc.Color.BLACK;\n                    var w = (Math.ceil((col + 1) * tileW) - Math.floor(col * tileW));\n                    var h = (Math.ceil((row + 1) * tileW) - Math.floor(row * tileW));\n                    this.icon.rect(Math.round(col * tileW), Math.round(row * tileH), w, h);\n                    this.icon.fill();\n                }\n            }\n        }\n    }\n\n    onDestroy() {\n        super.onDestroy();\n    }\n}\n"]}