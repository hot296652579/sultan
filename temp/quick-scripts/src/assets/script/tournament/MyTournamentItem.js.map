{"version":3,"sources":["assets/script/tournament/MyTournamentItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,4FAAoE;AACpE,kEAAuD;AACvD,uDAAoD;AACpD,+DAAuE;AACvE,6DAA0D;AAC1D,uDAA6D;AAC7D,kEAAkE;AAElE,+CAA4C;AAC5C,sEAA8C;AAC9C,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAI5C,IAAqB,gBAAgB,GAArC,MAAqB,gBAAiB,SAAQ,0BAAgB;IAA9D;;QAGI,YAAO,GAAa,IAAI,CAAC;QAGzB,WAAM,GAAa,IAAI,CAAC;QAGxB,SAAI,GAAa,IAAI,CAAC;QAGtB,cAAS,GAAa,IAAI,CAAC;QAG3B,mBAAc,GAAa,IAAI,CAAC;QAGhC,SAAI,GAAa,IAAI,CAAC;QAGtB,eAAU,GAAa,IAAI,CAAC;QAG5B,eAAU,GAAY,IAAI,CAAC;IAsF/B,CAAC;IApFG,MAAM;IAEN,CAAC;IAED,UAAU,CAAC,IAAyC,EAAE,MAAM;QACxD,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,iBAAO,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;QAClD,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,iBAAO,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5D,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,iBAAO,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACtE,QAAQ,IAAI,CAAC,gBAAgB,EAAE,EAAC,mDAAmD;YAC/E,KAAK,CAAC,CAAC;YACP,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,iBAAO,CAAC,WAAW,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpK,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,mBAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;gBAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAC/D,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC9B,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;gBACvD,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,iBAAO,CAAC,WAAW,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpK,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,mBAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;gBAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAC/D,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC/B,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,iBAAO,CAAC,WAAW,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpK,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,mBAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;gBAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAC/D,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC9B,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;gBACtD,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,iBAAO,CAAC,WAAW,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpK,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,mBAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;gBAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAC/D,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC/B,MAAM;YACV,KAAK,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,iBAAO,CAAC,WAAW,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpK,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,mBAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;gBAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAC/D,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC/B,MAAM;YACV;gBACI,MAAM;SACb;QAED,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,iBAAO,CAAC,WAAW,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACpK,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,mBAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;YAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAC/D,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;SAClC;IAEL,CAAC;IAGD,OAAO,CAAC,KAAK;QACT,IAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;QAC7B,iBAAO,CAAC,WAAW,CAAC,UAAU,CAAC,oBAAoB,EAAE,0BAAgB,CAAC,CAAC;QACvE,QAAQ,IAAI,EAAE;YACV,KAAK,WAAW;gBACZ,wBAAc,CAAC,WAAW,EAAE,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBAC5E,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,MAAM;YACV;gBACI,MAAM;SACb;IACL,CAAC;IAED,mBAAmB;QACf,IAAI,QAAQ,GAAG;YACX,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY;SACxC,CAAA;QACD,IAAI,GAAG,GAAG,4BAAY,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACjE,IAAI,MAAM,GAAG,4BAAY,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;QACxE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,0BAAU,CAAC,KAAK,EACjC,4BAAY,CAAC,IAAI,CAAC,OAAO,CAAC,oBAAoB,EAC9C,MAAM,CAAC,CAAC;IAEhB,CAAC;CAEJ,CAAA;AA3GG;IADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iDACM;AAGzB;IADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;gDACK;AAGxB;IADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACG;AAGtB;IADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACQ;AAG3B;IADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wDACa;AAGhC;IADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACG;AAGtB;IADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;oDACS;AAG5B;IADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACS;AAxBV,gBAAgB;IAFpC,OAAO;IACP,0BAAa,CAAC,2BAAY,CAAC,QAAQ,CAAC;GAChB,gBAAgB,CA8GpC;kBA9GoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["import ScroViewBaseItem from \"../common/component/ScroViewBaseItem\";\nimport { i18n } from \"../common/language/LanguageImpl\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { protoPackage, serverType } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { BUNDLE_RESOURCES } from \"../framework/base/Defines\";\nimport { injectService } from \"../framework/decorator/Decorators\";\nimport { com } from \"../framework/external/protoc\";\nimport { UtilMgr } from \"../global/UtilMgr\";\nimport TournamentData from \"./TournamentData\";\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class MyTournamentItem extends ScroViewBaseItem {\n    service: LobbyService;\n    @property(cc.Label)\n    creator: cc.Label = null;\n\n    @property(cc.Label)\n    people: cc.Label = null;\n\n    @property(cc.Label)\n    mode: cc.Label = null;\n\n    @property(cc.Label)\n    signUpFee: cc.Label = null;\n\n    @property(cc.Label)\n    championReward: cc.Label = null;\n\n    @property(cc.Label)\n    time: cc.Label = null;\n\n    @property(cc.Label)\n    startState: cc.Label = null;\n\n    @property(cc.Node)\n    detailNode: cc.Node = null;\n\n    onLoad() {\n\n    }\n\n    updateItem(data: com.bt.game.proto.hall.ITournamentP, itemId) {\n        super.updateItem(data, itemId);\n        this.creator.string = UtilMgr.setString(data.nickname);\n        this.people.string = data.totalNum + \"\";\n        this.mode.string = data.type == 0 ? \"SNG\" : \"MTT\";\n        this.signUpFee.string = UtilMgr.changeMoney(data.signUpFee);\n        this.championReward.string = UtilMgr.changeMoney(data.championReward);\n        switch (data.tournamentStatus) {//比赛状态  0比赛可报名 1报名结束等待游戏开始 2游戏已开始 3游戏已结束 4游戏已取消 5流局\n            case 0:\n            case 1:\n                this.time.string = data.type == 1 ? new Date(+data.startTime).format(\"yyyy-MM-dd hh:mm:ss\") : Manager.getLanguage([\"Tournament.MyTournamentPeople\", data.totalNum]);\n                this.startState.string = i18n.Tournament.MyTournamentTip1;\n                this.startState.node.color = new cc.Color().fromHEX('#01e922');\n                this.detailNode.active = true;\n                this.detailNode.getChildByName(\"huang\").active = false;\n                break;\n            case 2:\n                this.time.string = data.type == 1 ? new Date(+data.startTime).format(\"yyyy-MM-dd hh:mm:ss\") : Manager.getLanguage([\"Tournament.MyTournamentPeople\", data.totalNum]);\n                this.startState.string = i18n.Tournament.MyTournamentTip2;\n                this.startState.node.color = new cc.Color().fromHEX('#c13958');\n                this.detailNode.active = false;\n                break;\n            case 3:\n                this.time.string = data.type == 1 ? new Date(+data.startTime).format(\"yyyy-MM-dd hh:mm:ss\") : Manager.getLanguage([\"Tournament.MyTournamentPeople\", data.totalNum]);\n                this.startState.string = i18n.Tournament.MyTournamentTip3;\n                this.startState.node.color = new cc.Color().fromHEX('#ff000c');\n                this.detailNode.active = true;\n                this.detailNode.getChildByName(\"huang\").active = true;\n                break;\n            case 4:\n                this.time.string = data.type == 1 ? new Date(+data.startTime).format(\"yyyy-MM-dd hh:mm:ss\") : Manager.getLanguage([\"Tournament.MyTournamentPeople\", data.totalNum]);\n                this.startState.string = i18n.Tournament.MyTournamentTip4;\n                this.startState.node.color = new cc.Color().fromHEX('#ff000c');\n                this.detailNode.active = false;\n                break;\n            case 5:\n                this.time.string = data.type == 1 ? new Date(+data.startTime).format(\"yyyy-MM-dd hh:mm:ss\") : Manager.getLanguage([\"Tournament.MyTournamentPeople\", data.totalNum]);\n                this.startState.string = i18n.Tournament.MyTournamentTip5;\n                this.startState.node.color = new cc.Color().fromHEX('#ff000c');\n                this.detailNode.active = false;\n                break;\n            default:\n                break;\n        }\n\n        if (data.giveUp) {\n            this.time.string = data.type == 1 ? new Date(+data.startTime).format(\"yyyy-MM-dd hh:mm:ss\") : Manager.getLanguage([\"Tournament.MyTournamentPeople\", data.totalNum]);\n            this.startState.string = i18n.Tournament.MyTournamentTip6;\n            this.startState.node.color = new cc.Color().fromHEX('#bb9fa6');\n            this.detailNode.active = false;\n        }\n\n    }\n\n\n    onClick(event) {\n        let name = event.target.name;\n        Manager.globalAudio.playEffect(\"common/audio/click\", BUNDLE_RESOURCES);\n        switch (name) {\n            case \"detailBtn\":\n                TournamentData.getInstance().tournamentStatus = this._data.tournamentStatus;\n                this.reqTournamentDetail();\n                break;\n            default:\n                break;\n        }\n    }\n\n    reqTournamentDetail() {\n        let jsonData = {\n            tournamentId: this._data.tournamentId,\n        }\n        let req = protoPackage.hall.TournamentDetailReq.create(jsonData);\n        let buffer = protoPackage.hall.TournamentDetailReq.encode(req).finish();\n        this.service.sendMsg(serverType.Lobby,\n            protoPackage.hall.HallCmd.CMD_TournamentDetail,\n            buffer);\n\n    }\n\n}\n"]}