{"version":3,"sources":["assets/script/hall/HallNewView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIView from \"../framework/ui/UIView\";\nimport { dispatchEnterComplete, LogicEvent, LogicType } from \"../common/event/LogicEvent\";\nimport { GameConfig } from \"../common/base/HotUpdate\";\nimport { i18n } from \"../common/language/LanguageImpl\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport { IController } from \"../framework/controller/Controller\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { BUNDLE_RESOURCES, ENABLE_CHANGE_LANGUAGE } from \"../framework/base/Defines\";\nimport UserData from \"../data/UserData\";\nimport ScroViewCtrl from \"../common/component/ScroViewCtrl\";\nimport HallNewGameItem from \"./HallNewGameItem\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\nimport HallData from \"../data/HallData\";\nimport { MST } from \"../framework/external/protoc\";\nimport { EventApi } from \"../framework/event/EventApi\";\nimport { SubGameDefine } from \"../common/define/SubGameDefine\";\nimport MinigameView from \"../minigame/MinigameView\";\nimport { UtilMgr } from \"../global/UtilMgr\";\nimport BindPhoneView from \"../common/bindItemView/BindPhoneView\";\nimport HallBetRankItem from \"./HallBetRankItem\";\nimport LoginNewView from \"../login/LoginNewView\";\nimport AppData from \"../data/AppData\";\nimport RegisterView from \"../login/RegisterView\";\nimport NumberUtils from \"../common/utils/NumberUtils\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class HallNewView extends UIView implements IController<LobbyService>{\n    service: LobbyService;\n\n    @property(cc.Node)\n    btnHarian: cc.Node = null;\n\n    @property(cc.Node)\n    btnMingguan: cc.Node = null;\n\n    @property(cc.Node)\n    btnSemua: cc.Node = null;\n\n    @property(cc.Node)\n    rankPlayInfo: cc.Node = null;\n\n    @property(cc.Node)\n    btnClosePInfo: cc.Node = null;\n\n    @property(cc.Node)\n    betRankView: cc.Node = null;\n    @property(cc.Node)\n    winRankView: cc.Node = null;\n\n    @property(cc.PageView)\n    pageView: cc.PageView = null;\n    // 用户数据\n    _userData: UserData = null;\n\n    _winRankingList: any = [];\n    _betRankingList: any = [];\n    _rankSelectName = 'btnHarian'\n\n    @property(cc.Node)\n    gameItem0: cc.Node = null;\n    @property(cc.Node)\n    gameItem1: cc.Node = null;\n    @property(cc.Node)\n    gameItem2: cc.Node = null;\n    @property(cc.Node)\n    gameItem3: cc.Node = null;\n\n    @property(cc.Node)\n    topThree: cc.Node = null;\n    loopInterval: number = null;\n\n    //多语言文本\n    @property(cc.Label)\n    HottestGame: cc.Label = null;\n    @property(cc.Label)\n    LatestBet: cc.Label = null;\n    @property(cc.Label)\n    BiggestWinner: cc.Label = null;\n\n    @property(cc.Label)\n    labGame: cc.Label = null;\n    @property(cc.Label)\n    labUname: cc.Label = null;\n    @property(cc.Label)\n    labBetAmount: cc.Label = null;\n\n    @property(cc.Label)\n    labDaily: cc.Label = null;\n    @property(cc.Label)\n    labWeekly: cc.Label = null;\n    @property(cc.Label)\n    labAll: cc.Label = null;\n\n    public static getPrefabUrl() {\n        return \"hall/prefabs/HallView\";\n    }\n\n    onLoad() {\n        super.onLoad();\n        this.audioHelper.stopMusic()\n        // this.audioHelper.playMusic(\"common/audio/hall_bg\", BUNDLE_RESOURCES, true, true);\n\n        this.closeSplashView();\n\n        this.btnHarian.on(cc.Node.EventType.TOUCH_END, (evt) => {\n            this.clickRankTitle('btnHarian')\n        });\n        this.btnMingguan.on(cc.Node.EventType.TOUCH_END, () => {\n            this.clickRankTitle('btnMingguan')\n        });\n        this.btnSemua.on(cc.Node.EventType.TOUCH_END, () => {\n            this.clickRankTitle('btnSemua')\n        });\n\n        this.btnClosePInfo.on(cc.Node.EventType.TOUCH_END, () => {\n            this.rankPlayInfo.active = false\n        });\n        this.initData()\n        this.clickRankTitle(this._rankSelectName)\n        // this.reqRankList()\n        this.reqBetRankList()\n        this.reqHallGames()\n\n        // this.checkOnGame()\n        this.pageView.setCurrentPageIndex(0);\n        dispatchEnterComplete({ type: LogicType.HALL, views: [this] });\n\n        this.checkInvitationRegister();\n    }\n\n    private closeSplashView(): void {\n        if (cc.sys.isBrowser) {\n            document.getElementById('splash').style.display = 'none';\n        }\n    }\n\n    private checkInvitationRegister(): void {\n        if (G.DataMgr.get(AppData).invcode && !G.DataMgr.get(UserData).isLogined()) {\n            Manager.uiManager.open({ type: RegisterView, bundle: BUNDLE_RESOURCES, zIndex: 99999 });\n        }\n    }\n\n    private initData(): void {\n        this._userData = G.DataMgr.get(UserData);\n    }\n\n    checkOnGame() {\n        let userData = G.DataMgr.get(UserData);\n        let hallData = G.DataMgr.get(HallData);\n        let inGame = userData.inGame\n        if (inGame) {\n            if (inGame != 'Lobby') {\n                let id = 0;\n                let Name\n\n                let rooms = hallData.games\n                if (!rooms) return\n                let getGameIndexByRooms = () => {\n                    for (let index = 0; index < rooms.length; index++) {\n                        const element = rooms[index];\n                        if (element == inGame) {\n                            Name = element\n                            // id = element.id\n                            break\n                        }\n                        id++;\n                    }\n                }\n                getGameIndexByRooms()\n\n                let gameItem = this[`gameItem${id}`]\n                if (!gameItem) return;\n                let hallGameItem = gameItem.getComponent(HallNewGameItem)\n                hallGameItem.updateItem(Name, id)\n                hallGameItem.jumpToGame()\n            }\n        }\n    }\n\n    reqRankList() {\n        // let req = MST.C2L_GoldRankDay_Req.create({\n        //     RpcId: Manager.netManager.getNewSeqId()\n        // });\n        // let buffer = MST.C2L_GoldRankDay_Req.encode(req).finish();\n        // LobbyService.instance.sendMsg(MST.C2L_GoldRankDay_Req, MST.OuterOpcode_Lobby.C2L_GoldRankDay_Req, buffer);\n        if (this._rankSelectName == 'btnHarian') {\n            let req = MST.C2L_WinDayRank_Req.create({\n                RpcId: Manager.netManager.getNewSeqId()\n            });\n            let buffer = MST.C2L_WinDayRank_Req.encode(req).finish();\n            LobbyService.instance.sendMsg(MST.C2L_WinDayRank_Req, MST.OuterOpcode_Lobby.C2L_WinDayRank_Req, buffer);\n        } else if (this._rankSelectName == 'btnMingguan') {\n            let req = MST.C2L_WinWeekRank_Req.create({\n                RpcId: Manager.netManager.getNewSeqId()\n            });\n            let buffer = MST.C2L_WinWeekRank_Req.encode(req).finish();\n            LobbyService.instance.sendMsg(MST.C2L_WinWeekRank_Req, MST.OuterOpcode_Lobby.C2L_WinWeekRank_Req, buffer);\n        } else {\n            let req = MST.C2L_WinMonthRank_Req.create({\n                RpcId: Manager.netManager.getNewSeqId()\n            });\n            let buffer = MST.C2L_WinMonthRank_Req.encode(req).finish();\n            LobbyService.instance.sendMsg(MST.C2L_WinMonthRank_Req, MST.OuterOpcode_Lobby.C2L_WinMonthRank_Req, buffer);\n        }\n    }\n\n    reqHallGames() {\n        let req = MST.C2L_GetGameList_Req.create({\n            RpcId: Manager.netManager.getNewSeqId()\n        });\n        let buffer = MST.C2L_GetGameList_Req.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2L_GetGameList_Req, MST.OuterOpcode_Lobby.C2L_GetGameList_Req, buffer);\n    }\n\n    reqBetRankList() {\n        let req = MST.C2L_BetRank_Req.create({\n            RpcId: Manager.netManager.getNewSeqId()\n        });\n        let buffer = MST.C2L_BetRank_Req.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2L_BetRank_Req, MST.OuterOpcode_Lobby.C2L_BetRank_Req, buffer);\n    }\n\n    clickRankTitle(name) {\n        this._rankSelectName = name\n        this.refreshRankTitleBtn()\n    }\n\n    refreshRankTitleBtn() {\n        let _rankSelectName = this._rankSelectName\n        let btnTitles = ['btnHarian', 'btnMingguan', 'btnSemua']\n        for (let index = 0; index < btnTitles.length; index++) {\n            const element = btnTitles[index];\n            let btn = this[element]\n            let activeImg = btn.getChildByName('active');\n            activeImg.active = _rankSelectName == element;\n            this._rankSelectName = element;\n        }\n        this.reqRankList()\n    }\n\n    openRankInfo() {\n        this.rankPlayInfo.active = true\n    }\n\n    openLoginView() {\n        dispatch(\"openLoginView\");\n    }\n\n    bindingEvents() {\n        super.bindingEvents()\n        if (ENABLE_CHANGE_LANGUAGE) {\n            this.registerEvent(EventApi.CHANGE_LANGUAGE, this.onLanguageChange);\n        }\n\n        this.registerEvent('openRankInfo', this.openRankInfo);\n        this.registerEvent('openLoginEvent', this.openLoginView);\n        this.registerEvent(LogicEvent.ENTER_GAME_READY, this.onEnterGameReady);\n        // this.registerEvent('L2C_GoldRankDay_Res', this.L2C_GoldRankDay_Res);\n        this.registerEvent('L2C_WinDayRank_Res', this.L2C_WinDayRank_Res);\n        this.registerEvent('L2C_WinWeekRank_Res', this.L2C_WinDayRank_Res);\n        this.registerEvent('L2C_WinMonthRank_Res', this.L2C_WinDayRank_Res);\n        this.registerEvent('L2C_BetRank_Res', this.L2C_BetRank_Res);\n        // this.registerEvent('updateUserInfo', this.refreshPlayerInfo);\n        this.registerEvent('M2C_KickOut_Mes', this.M2C_KickOut_Mes);\n        this.registerEvent('updateHallGames', this.refreshGameRooms);\n\n        // this.refreshGameRooms()\n    }\n\n    onLanguageChange() {\n        this.HottestGame.string = i18n.TITLE.HOTTESTGAME;\n        this.LatestBet.string = i18n.BET_TITLE.LATESTBET;\n        this.BiggestWinner.string = i18n.BIGGESTWINNER.BIGGESTWINNER;\n        this.labGame.string = i18n.TITLE.LABGAME;\n        this.labUname.string = i18n.TITLE.LABPLAYER;\n        this.labBetAmount.string = i18n.TITLE.LABBETAMOUNT;\n\n        this.labDaily.string = i18n.TITLE.LABDAILY;\n        this.labWeekly.string = i18n.TITLE.LABWEEKLY;\n        this.labAll.string = i18n.TITLE.LABALL;\n    }\n\n    refreshGameRooms() {\n        let hallData = G.DataMgr.get(HallData);\n        let gameList = hallData.games;\n\n        if (!gameList) return\n        let gameMax = 4\n\n        for (let index = 0; index < gameMax; index++) {\n            let item = this[`gameItem${index}`]\n            if (!item) return;\n            item.active = false\n            if (index < gameList.length) {\n                if (gameList[index]) {\n                    item.active = true\n                    let script = item.getComponent(HallNewGameItem)\n                    let id = gameList[index].id\n                    script.updateItem(gameList[index], id)\n                }\n            }\n        }\n\n        this.checkOnGame();\n    }\n\n    L2C_WinDayRank_Res() {\n        let hallData = G.DataMgr.get(HallData);\n        let winRankList = hallData.winRankList\n        //test data\n        // let testData = [{ 'AccountId': 11111, 'Nick': 'jj', 'Score': 11 }, { 'AccountId': 222, 'Nick': 'gg', 'Score': 222 }]\n        // this._winRankingList = testData;\n        this._winRankingList = winRankList\n        this.updateWinRankList()\n    }\n\n    L2C_BetRank_Res() {\n        let hallData = G.DataMgr.get(HallData);\n        let betRankList = hallData.betRankList\n        this._betRankingList = betRankList\n        // this.betRankListView();\n        this.refreshBetRankView();\n    }\n\n    refreshBetRankView() {\n        if (!this.betRankView) return;\n        let betRankData = this._betRankingList;\n        for (let index = 0; index < 9; index++) {\n            let data = betRankData[index];\n            let rankItem = this.betRankView.getChildByName('HallBetRankItem' + index);\n            let rankItemComm = rankItem.getComponent(HallBetRankItem);\n            rankItem.active = false;\n            if (index < betRankData.length) {\n                rankItem.active = true;\n                rankItemComm.updateItem(data, index);\n            }\n        }\n    }\n\n    updateWinRankList() {\n        let ranList = this._winRankingList\n        if (ranList.length > 0) {\n            if (ranList.length <= 3) {\n                this['topThreeList'] = ranList;\n                this.hideWinRankView();\n            } else {\n                let spliceRankList = []\n                for (let index = 0; index < 3; index++) {\n                    let element = ranList[0];\n                    spliceRankList.push(element)\n                    ranList.splice(0, 1)\n                }\n                this['topThreeList'] = spliceRankList;\n                this.refreshWinRankView();\n            }\n\n            this.refreshRankTopThree()\n        }\n        else {\n            let topThree = this.topThree;\n            if (topThree) {\n                topThree.active = false;\n                this.hideWinRankView();\n            }\n        }\n    }\n\n    refreshRankTopThree() {\n        if (!this.topThree) return;\n        let names = ['One', 'Two', 'Three']\n        let topThreeList = this['topThreeList']\n        for (let index = 0; index < 3; index++) {\n            let item = this.topThree.getChildByName(`top${names[index]}`)\n            item.active = false\n            if (index < topThreeList.length) {\n                item.active = true\n                let data = topThreeList[index]\n                let nickName = data.Nick\n                let score = data.Score\n\n                item.getChildByName('nickName').getComponent(cc.Label).string = nickName;\n                let scoreNum = NumberUtils.converToC(score);\n                let scoreStr = NumberUtils.converToE(7, Number(scoreNum));\n                item.getChildByName('btnHuang').getChildByName('rp').getComponent(cc.Label).string = `Rp ${scoreStr}`;\n                let imgAvatar = item.getChildByName('imgAvatar').getComponent(cc.Sprite)\n                UtilMgr.loadHeadImg(imgAvatar, data.headUrl, data.headUrl, this);\n            }\n        }\n    }\n\n    hideWinRankView() {\n        if (!this.winRankView) return;\n        for (let index = 0; index < 9; index++) {\n            let rankItem = this.winRankView.getChildByName('HallWinRankItem' + index);\n            rankItem.active = false;\n        }\n    }\n    refreshWinRankView() {\n        if (!this.winRankView) return;\n        let winRankData = this._winRankingList;\n        for (let index = 0; index < 9; index++) {\n            let data = winRankData[index];\n            let rankItem = this.winRankView.getChildByName('HallWinRankItem' + index);\n            rankItem.active = false;\n            if (index < winRankData.length) {\n                rankItem.active = true;\n\n                let labIndex = rankItem.getChildByName('labIndex').getComponent(cc.Label);\n                let uname = rankItem.getChildByName('nameLabel').getComponent(cc.Label);\n                let gold = rankItem.getChildByName('goldLabel').getComponent(cc.Label);\n                let imgAvatar = rankItem.getChildByName('imgAvatar').getComponent(cc.Sprite)\n                if ((index + 4) < 10)\n                    labIndex.string = `0${String(index + 4)}`;\n                else\n                    labIndex.string = `${String(index + 4)}`;\n\n                uname.string = UtilMgr.setString(data.Nick);\n                gold.string = `Rp ${NumberUtils.converToC(data.Score)}`;\n\n                if (data.headImgUrl)\n                    UtilMgr.loadHeadImg(imgAvatar, data.headImgUrl, data.headImgUrl, this)\n            }\n        }\n    }\n\n    onPageEvent(sender, eventType) {\n        // 翻页事件\n        if (eventType !== cc.PageView.EventType.PAGE_TURNING) {\n            return;\n        }\n        console.log(\"当前所在的页面索引:\" + sender.getCurrentPageIndex());\n    }\n\n    onClick(name, node) {\n        switch (name) {\n            case 'btnAkun':\n                dispatch(\"openAkunView\");\n                break;\n            case 'btnDompet':\n                dispatch(\"openDompetView\");\n                break;\n            case 'btnEvent':\n                dispatch(\"openActiveView\");\n                break;\n            case 'head':\n                dispatch(\"openAkunView\");\n                break;\n            case 'btnQiandao':\n                if (this.checkLogined())\n                    dispatch(\"openSigninView\");\n                break;\n            case 'berputarNode':\n                dispatch(\"openMinigameView\");\n                break;\n        }\n    }\n\n    show(args) {\n        // this.pageView.setCurrentPageIndex(0);\n        this.onLanguageChange();\n        this.loopRequestBetRank();\n\n        //test\n        // this.betRankListView()\n        // PanelHelp.showTip(Manager.makeLanguage('TIPS.RECHARGESUCCESS', true));\n    }\n\n    checkLogined() {\n        if (!this._userData.id) {\n            Manager.uiManager.open({ type: LoginNewView, bundle: BUNDLE_RESOURCES });\n            return false;\n        }\n        return true;\n    }\n\n    loopRequestBetRank() {\n        let self = this;\n        let loopHandler = function () {\n            self.reqBetRankList();\n        }\n\n        // this.schedule(loopHandler, 3);\n        this['loopHandler'] = loopHandler;\n    }\n\n    enterTimes = 0\n    onEnterGameReady(game) {\n        let gameBundle\n        switch (game) {\n            case 'crash':\n                gameBundle = SubGameDefine.GameName.CRASH;\n                break;\n            case \"roulette\":\n                gameBundle = SubGameDefine.GameName.ROULETTE;\n                break\n            case \"wingo\":\n                gameBundle = SubGameDefine.GameName.WINGO;\n                break;\n            default:\n                break;\n        }\n        PanelHelp.showLoading(i18n.Waiting.EnterGame, true);\n        if (this.enterTimes >= 1) return\n        dispatch(LogicEvent.ENTER_GAME, { bundle: gameBundle });\n        this.enterTimes++\n    }\n\n    M2C_KickOut_Mes() {\n        let userData = G.DataMgr.get(UserData);\n        userData.clearUserData();\n        // dispatch(\"openLoginView\");\n    }\n\n    onDestroy(): void {\n        console.log(\"2222\");\n        let loopHandler = this['loopHandler'];\n        if (loopHandler) {\n            this.unschedule(this['loopHandler']);\n            loopHandler = null;\n        }\n\n    }\n\n}\n"]}