{"version":3,"sources":["assets/script/Application.js"],"names":["Manager","init","cc","Node","prototype","Run","actions","Array","slice","call","arguments","length","runAction","sequence","LastChild","children","PathChild","path","componentName","names","split","nd","i","getChildByName","getComponent","Component","name","EachChild","cb","forEach","child","Play","idx","ani","Animation","clips","getClips","error","node","play","GotoAnimateTime","aniName","time","pause","getAnimationState","duration","setCurrentTime","setString","str","isLen","lb","Label","nameLabel","substring","string","indexOf","val","remove","index","splice"],"mappings":"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","sourceRoot":"/","sourcesContent":["import { Manager } from \"./common/manager/Manager\"\n\nManager.init();\n\n\ncc.Node.prototype.Run = function () {\n\tlet actions = Array.prototype.slice.call(arguments)\n\tif (actions.length == 1) {\n\t\tthis.runAction(actions[0])\n\t} else if (actions.length >= 2) {\n\t\tthis.runAction(cc.sequence(actions))\n\t} else {\n\t\t// do nothing\n\t}\n}\n\ncc.Node.prototype.LastChild = function () {\n\treturn this.children[this.children.length - 1]\n}\n\ncc.Node.prototype.PathChild = function (path, componentName) {\n\tlet names = path.split('/')\n\tlet nd = null\n\tfor (let i = 0; i < names.length; i++) {\n\t\tif (nd) {\n\t\t\tnd = nd.getChildByName(names[i])\n\t\t} else {\n\t\t\tnd = this.getChildByName(names[i])\n\t\t}\n\t}\n\n\tif (componentName) {\n\t\treturn nd.getComponent(componentName)\n\t} else {\n\t\treturn nd\n\t}\n}\n\ncc.Node.prototype.Component = function (name) {\n\treturn this.getComponent(name)\n}\n\ncc.Node.prototype.EachChild = function (cb) {\n\tthis.children.forEach((child) => {\n\t\tcb(child)\n\t})\n}\n\ncc.Node.prototype.Play = function (idx) {\n\tlet ani = this.getComponent(cc.Animation)\n\tlet clips = ani.getClips()\n\tif (clips.length == 0) {\n\t\tcc.error(\"There's no clip in node\", this.node)\n\t}\n\tani.play(clips[idx].name)\n}\n\ncc.Node.prototype.GotoAnimateTime = function (aniName, time) {\n\tlet ani = this.getComponent(cc.Animation)\n\n\tif (!aniName) {\n\t\tlet clips = ani.getClips()\n\t\tif (clips.length == 0) {\n\t\t\tcc.error(\"There's no clip in node\", this.node)\n\t\t}\n\t\taniName = clips[0].name\n\t}\n\tani.play(aniName)\n\tani.pause()\n\n\tif (time < 0) {\n\t\ttime = ani.getAnimationState(aniName).duration\n\t}\n\n\tani.setCurrentTime(time)\n}\ncc.Node.prototype.setString = function (str , isLen) {\n\tlet lb = this.getComponent(cc.Label)\n\tif (isLen){\n\t\tif (str.length > 7) {\n\t\t\tlet nameLabel = str.substring(0, 7);\n\t\t\tstr = nameLabel + \"...\";\n\t\t} else {\n\t\t\tstr = str;\n\t\t}\n\t}\n\tlb.string = str;\n}\n\nArray.prototype.indexOf = function (val) {\n    for (var i = 0; i < this.length; i++) {\n        if (this[i] == val) return i;\n    }\n    return -1;\n};\n\nArray.prototype.remove = function (val) {\n    var index = this.indexOf(val);\n    if (index > -1) {\n        this.splice(index, 1);\n    }\n};"]}