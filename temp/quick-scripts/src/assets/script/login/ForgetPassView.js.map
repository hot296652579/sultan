{"version":3,"sources":["assets/script/login/ForgetPassView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameConfig } from \"../common/base/HotUpdate\";\nimport { Config } from \"../common/config/Config\";\nimport { dispatchEnterComplete, LogicEvent, LogicType } from \"../common/event/LogicEvent\";\nimport { i18n } from \"../common/language/LanguageImpl\";\nimport { gameManager } from \"../common/manager/GameManager\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { CommonMessage, protoPackage, serverType } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { BUNDLE_RESOURCES } from \"../framework/base/Defines\";\nimport { IController } from \"../framework/controller/Controller\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport { EventApi } from \"../framework/event/EventApi\";\nimport { HttpErrorType, RequestPackge } from \"../framework/net/HttpClient\";\nimport UIView from \"../framework/ui/UIView\";\nimport { User } from \"../global/User\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\nimport { ShareTraceHelpder } from \"../Helpder/shareTrace/ShareTraceHelpder\";\nimport LanguageChange from \"../common/language/LanguageChange\";\nimport ServiceView from \"../service/ServiceView\";\nimport RichTextHandler from \"./RichTextHandler\";\nimport Validator from \"./Validator\";\nimport { MST } from \"../framework/external/protoc\";\nimport CountDownCode from \"../common/component/CountDownCode\";\n\nconst { ccclass, property } = cc._decorator;\n\n\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class ForgetPassView extends UIView implements IController<LobbyService> {\n\n    @property(cc.Node)\n    btnClose: cc.Node = null;\n\n    @property(cc.Node)\n    btnCountDown: cc.Node = null;\n\n    @property(cc.Node)\n    hidePassNode: cc.Node = null;\n\n    @property(cc.EditBox)\n    emailEditBox: cc.EditBox = null;\n    m_emailStr: string = \"\";\n\n    @property(cc.EditBox)\n    codeEditBox: cc.EditBox = null;\n    m_codeStr: string = \"\";\n\n    @property(cc.EditBox)\n    passwordEditBox: cc.EditBox = null;\n    m_passwordStr: string = \"\";\n\n    public static getPrefabUrl() {\n        return \"login/prefabs/ForgetPassView\";\n    }\n    service: LobbyService = null;\n    onLoad() {\n        super.onLoad();\n        this.bindEvents();\n        // this.audioHelper.playMusic(\"common/audio/login_bgm\", BUNDLE_RESOURCES);\n\n        this.btnClose.on(cc.Node.EventType.TOUCH_END, () => {\n            this.close();\n        });\n\n        this.btnCountDown.active = false;\n    }\n\n    bindEvents() {\n        this.emailEditBox.node.on(\"editing-did-began\", this.onEmailBegan, this);\n        this.emailEditBox.node.on(\"editing-did-ended\", this.onEmailEnded, this);\n        this.emailEditBox.node.on(\"editing-return\", this.onEmailEnded, this);\n        this.emailEditBox.node.on(\"text-changed\", this.onEmailChanged, this);\n\n        this.codeEditBox.node.on(\"editing-did-began\", this.onCodeBegan, this);\n        this.codeEditBox.node.on(\"editing-did-ended\", this.onCodeEnded, this);\n        this.codeEditBox.node.on(\"editing-return\", this.onCodeEnded, this);\n        this.codeEditBox.node.on(\"text-changed\", this.onCodeChanged, this);\n\n        this.passwordEditBox.node.on(\"editing-did-began\", this.onPassWordBegan, this);\n        this.passwordEditBox.node.on(\"editing-did-ended\", this.onPassWordEnded, this);\n        this.passwordEditBox.node.on(\"editing-return\", this.onPassWordEnded, this);\n        this.passwordEditBox.node.on(\"text-changed\", this.onPassWordChanged, this);\n    }\n\n    bindingEvents() {\n        super.bindingEvents();\n        this.registerEvent('Event_S2C_GetCheckCode', this.onEvent_S2C_GetCheckCode);\n        this.registerEvent('Event_S2C_ResetPassword', this.onEvent_S2C_ResetPassword);\n    }\n\n    startCountDown() {\n        let common = this.btnCountDown.getComponent(CountDownCode);\n        common._doStartTime();\n    }\n\n    private onEmailBegan(target: cc.EditBox): void {\n        this.emailEditBox.string = this.m_emailStr;\n    }\n\n    private onEmailEnded(target: cc.EditBox): void {\n        if (this.m_emailStr.length <= 0) {\n            return;\n        }\n\n        this.emailEditBox.string = this.m_emailStr;\n    }\n\n    private onEmailChanged(content: cc.EditBox): void {\n        this.m_emailStr = content.string;\n    }\n\n    private onCodeBegan(target: cc.EditBox): void {\n        this.codeEditBox.string = this.m_codeStr;\n    }\n\n    private onCodeEnded(target: cc.EditBox): void {\n        if (this.m_codeStr.length <= 0) {\n            return;\n        }\n\n        this.codeEditBox.string = this.m_codeStr;\n    }\n\n    private onCodeChanged(content: cc.EditBox): void {\n        this.m_codeStr = content.string;\n    }\n\n    private onPassWordBegan(target: cc.EditBox): void {\n        this.passwordEditBox.string = this.m_passwordStr;\n    }\n\n    private onPassWordEnded(target: cc.EditBox): void {\n        if (this.m_passwordStr.length <= 0) {\n            return;\n        }\n\n        this.passwordEditBox.string = this.m_passwordStr;\n    }\n\n    private onPassWordChanged(content: cc.EditBox): void {\n        this.m_passwordStr = content.string;\n    }\n\n    onClick(name, node) {\n        switch (name) {\n            case 'btnClose':\n                this.close();\n                break;\n            case 'btnSetPass':\n                this.clickSetPass();\n                break;\n            case 'btnGetCode':\n                this.clickGetCodeHanlder();\n                break;\n            case 'btnHidePassword':\n                this.clickHidePass()\n                break;\n            default:\n                break;\n        }\n    }\n\n    clickHidePass() {\n        let iconHide = this.hidePassNode.getChildByName('iconHide');\n        let iconShow = this.hidePassNode.getChildByName('iconShow');\n\n        iconHide.active = !iconHide.active;\n        iconShow.active = !iconShow.active;\n\n        this.passwordEditBox.inputFlag = iconShow.active ? cc.EditBox.InputFlag.DEFAULT : cc.EditBox.InputFlag.PASSWORD;\n    }\n\n    clickGetCodeHanlder() {\n        let validator = new Validator();\n        let email = this.m_emailStr;\n        validator.add(email, [{\n            strategy: 'isEmail',\n            errorMsg: i18n.REGISTER.EMAILWRONG\n        }]);\n        validator.add(email, [{\n            strategy: 'isNonEmpty',\n            errorMsg: i18n.REGISTER.EMAILINFORMATIONEMPTY\n        }]);\n\n        let errorMsg = validator.start();\n        if (errorMsg) {\n            PanelHelp.showTip(errorMsg);\n            return;\n        }\n        this.startCountDown();\n        this.requestGetCheckCode();\n    }\n\n    requestGetCheckCode() {\n        let username = this.m_emailStr;\n        let req = MST.C2S_GetCheckCode.create({\n            serial: Manager.netManager.getNewSeqId(),\n            username\n        });\n        let buffer = MST.C2S_GetCheckCode.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2S_GetCheckCode, MST.OuterOpcode_Lobby.C2S_GetCheckCode, buffer);\n    }\n\n    onEvent_S2C_GetCheckCode() {\n        PanelHelp.showTip(i18n.REGISTER.PLEASECHECK);\n    }\n\n    validataFunc() {\n        let validator = new Validator()\n\n        let Code = this.m_codeStr;\n        validator.add(Code, [{\n            strategy: 'isNonEmpty',\n            errorMsg: i18n.REGISTER.CODEINFORMATIONEMPTY\n        }]);\n\n        let email = this.m_emailStr;\n        validator.add(email, [{\n            strategy: 'isNonEmpty',\n            errorMsg: i18n.REGISTER.EMAILINFORMATIONEMPTY\n        }]);\n\n        let password = this.m_passwordStr;\n        validator.add(password, [{\n            strategy: 'minLength:8',\n            errorMsg: i18n.REGISTER.PASSWORD8\n        }]);\n\n        let errorMsg = validator.start()\n        return errorMsg\n    }\n\n    clickSetPass() {\n        let errorMsg = this.validataFunc()\n        if (errorMsg) {\n            PanelHelp.showTip(errorMsg);\n            return;\n        }\n\n        this.requestResetPassword();\n    }\n\n    requestResetPassword() {\n        let username = this.m_emailStr;\n        let password = this.m_passwordStr;\n        let checkCode = this.m_codeStr;\n\n        let req = MST.C2S_ResetPassword.create({\n            serial: Manager.netManager.getNewSeqId(),\n            username,\n            password,\n            checkCode\n        });\n        let buffer = MST.C2S_ResetPassword.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2S_ResetPassword, MST.OuterOpcode_Lobby.C2S_ResetPassword, buffer);\n    }\n\n    onEvent_S2C_ResetPassword() {\n        PanelHelp.showTip(i18n.REGISTER.CHANGEPASSWORDSUCCESS);\n        this.close();\n    }\n}\n"]}