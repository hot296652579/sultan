{"version":3,"sources":["assets/script/signin/SigninNew.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { i18n } from \"../common/language/LanguageImpl\";\nimport { protoPackage, serverType } from \"../common/net/CommonService\";\nimport { LobbyService } from \"../common/net/LobbyService\";\nimport { IController } from \"../framework/controller/Controller\";\nimport { injectService, makeKey } from \"../framework/decorator/Decorators\";\nimport UIView from \"../framework/ui/UIView\";\nimport { User } from \"../global/User\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\nimport { Manager } from \"../common/manager/Manager\";\nimport { UtilMgr } from \"../global/UtilMgr\";\nimport { MST } from \"../framework/external/protoc\";\nimport HallData from \"../data/HallData\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n@injectService(LobbyService.instance)\nexport default class SigninNew extends UIView implements IController<LobbyService> {\n    service: LobbyService;\n\n    @property(cc.Node)\n    SevenSigin: cc.Node = null;\n    @property(cc.Node)\n    ThirtySigin: cc.Node = null;\n\n    @property(cc.Node)\n    dayItem0: cc.Node = null;\n    @property(cc.Node)\n    dayItem1: cc.Node = null;\n    @property(cc.Node)\n    dayItem2: cc.Node = null;\n    @property(cc.Node)\n    dayItem3: cc.Node = null;\n    @property(cc.Node)\n    dayItem4: cc.Node = null;\n    @property(cc.Node)\n    dayItem5: cc.Node = null;\n    @property(cc.Node)\n    dayItem6: cc.Node = null;\n\n    @property(cc.Node)\n    dayNode0: cc.Node = null;\n    @property(cc.Node)\n    dayNode1: cc.Node = null;\n    @property(cc.Node)\n    dayNode2: cc.Node = null;\n    @property(cc.Node)\n    dayNode3: cc.Node = null;\n    @property(cc.Node)\n    dayNode4: cc.Node = null;\n    @property(cc.Node)\n    dayNode5: cc.Node = null;\n\n    public static getPrefabUrl() {\n        return \"signin/prefabs/SigninNew\";\n    }\n\n    onLoad() {\n        super.onLoad();\n\n    }\n\n    bindingEvents() {\n        super.bindingEvents();\n        this.registerEvent('Event_S2C_GetSignedInfo', this.onEvent_S2C_GetSignedInfo);\n        this.registerEvent('Event_S2C_Signed', this.onEvent_S2C_Signed);\n    }\n\n    show(args) {\n        // super.show(args);\n        this.requestGetSigned();\n    }\n\n    requestGetSigned() {\n        let req = MST.C2S_GetSignedInfo.create({\n            serial: Manager.netManager.getNewSeqId()\n        });\n        let buffer = MST.C2S_GetSignedInfo.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2S_GetSignedInfo, MST.OuterOpcode_Lobby.C2S_GetSignedInfo, buffer);\n    }\n\n    onEvent_S2C_GetSignedInfo() {\n        let hallData = G.DataMgr.get(HallData);\n        let signinData = hallData.signinData;\n        this.SevenSigin.active = false;\n        this.ThirtySigin.active = false;\n\n        if (signinData.signedType == 0) {\n            this.SevenSigin.active = true;\n            this.refreshSevenView();\n        }\n        else {\n            this.ThirtySigin.active = true;\n            this.refreshThirtyView();\n        }\n    }\n\n    onEvent_S2C_Signed() {\n        this.requestGetSigned();\n\n        let hallData = G.DataMgr.get(HallData);\n        let signinData = hallData.signinData;\n        let serial = signinData.serial;\n        let reward = signinData.reward\n        if (reward && reward > 0) {\n            if (serial == 0) {\n                PanelHelp.showTip(i18n.TIPS.SEVENSIGNINSUCCESS);\n            } else {\n                PanelHelp.showTip(i18n.TIPS.THIRTYSIGNINSUCCESS);\n            }\n        } else\n            PanelHelp.showTip(i18n.TIPS.SIGNINSUCCESS);\n    }\n\n    refreshSevenView() {\n        let self = this;\n        let hallData = G.DataMgr.get(HallData);\n        let signinData = hallData.signinData;\n        let signedDays = signinData.signedDays;\n        let isSigned = signinData.isSigned;\n\n        for (let index = 0; index < 7; index++) {\n            let dayItem = this[`dayItem${index}`];\n            let bg = dayItem.getChildByName('bg');\n            let canGet = bg.getChildByName('canGet');\n            let obtain = bg.getChildByName('obtain');\n            let noReach = bg.getChildByName('noReach');\n            let btnMasuk = canGet.getChildByName('btnMasuk');\n            noReach.active = true;\n            canGet.active = false;\n            obtain.active = false;\n            // console.log('signedDays->:' + signedDays);\n            if (signedDays > 0) {\n                if (index < signedDays) {\n                    obtain.active = true;\n                    noReach.active = false;\n                }\n                else {\n                    if (index == signedDays) {\n                        if (!isSigned) {\n                            canGet.active = true;\n                            obtain.active = false;\n                            noReach.active = false;\n\n                            btnMasuk.on(cc.Node.EventType.TOUCH_END, (evt) => {\n                                // console.log('index ->:' + index);\n                                self.requestSignHandler();\n                            });\n                        }\n                    } else {\n                        noReach.active = true;\n                    }\n                }\n            }\n            else {\n                if (index == 0) {\n                    canGet.active = true;\n                    noReach.active = false;\n\n                    btnMasuk.on(cc.Node.EventType.TOUCH_END, (evt) => {\n                        // console.log('index ->:' + index);\n                        self.requestSignHandler();\n                    });\n                }\n            }\n        }\n    }\n\n    requestSignHandler() {\n        let req = MST.C2S_Signed.create({\n            serial: Manager.netManager.getNewSeqId()\n        });\n        let buffer = MST.C2S_Signed.encode(req).finish();\n        LobbyService.instance.sendMsg(MST.C2S_Signed, MST.OuterOpcode_Lobby.C2S_Signed, buffer);\n    }\n\n    refreshThirtyView() {\n        let self = this;\n        let hallData = G.DataMgr.get(HallData);\n        let signinData = hallData.signinData;\n        let signedDays = signinData.signedDays;\n        let isSigned = signinData.isSigned;\n\n        let _total = 0;\n        let _i = 0;\n        let layNum = 0;\n        for (let index = 0; index < 6; index++) {\n            for (let index = 0; index < 5; index++) {\n                if (_i > 4) {\n                    _i = 0;\n                    layNum++;\n                }\n                // console.log('layNum : ' + layNum);\n                // console.log('_i ->' + _i);\n                let dayNode = this[`dayNode${layNum}`];\n                let dayItem = dayNode.getChildByName(`day${_i}`);\n                let labDay = dayItem.getChildByName('day0').getComponent(cc.Label);\n                labDay.string = `Day${_total + 1}`;\n\n                let canGet = dayItem.getChildByName('canGet');\n                let obtain = dayItem.getChildByName('obtain');\n                let noReach = dayItem.getChildByName('noReach');\n                let btnMasuk = canGet.getChildByName('btnMasuk');\n                canGet.active = false;\n                obtain.active = false;\n                noReach.active = true;\n\n                if (signedDays > 0) {\n                    if (_total < signedDays) {\n                        obtain.active = true;\n                        noReach.active = false;\n                    }\n                    else {\n                        if (_total == signedDays) {\n                            if (!isSigned) {\n                                canGet.active = true;\n                                obtain.active = false;\n                                noReach.active = false;\n\n                                btnMasuk.on(cc.Node.EventType.TOUCH_END, (evt) => {\n                                    // console.log('index ->:' + index);\n                                    self.requestSignHandler();\n                                });\n                            }\n                        } else {\n                            noReach.active = true;\n                        }\n                    }\n                }\n                else {\n                    if (_total == 0) {\n                        canGet.active = true;\n                        noReach.active = false;\n\n                        btnMasuk.on(cc.Node.EventType.TOUCH_END, (evt) => {\n                            // console.log('index ->:' + index);\n                            self.requestSignHandler();\n                        });\n                    }\n                }\n\n                _total++;\n                _i++;\n            }\n        }\n    }\n\n    onClick(name, node) {\n        switch (name) {\n            case 'btnClose':\n                this.close();\n                break;\n        }\n    }\n\n    onDestroy() {\n        super.onDestroy();\n    }\n\n    // update (dt) {}\n}\n"]}