{"version":3,"sources":["assets/script/piggyBank/PBPasswdComponent.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;AAElF,kEAAuD;AACvD,oEAA4C;AAE5C,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAE5C,OAAO;AACP,MAAM,aAAa,GAAW,GAAG,CAAC;AAGlC,IAAqB,QAAQ,GAA7B,MAAqB,QAAS,SAAQ,EAAE,CAAC,SAAS;IAAlD;;QAGI,YAAO,GAAe,IAAI,CAAC;QAEnB,kBAAa,GAAW,EAAE,CAAC;QA+CnC,iBAAiB;IACrB,CAAC;IA9CG,MAAM;QACF,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,KAAK;IAEL,CAAC;IAED,IAAW,MAAM;QACb,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAEO,QAAQ;QACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IACnE,CAAC;IAEO,UAAU,CAAC,MAAkB;QACjC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;IAC7C,CAAC;IAEO,UAAU,CAAC,MAAkB;QACjC,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,CAAC,EAAE;YAChC,OAAO;SACV;QAED,IAAI,GAAG,GAAW,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC;QAC1C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;YAC/B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;YACzC,mBAAS,CAAC,OAAO,CAAC,mBAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;YACjD,OAAO;SACV;QAED,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,EAAE;YACxD,OAAO,aAAa,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,aAAa,CAAC,OAAmB;QACrC,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,MAAM,CAAC;IACxC,CAAC;CAGJ,CAAA;AAlDG;IADC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;yCACM;AAHV,QAAQ;IAD5B,OAAO;GACa,QAAQ,CAqD5B;kBArDoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { i18n } from \"../common/language/LanguageImpl\";\nimport PanelHelp from \"../msgbox/PanelHelp\";\n\nconst { ccclass, property } = cc._decorator;\n\n// 密码字符\nconst PASSWORD_CHAR: string = \"●\";\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.EditBox)\n    editBox: cc.EditBox = null;\n\n    private m_realContent: string = \"\";\n\n    onLoad() {\n        this.register();\n    }\n\n    start() {\n\n    }\n\n    public get string(): string {\n        return this.m_realContent;\n    }\n\n    private register(): void {\n        this.editBox.node.on(\"editing-did-began\", this.onDidBegan, this);\n        this.editBox.node.on(\"editing-did-ended\", this.onDidEnded, this);\n        this.editBox.node.on(\"editing-return\", this.onDidEnded, this);\n        this.editBox.node.on(\"text-changed\", this.onTextChanged, this);\n    }\n\n    private onDidBegan(target: cc.EditBox): void {\n        this.editBox.string = this.m_realContent;\n    }\n\n    private onDidEnded(target: cc.EditBox): void {\n        if (this.m_realContent.length <= 0) {\n            return;\n        }\n\n        let reg: RegExp = new RegExp(/^\\d{1,}$/g);\n        if (!reg.test(this.m_realContent)) {\n            this.m_realContent = \"\";\n            this.editBox.string = this.m_realContent;\n            PanelHelp.showTip(i18n.PIGGY_BANK.MUST_6_DIGITS);\n            return;\n        }\n\n        this.editBox.string = this.m_realContent.replace(/./g, () => {\n            return PASSWORD_CHAR;\n        });\n    }\n\n    private onTextChanged(content: cc.EditBox): void {\n        this.m_realContent = content.string;\n    }\n\n    // update (dt) {}\n}\n"]}