window.__require=function t(e,i,n){function o(s,r){if(!i[s]){if(!e[s]){var l=s.split("/");if(l=l[l.length-1],!e[l]){var c="function"==typeof __require&&__require;if(!r&&c)return c(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){return o(e[s][1][t]||t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({WingoBetView:[function(t,e,i){"use strict";cc._RF.push(e,"5904bJ1b6pBhaww9PtqHFib","WingoBetView");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../../../script/common/manager/Manager"),s=t("../../../../script/common/net/LobbyService"),r=o(t("../../../../script/common/utils/NumberUtils")),l=o(t("../../../../script/data/UserData")),c=t("../../../../script/framework/base/Defines"),h=t("../../../../script/framework/decorator/Decorators"),d=t("../../../../script/framework/event/EventApi"),g=o(t("../../../../script/framework/extentions/Operation")),u=t("../../../../script/framework/external/protoc"),p=o(t("../../../../script/framework/ui/UIView")),m=t("../../../../script/global/UtilMgr"),f=o(t("../../../../script/msgbox/PanelHelp")),C=t("../config/WingoConfig"),b=o(t("../data/WingoData")),_=t("../define/WingoEventDefine"),y=o(t("../protocol/WingoNetController")),{ccclass:L,property:M}=cc._decorator;let T=class extends p.default{constructor(){super(...arguments),this.spfNumBetTitle=[],this.spfColorBetTitle=[],this.spfNumBetOption=[],this.spfColorBetOption=[],this.spfNumBet=[],this.spfColorBet=[],this.nodRoot=null,this.imgTitleBg=null,this.labTitle=null,this.labBetOptionTitle=null,this.togBetOption=null,this.imgBetOption=[],this.labMultiTitle=null,this.edbMulti=null,this.labServiceCostTitle=null,this.labMaxMultiTitle=null,this.labServiceCost=null,this.labCancel=null,this.btnBet=null,this.imgBet=null,this.labTotalCost=null,this._data=null,this._userData=null,this._wingoData=null,this._showPosition=null,this._hidePosition=null,this._currSelectGold=null,this._currSelectGoldType=null}static getPrefabUrl(){return"prefabs/WingoBetView"}onLoad(){super.onLoad(),this.initData(),this.initView()}start(){}bindingEvents(){super.bindingEvents(),c.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(d.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("Event_M2C_WingoBet_Res",this.onEvent_M2C_WingoBet_Res),this.registerEvent(_.WingoEventDefine.WingoStopBet,this.onEventWingoStopBet),this.registerEvent(_.WingoEventDefine.WingoStartBet,this.onEventWingoStartBet)}show(t){super.show(t),this._data=t[0],this.clickBetGold(0),this.refreshColour(),this.showWithAction(!0),this.onLanguageChange()}showWithAction(t,e){this.content&&(t||this.show(this.args),this.content.stopAllActions(),this.content.getComponent(cc.Widget)&&(this.content.getComponent(cc.Widget).enabled=!1),cc.tween(this.content).set({position:this._hidePosition}).to(.1,{position:this._showPosition}).call(()=>{e&&e(),this.content.getComponent(cc.Widget)&&(this.content.getComponent(cc.Widget).enabled=!0)}).start())}hideWithAction(t){this.content&&(this.content.stopAllActions(),cc.tween(this.content).set({position:this._showPosition}).to(.1,{position:this._hidePosition}).call(()=>{this.hide(),t&&t()}).start())}onLanguageChange(){this.refreshTitleText(),this.labBetOptionTitle.language=a.Manager.makeLanguage("labBetOptionTitle",!0),this.labMultiTitle.language=a.Manager.makeLanguage("labMultiTitle",!0),this.labServiceCostTitle.language=a.Manager.makeLanguage("labServiceCostTitle",!0),this.labMaxMultiTitle.language=a.Manager.makeLanguage("labMaxMultiTitle",!0),this.labCancel.language=a.Manager.makeLanguage("labCancel",!0),this.refreshTotalBetGoldText()}initData(){this._userData=G.DataMgr.get(l.default),this._wingoData=G.DataMgr.get(b.default),this.content=this.nodRoot,this._showPosition=cc.v2(0,-this.node.height/2+this.nodRoot.height/2),this._hidePosition=cc.v2(0,-this.node.height/2-this.nodRoot.height/2)}initView(){this.initColor(),this.nodRoot.position=this._hidePosition,this.setEditboxMulti(1)}initColor(){this.imgTitleBg.spriteFrame=null;for(let t of this.imgBetOption)t.spriteFrame=null;this.imgBet.spriteFrame=null}refreshColour(){if(this._data.type===u.MST.WingoBetType.Num){this.imgTitleBg.spriteFrame=this.spfNumBetTitle[this._data.value],this.imgBet.spriteFrame=this.spfNumBet[this._data.value];for(let t of this.imgBetOption)t.spriteFrame=this.spfNumBetOption[this._data.value]}else if(this._data.type===u.MST.WingoBetType.Color){this.imgTitleBg.spriteFrame=this.spfColorBetTitle[this._data.value],this.imgBet.spriteFrame=this.spfColorBet[this._data.value];for(let t of this.imgBetOption)t.spriteFrame=this.spfColorBetOption[this._data.value]}}setEditboxMulti(t){this.edbMulti.string=t.toString()}getEditboxMulti(){let t=Number(this.edbMulti.string);return t<1?t=1:t>999&&(t=999),t}setTotalBetGoldText(t){this.labTotalCost.language=a.Manager.makeLanguage(["labTotalCost",m.UtilMgr.formatMoney(t.toString(),!0)],!0)}refreshTitleText(){this._data.type===u.MST.WingoBetType.Num?this.labTitle.language=a.Manager.makeLanguage(["labTitle",this._data.value],!0):this._data.type===u.MST.WingoBetType.Color&&(this.labTitle.language=a.Manager.makeLanguage(C.WingoConfig.BetTitleLanguage[this._data.value],!0))}refreshTotalBetGoldText(){let t=this.getEditboxMulti();this.setTotalBetGoldText(Math.floor(g.default.mul(t,this._currSelectGold)))}refreshMultiText(){let t=this.getEditboxMulti();this.labServiceCost.string=Math.floor(g.default.mul(g.default.mul(t,this._currSelectGold),g.default.div(this._wingoData.cost,1e4))).toString()}getBetGoldByIndex(t){let e=0;this._userData&&this._userData.info&&this._userData.info.Gold&&(e=Number(this._userData.info.Gold));let i=null;switch(t){case 0:i=2e3;break;case 1:i=2e4;break;case 2:i=Number(r.default.converToC(.5*e));break;case 3:i=Number(r.default.converToC(e))}return i}getBetGoldTypeByIndex(t){let e=null;switch(t){case 0:e=u.MST.WingoBetGoldType.Gold2000;break;case 1:e=u.MST.WingoBetGoldType.Gold20000;break;case 2:e=u.MST.WingoBetGoldType.Half;break;case 3:e=u.MST.WingoBetGoldType.AllIn}return e}clickBetGold(t){this._currSelectGold=this.getBetGoldByIndex(t),this._currSelectGoldType=this.getBetGoldTypeByIndex(t),this.togBetOption.node.getChildByName(`toggle${t}`).getComponent(cc.Toggle).isChecked=!0,this.refreshMultiText(),this.refreshTotalBetGoldText()}clickMulti(t){let e=this.getEditboxMulti(),i=e;switch(t){case 0:e=(i-=1)<1?1:i;break;case 1:e=(i+=1)>999?999:i;break;case 2:e=(i=Math.floor(i/2))<1?1:i;break;case 3:e=(i*=2)>999?999:i}this.setEditboxMulti(e),this.refreshMultiText(),this.refreshTotalBetGoldText()}onChangedMulti(t,e){let i=t.split("");for(let a=i.length-1;a>=0;--a)/[0-9]/g.test(i[a])||i.splice(a,1);let n=1,o=i.join(",").replace(/,/g,"");o.length>0&&(n=Number(o)),t=n.toString(),e.string=t,this.refreshMultiText(),this.refreshTotalBetGoldText()}testM2C_WingoBet_Res(){a.Manager.netManager.mainNode.getComponent(y.default).onM2C_WingoBet_Res({RpcId:a.Manager.netManager.getNewSeqId()-1,Error:0,Message:""})}C2M_WingoBet_Req(t){let e=u.MST.C2M_WingoBet_Req.create({RpcId:a.Manager.netManager.getNewSeqId(),Mode:this._wingoData.currMode,BetType:this._data.type,BetValue:this._data.value,Multi:this.getEditboxMulti(),GoldType:t}),i=u.MST.C2M_WingoBet_Req.encode(e).finish();s.LobbyService.instance.sendMsg(u.MST.C2M_WingoBet_Req,u.MST.OuterOpcode_WingoGame.C2M_WingoBet_Req,i)}clickBet(){let t=g.default.mul(this._currSelectGold,this.getEditboxMulti());t<2e3?f.default.showTip(a.Manager.makeLanguage("MinimumBet",!0)):t>Number(this._userData.info.Gold)?f.default.showTip(a.Manager.makeLanguage("InsufficientAmount",!0)):this.C2M_WingoBet_Req(this._currSelectGoldType)}onEvent_M2C_WingoBet_Res(t){this._data=null,this._currSelectGold=null,this.hideWithAction()}onEventWingoStopBet(){this.btnBet.interactable=!1}onEventWingoStartBet(){this.btnBet.interactable=!0}onClick(t,e,i){switch(t){case"toggle0":case"toggle1":case"toggle2":case"toggle3":this.clickBetGold(Number(i));break;case"btnMulti0":case"btnMulti1":case"btnMulti2":case"btnMulti3":this.clickMulti(Number(i));break;case"btnClose":case"btnCancel":this.hideWithAction();break;case"btnBet":this.clickBet()}}onDestroy(){super.onDestroy()}};n([M([cc.SpriteFrame])],T.prototype,"spfNumBetTitle",void 0),n([M([cc.SpriteFrame])],T.prototype,"spfColorBetTitle",void 0),n([M([cc.SpriteFrame])],T.prototype,"spfNumBetOption",void 0),n([M([cc.SpriteFrame])],T.prototype,"spfColorBetOption",void 0),n([M([cc.SpriteFrame])],T.prototype,"spfNumBet",void 0),n([M([cc.SpriteFrame])],T.prototype,"spfColorBet",void 0),n([M(cc.Node)],T.prototype,"nodRoot",void 0),n([M(cc.Sprite)],T.prototype,"imgTitleBg",void 0),n([M(cc.Label)],T.prototype,"labTitle",void 0),n([M(cc.Label)],T.prototype,"labBetOptionTitle",void 0),n([M(cc.ToggleContainer)],T.prototype,"togBetOption",void 0),n([M([cc.Sprite])],T.prototype,"imgBetOption",void 0),n([M(cc.Label)],T.prototype,"labMultiTitle",void 0),n([M(cc.EditBox)],T.prototype,"edbMulti",void 0),n([M(cc.Label)],T.prototype,"labServiceCostTitle",void 0),n([M(cc.Label)],T.prototype,"labMaxMultiTitle",void 0),n([M(cc.Label)],T.prototype,"labServiceCost",void 0),n([M(cc.Label)],T.prototype,"labCancel",void 0),n([M(cc.Button)],T.prototype,"btnBet",void 0),n([M(cc.Sprite)],T.prototype,"imgBet",void 0),n([M(cc.Label)],T.prototype,"labTotalCost",void 0),T=n([L,h.injectService(s.LobbyService.instance)],T),i.default=T,cc._RF.pop()},{"../../../../script/common/manager/Manager":void 0,"../../../../script/common/net/LobbyService":void 0,"../../../../script/common/utils/NumberUtils":void 0,"../../../../script/data/UserData":void 0,"../../../../script/framework/base/Defines":void 0,"../../../../script/framework/decorator/Decorators":void 0,"../../../../script/framework/event/EventApi":void 0,"../../../../script/framework/extentions/Operation":void 0,"../../../../script/framework/external/protoc":void 0,"../../../../script/framework/ui/UIView":void 0,"../../../../script/global/UtilMgr":void 0,"../../../../script/msgbox/PanelHelp":void 0,"../config/WingoConfig":"WingoConfig","../data/WingoData":"WingoData","../define/WingoEventDefine":"WingoEventDefine","../protocol/WingoNetController":"WingoNetController"}],WingoColorDefine:[function(t,e,i){"use strict";cc._RF.push(e,"a953brgZ5dPaZkj3L292MHg","WingoColorDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.WingoColorDefine=void 0,function(t){t.Text={Gray:cc.color(150,150,150,255),WHITE:cc.color(255,255,255,255)},t.BetOption={DISABLE:cc.color(150,150,150,255),ENABLE:cc.color(255,255,255,255)},t.HistroyOptionText={UNSELECT:cc.color(150,150,150,255),SELECTED:cc.color(255,255,255,255)},t.Income={NORMAL:cc.color(255,255,255,255),GREEN:cc.color(0,255,91,255),RED:cc.color(255,0,0,255)},t.IncomeStatus={WIN:cc.color(0,255,91,255),LOSS:cc.color(255,0,0,255),WAITING:cc.color(255,173,30,255)}}(i.WingoColorDefine||(i.WingoColorDefine={})),cc._RF.pop()},{}],WingoColorItem:[function(t,e,i){"use strict";cc._RF.push(e,"13536v22VlDupRHYmhYs8hU","WingoColorItem");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=o(t("../../../../script/framework/ui/UIView")),{ccclass:s,property:r}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.labIssue=null,this.labHarga=null,this.labNum=null,this.nodColor=null,this.pfbWingoColorGroupItemList=[],this._data=null}onLoad(){this.initData(),this.initUI()}start(){}initData(){this._data=null}initUI(){this.labIssue.string="",this.labHarga.string="",this.labNum.string="",this.initColor()}initColor(){this.nodColor.removeAllChildren()}setIssue(t){this.labIssue.string=t.toString()}setNum(t){this.labNum.string=t.toString()}setHarga(t){this.labHarga.string=t.toString()}setColor(t){this.nodColor.addChild(cc.instantiate(this.pfbWingoColorGroupItemList[t]))}onShow(t){this._data=t,this.initUI(),this.setIssue(Number(t.Issue)),this.setHarga(t.Harga),this.setNum(t.Num),this.setColor(t.Num)}reset(){this.initData(),this.initUI()}};n([r(cc.Label)],l.prototype,"labIssue",void 0),n([r(cc.Label)],l.prototype,"labHarga",void 0),n([r(cc.Label)],l.prototype,"labNum",void 0),n([r(cc.Node)],l.prototype,"nodColor",void 0),n([r([cc.Prefab])],l.prototype,"pfbWingoColorGroupItemList",void 0),l=n([s],l),i.default=l,cc._RF.pop()},{"../../../../script/framework/ui/UIView":void 0}],WingoColorListView:[function(t,e,i){"use strict";cc._RF.push(e,"29f49pQ5klJgZBzy7iIdSqi","WingoColorListView");var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return o(e,t),e},r=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function s(t){try{l(n.next(t))}catch(e){a(e)}}function r(t){try{l(n.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,r)}l((n=n.apply(t,e||[])).next())})},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const c=s(t("../../../../script/common/define/ComponentDefine")),h=l(t("../../../../script/common/utils/TypeUtils")),d=t("../define/WingoDefine"),{ccclass:g,property:u}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.content=null,this.itemPrefab=null,this.mode=c.ListViewLoadMode.NONE,this.direction=c.DirectionType.VERTICAL,this.spacingY=0,this.top=0,this.bottom=0,this.spacingX=0,this.left=0,this.right=0,this.clickItemEventHandler=new cc.Component.EventHandler,this._isLoaded=!1,this._itemDataList=[],this._itemNodePool=new cc.NodePool,this._lastPos=cc.v2(0,0),this._renderItemStartIndex=null,this._renderItemEndIndex=null,this._isRendering=!1,this._itemCacheDataList=[],this._renderingOperateCount=0,this._cacheRenderItemStartIndex=null}changeDirection(t){}onLoad(){this.register(),this.initData(),this.initView()}start(){}set(t){if(!h.default.isNull(t)){if(h.default.isArray(t)){if(t.length<=0)return;t=t.slice(-d.WingoDefine.HISTORY_COUNT).reverse()}this._isRendering?(this.setData(this._itemCacheDataList,t),this._cacheRenderItemStartIndex=0,++this._renderingOperateCount):(this.setData(this._itemDataList,t),this._renderItemStartIndex=0,this._renderItemEndIndex=this._itemDataList.length,this.updateListItem())}}setData(t,e){t.length=0,this.insertData(t,e,0)}insert(t,e){if(h.default.isNull(t))return;if(h.default.isArray(t)&&t.length<=0)return;let i=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),i=this._itemCacheDataList):i=this._itemDataList,h.default.isNull(e)?e=i.length:e<0?e=0:e>i.length&&(e=i.length),this._isRendering?(this.insertData(i,t,e),h.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=e:this._cacheRenderItemStartIndex>e&&(this._cacheRenderItemStartIndex=e),++this._renderingOperateCount):(this.insertData(i,t,e),this._renderItemStartIndex=e,this._renderItemEndIndex=i.length,this.updateListItem())}insertData(t,e,i){if(Array.isArray(e)){let n=[i,0];n=n.concat(e),t.splice.apply(t,n)}else t.splice(i,0,e)}remove(t,e){if(this._itemDataList.length<=0)return;let i=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),i=this._itemCacheDataList):i=this._itemDataList,h.default.isNull(t)&&h.default.isNull(e)?(t=0,e=i.length):h.default.isNull(t)?(t=i.length-e)<0&&(t=0,e=i.length):h.default.isNull(e)&&(t<0?t=0:t>=i.length&&(t=i.length-1),e=i.length-t),this._isRendering?(i.splice(t,e),h.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=t:this._cacheRenderItemStartIndex>t&&(this._cacheRenderItemStartIndex=t),++this._renderingOperateCount):(i.splice(t,e),this._renderItemStartIndex=t,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem())}clear(){this.remove(0)}getChildNode(t,e){return this.content.children.slice(t,e)}updateListItem(){if(!this._isLoaded)return;this.setRendering(!0);let t=this.getInnerEstimateSize();if(this.node.setContentSize(t),this.content.setContentSize(t),this.content.y=.5*t.height,this.content.parent.setContentSize(t),this.content.parent.y=-.5*t.height,this.mode===c.ListViewLoadMode.ENDLESS);else{let t=[],e=!1;for(let i=this._renderItemStartIndex;i<this._renderItemEndIndex;++i){let n=this.content.children[i],o=this._itemDataList[i];if(!h.default.isNull(n)&&this._itemDataList.hasOwnProperty(i)){this.clickItemEventHandler&&(n.getComponent(cc.Button).node.off("click"),n.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,n,o)));let t=n.getComponent(n.name);t.onShow&&t.onShow(o)}else{if(h.default.isNull(n)&&!this._itemDataList.hasOwnProperty(i))continue;if(this._itemDataList.hasOwnProperty(i)){if(h.default.isNull(n)){let t=this._itemDataList.slice(i,this._itemDataList.length);if(this.mode===c.ListViewLoadMode.FRAME){let n=this._itemNodePool.size();if(n>0){let o=i+n;t=this._itemDataList.slice(i,o),this.directLoadItem(t),o<this._renderItemEndIndex&&(t=this._itemDataList.slice(o,this._renderItemEndIndex),this.frameLoadItem(t),e=!0)}else this.frameLoadItem(t),e=!0}else this.mode===c.ListViewLoadMode.NONE&&this.directLoadItem(t);break}}else t.push(i)}}for(let i=t.length-1;i>=0;--i){let e=this.content.children[t[i]];this.putNode(e)}e||this.setRendering(!1)}}updateCacheDataList(){this.setData(this._itemDataList,this._itemCacheDataList),this._itemCacheDataList.length=0,this._renderItemStartIndex=this._cacheRenderItemStartIndex,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem()}initData(){this._isLoaded=!0}register(){}unregister(){}initView(){let t=0;switch(this.direction){case c.DirectionType.HORIZONTAL:.5===this.content.anchorX&&(this.content.anchorX=0,this.content.x=this.content.x-.5*this.content.width),this.content.anchorY=.5,t=Math.ceil((this.node.width-this.spacingX)/(this.itemPrefab.data.width+this.spacingX))+2;break;case c.DirectionType.VERTICAL:.5===this.content.anchorY&&(this.content.anchorY=1,this.content.y=this.content.y+.5*this.content.height),this.content.anchorX=.5,t=Math.ceil((this.node.height-this.spacingY)/(this.itemPrefab.data.height+this.spacingY))+2}if(this.mode===c.ListViewLoadMode.ENDLESS)for(let e=0;e<t;++e)this.putNode(this.getNode());this._itemDataList.length>0&&this.updateListItem()}setRendering(t){this._isRendering=t,t||this.onRendered()}getNode(){if(!this.itemPrefab)return G.Logger.error("\u8bf7\u5728 ListView \u6dfb\u52a0\u9884\u5236\u9879 prefab"),null;let t=this._itemNodePool.get();if(!t&&(t=cc.instantiate(this.itemPrefab),this.clickItemEventHandler)){let e=t.getComponent(cc.Button);e||(e=t.addComponent(cc.Button))}return t}putNode(t){if(!t||t.name!==this.itemPrefab.data.name)return G.Logger.warn(`\u8bf7\u4e0d\u8981\u653e\u5165\u4e0e ${t.name} \u4e0d\u76f8\u5173\u7684\u8282\u70b9`),null;this.clickItemEventHandler&&t.getComponent(cc.Button).node.off("click"),t.removeFromParent(),t.getComponent(t.name).reset(),this.scheduleOnce(()=>{this._itemNodePool.put(t)})}initItemPos(t){let e=this.content.childrenCount-1;this.direction===c.DirectionType.HORIZONTAL?t.setPosition(this.left+.5*this.itemPrefab.data.width+e*this.itemPrefab.data.width+e*this.spacingX,0):this.direction===c.DirectionType.VERTICAL&&t.setPosition(0,0-this.top-.5*this.itemPrefab.data.height-e*this.itemPrefab.data.height-e*this.spacingY)}makeItem(t){let e=this.getNode();this.content.addChild(e);let i=e.getComponent(e.name);i&&!h.default.isNull(t)&&(this.clickItemEventHandler&&e.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,e,t)),i.onShow&&i.onShow(t)),this.initItemPos(e)}*makeGeneratorItem(t){for(let e=0;e<t.length;++e)yield this.makeItem(t[e])}execGeneratorItem(t,e){return r(this,void 0,void 0,function*(){return new Promise(i=>{let n=()=>{let o=Date.now();for(let a=t.next();;a=t.next()){if(null==a||a.done){i();break}if(Date.now()-o>e){this.scheduleOnce(()=>{n()});break}}};n()})})}frameLoadItem(t){return r(this,void 0,void 0,function*(){yield this.execGeneratorItem(this.makeGeneratorItem(t),8),this.setRendering(!1)})}directLoadItem(t){for(let e=0;e<t.length;++e)this.makeItem(t[e])}getPadding(){let t=0;return this.direction===c.DirectionType.HORIZONTAL?t+=this.left+this.right:this.direction===c.DirectionType.VERTICAL&&(t+=this.top+this.bottom),t}getSpacing(){let t=0;return this.direction===c.DirectionType.HORIZONTAL?t=this.spacingX:this.direction===c.DirectionType.VERTICAL&&(t=this.spacingY),t}getInnerEstimateSize(){let t=this.content.parent.getContentSize();return this.direction===c.DirectionType.HORIZONTAL?(t.width=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.width,t.width<this.content.parent.width&&(t.width=this.content.parent.width)):this.direction===c.DirectionType.VERTICAL&&(t.height=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.height,t.height<this.content.parent.height&&(t.height=this.content.parent.height)),t}onRendered(){this._renderingOperateCount=0,this._itemCacheDataList.length<=0?this._cacheRenderItemStartIndex=null:this.updateCacheDataList()}update(t){}onClickItem(t,e){this.clickItemEventHandler.emit([t,e])}onDestroy(){this.unregister()}};a([u(cc.Node)],p.prototype,"content",void 0),a([u({type:cc.Prefab,tooltip:"\u5217\u8868\u9879\u9884\u5236"})],p.prototype,"itemPrefab",void 0),a([u({type:cc.Enum(c.ListViewLoadMode),tooltip:"\u52a0\u8f7d\u6a21\u5f0f\nNONE \u76f4\u63a5\u52a0\u8f7d\nFRAME \u5206\u5e27\u52a0\u8f7d\nENDLESS \u65e0\u9650\u52a0\u8f7d"})],p.prototype,"mode",void 0),a([u({type:cc.Enum(c.DirectionType),tooltip:"\u6ed1\u52a8\u65b9\u5411\nHORIZONTAL \u6c34\u5e73\nVERTICAL \u5782\u76f4"})],p.prototype,"direction",void 0),a([u({type:cc.Float,tooltip:"\u5782\u76f4\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"spacingY",void 0),a([u({type:cc.Float,tooltip:"\u9876\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"top",void 0),a([u({type:cc.Float,tooltip:"\u5e95\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"bottom",void 0),a([u({type:cc.Float,tooltip:"\u6c34\u5e73\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"spacingX",void 0),a([u({type:cc.Float,tooltip:"\u5de6\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"left",void 0),a([u({type:cc.Float,tooltip:"\u53f3\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"right",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u70b9\u51fb\u5217\u8868\u9879\u56de\u8c03",visible:!0})],p.prototype,"clickItemEventHandler",void 0),p=a([g],p),i.default=p,cc._RF.pop()},{"../../../../script/common/define/ComponentDefine":void 0,"../../../../script/common/utils/TypeUtils":void 0,"../define/WingoDefine":"WingoDefine"}],WingoConfig:[function(t,e,i){"use strict";cc._RF.push(e,"c804chiUkRMGKG4O1uWDAix","WingoConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.WingoConfig=void 0;const n=t("../../../../script/framework/external/protoc");(function(t){t.ColorOptionList=["btnC0","btnC1","btnC2","btnC3","btnC4","btnC5","btnC6","btnC7","btnC8","btnC9"],t.NumOptionList=["btnN0","btnN1","btnN2","btnN3","btnN4","btnN5","btnN6","btnN7","btnN8","btnN9"],t.NumAnimOrder=[0,1,2,3,4,9,8,7,6,5],t.NumByColor={0:[n.MST.WingoColor.Red,n.MST.WingoColor.Purple,n.MST.WingoColor.Azure,n.MST.WingoColor.AR],1:[n.MST.WingoColor.Green,n.MST.WingoColor.Azure,n.MST.WingoColor.AG],2:[n.MST.WingoColor.Red,n.MST.WingoColor.Azure,n.MST.WingoColor.AR],3:[n.MST.WingoColor.Green,n.MST.WingoColor.Azure,n.MST.WingoColor.AG],4:[n.MST.WingoColor.Red,n.MST.WingoColor.Yellow,n.MST.WingoColor.Azure,n.MST.WingoColor.AR],5:[n.MST.WingoColor.Green,n.MST.WingoColor.Purple,n.MST.WingoColor.Blue,n.MST.WingoColor.BG],6:[n.MST.WingoColor.Red,n.MST.WingoColor.Blue,n.MST.WingoColor.BR],7:[n.MST.WingoColor.Green,n.MST.WingoColor.Blue,n.MST.WingoColor.BG],8:[n.MST.WingoColor.Red,n.MST.WingoColor.Blue,n.MST.WingoColor.BR],9:[n.MST.WingoColor.Green,n.MST.WingoColor.Yellow,n.MST.WingoColor.Blue,n.MST.WingoColor.BG]},t.BetTitleLanguage={0:"btnC0",1:"btnC1",2:"btnC2",3:"btnC3",4:"btnC4",5:"btnC5",6:"btnC6",7:"btnC7",8:"btnC8",9:"btnC9"},t.LotteryIntervalTime={0:3e4,1:6e4,2:12e4}})(i.WingoConfig||(i.WingoConfig={})),cc._RF.pop()},{"../../../../script/framework/external/protoc":void 0}],WingoData:[function(t,e,i){"use strict";cc._RF.push(e,"b844aswRTpBYaGNjHprBLcx","WingoData");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=o(t("../../../../script/base/BaseData")),s=o(t("../../../../script/common/utils/TypeUtils")),r=o(t("../../../../script/framework/decorator/ClassDecorator")),l=t("../../../../script/framework/external/protoc");let c=class extends a.default{constructor(){super(),this.cost=null,this.currMode=null,this.currIssue=null,this.historyLotteryMap=null,this.lotteryMap=null,this.isFirst=!0,this.isPlayingLotteryAnim=!1,this.myRecordMap=null,this.currPullFunc=null,this.historyLotteryMap=new Map,this.lotteryMap=new Map;let t=Object.values(l.MST.WingoMode);for(let e of t){let t=Number(e),i={Mode:t,LotteryInfo:null,NextTimestamp:0,NextIssue:null};this.lotteryMap.set(t,i)}}destroy(){}initNext(){}getLatelyList(){let t=null,e=this.historyLotteryMap.get(this.currMode),i=e.length;return(i>=100?e.slice(-100):e.slice(-i)).reverse()}getFillStatList(t){let e=[];for(let i=0;i<10;++i)e[i]=t;return e}getMissing(){let t=this.getFillStatList(0),e=this.getLatelyList();for(let i=0;i<10;++i){let n=0;for(let o of e)o.Num===i?++n:t[i]=n}return t}getAvgMissing(){let t=this.getLatelyList().length,e=this.getFillStatList(t),i=this.getFrequency();for(let n=0;n<10;++n){let o=i[n],a=t-o;e[n]=Math.floor(a/(o+1))}return e}getFrequency(){let t=this.getFillStatList(0),e=this.getLatelyList();for(let i of e){let e=t[i.Num];s.default.isNull(e)&&(e=0),t[i.Num]=++e}return t}getMaxContinued(){let t=this.getFillStatList(0),e=this.getLatelyList(),i=1,n=null;for(let o of e)o.Num===n?++i:(null!==n&&t[n]<i&&(t[n]=i),i=1),n=o.Num;return t}};c=n([r.default.classname],c),i.default=c,cc._RF.pop()},{"../../../../script/base/BaseData":void 0,"../../../../script/common/utils/TypeUtils":void 0,"../../../../script/framework/decorator/ClassDecorator":void 0,"../../../../script/framework/external/protoc":void 0}],WingoDefine:[function(t,e,i){"use strict";cc._RF.push(e,"94fedXOFcRHnodmbk4WL6mx","WingoDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.WingoDefine=void 0,function(t){let e;t.HISTORY_COUNT=100,function(t){t[t.MY_RECORD=0]="MY_RECORD"}(e=t.PullBottomFunction||(t.PullBottomFunction={}))}(i.WingoDefine||(i.WingoDefine={})),cc._RF.pop()},{}],WingoEventDefine:[function(t,e,i){"use strict";cc._RF.push(e,"bd3d1jqnb9JaauP8neJ/kr2","WingoEventDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.WingoEventDefine=void 0,function(t){t.WingoStopBet="WingoStopBet",t.WingoStartBet="WingoStartBet"}(i.WingoEventDefine||(i.WingoEventDefine={})),cc._RF.pop()},{}],WingoGameData:[function(t,e,i){"use strict";cc._RF.push(e,"d5068kQE+1K8IndZttSsuxu","WingoGameData"),Object.defineProperty(i,"__esModule",{value:!0}),i.Wingo=void 0;const n=t("../../../../script/common/base/GameData"),o=t("../../../../script/common/language/LanguageImpl"),a=t("../../../../script/common/manager/Manager"),s=t("./WingoLanguageEN"),r=t("./WingoLanguageZH"),l=t("./WingoLanguageHI");class c extends n.GameData{onLanguageChange(){let t=r.WINGO_LAN_ZH;a.Manager.language.getLanguage()==s.WINGO_LAN_EN.language?t=s.WINGO_LAN_EN:a.Manager.language.getLanguage()==l.WINGO_LAN_HI.language&&(t=l.WINGO_LAN_HI),o.i18n[`${this.bundle}`]={},o.i18n[`${this.bundle}`]=t.data}get bundle(){return"wingo"}}(function(t){let e;t.gameData=new c,function(t){t.BGM="audio/audio_bgm",t.COUNT321="audio/audio_count321",t.NUM_HIGHLIGHT="audio/audio_wheel",t.NUM_RESULT="audio/audio-result"}(e=t.SOUNDS||(t.SOUNDS={}))})(i.Wingo||(i.Wingo={})),cc._RF.pop()},{"../../../../script/common/base/GameData":void 0,"../../../../script/common/language/LanguageImpl":void 0,"../../../../script/common/manager/Manager":void 0,"./WingoLanguageEN":"WingoLanguageEN","./WingoLanguageHI":"WingoLanguageHI","./WingoLanguageZH":"WingoLanguageZH"}],WingoGameView:[function(t,e,i){"use strict";cc._RF.push(e,"2d880Qgx45LE735AZCi52Z6","WingoGameView");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../../../script/common/event/LogicEvent"),s=t("../../../../script/common/net/LobbyService"),r=t("../../../../script/framework/decorator/Decorators"),l=o(t("../../../../script/framework/ui/UIView")),c=o(t("../../../../script/data/AppData")),h=o(t("../protocol/WingoNetController")),d=o(t("../../../../script/data/UserData")),g=t("../data/WingoGameData"),u=t("../../../../script/global/UtilMgr"),p=t("../../../../script/framework/external/protoc"),m=t("../define/WingoColorDefine"),f=t("../../../../script/common/manager/Manager"),C=o(t("../../../../script/framework/extentions/DateUtils")),b=t("../../../../script/framework/base/Defines"),_=t("../../../../script/framework/event/EventApi"),y=o(t("../../../../script/msgbox/PanelHelp")),L=t("../../../../script/common/config/Config"),M=o(t("../data/WingoData")),T=o(t("../../../../script/common/utils/TypeUtils")),v=t("../config/WingoConfig"),D=o(t("../component/WingoLinkListView")),I=o(t("../component/WingoColorListView")),S=t("../define/WingoModeDefine"),R=o(t("./WingoBetView")),N=t("../define/WingoEventDefine"),W=o(t("./WingoTitleItemPageUser")),w=o(t("../component/WingoMyRecordListView")),O=o(t("../../../../script/common/item/NoneItem")),E=t("../define/WingoDefine"),B=t("../../../../script/common/language/LanguageImpl"),{ccclass:P,property:H}=cc._decorator;let k=class extends l.default{constructor(){super(...arguments),this.btnCepatPlus=null,this.btnCepat=null,this.btnStandar=null,this.nodLotteryTime=null,this.labIssueTitle=null,this.labIssue=null,this.labLotteryCoundDownTitle=null,this.nodPlay=null,this.labBanBetCoundDown=null,this.imgPlayBg=null,this.btnChartTren=null,this.btnCatatanCepatPlus=null,this.btnCatatanCeppatPlusSaya=null,this.nodChartTren=null,this.labMissing=null,this.labAvgMissing=null,this.labFrequency=null,this.labMaxContinued=null,this.lsvNumRecord=null,this.nodCatatanCepatPlus=null,this.lsvColorRecord=null,this.nodCatatanCepatPlusSaya=null,this.lsvMyRecord=null,this.noneItem=null,this.titleItemPageUser=null,this._wingoData=null,this._appData=null,this._userData=null,this._lotteryTween=null,this._highlightTweenMap=null,this._currHistoryOption=null,this._isLastPage=!1,this._myRecordList=null}static getPrefabUrl(){return"prefabs/WingoGameView"}onLoad(){super.onLoad(),a.dispatchEnterComplete({type:a.LogicType.GAME,views:[this]}),this.audioHelper.playMusic(g.Wingo.SOUNDS.BGM,this.bundle),this.initData(),this.initView(),this.C2M_GetWingoInfo_Req(),this.selectMode(p.MST.WingoMode.CepatPlus,!0),this.selectMode(p.MST.WingoMode.Cepat,!0),this.selectMode(p.MST.WingoMode.Standar,!0),this.clickRecord(S.WingoModeDefine.History.ChartTren)}start(){}show(t){super.show(t),this.onLanguageChange()}initData(){this._wingoData=G.DataMgr.get(M.default),this._appData=G.DataMgr.get(c.default),this._userData=G.DataMgr.get(d.default),this._highlightTweenMap=new Map,this._myRecordList=[]}initView(){this.initLotteryTime(),this.enableBetOption(),this.initHistory()}initModeOption(t){let e=t.getChildByName("labTitle").getComponent(cc.Label);e.node.color=m.WingoColorDefine.Text.Gray,e.node.getChildByName("imgLine").getComponent(cc.Sprite).node.active=!1;let i=t.getChildByName("labTime").getComponent(cc.Label);i.node.color=m.WingoColorDefine.Text.Gray,i.string=""}enableColorOption(){for(let t of v.WingoConfig.ColorOptionList){let e=this.nodPlay.getChildByName(t).getComponent(cc.Button);e.node.getChildByName("imgMask").active=!1,e.interactable=!0}}enableNumOption(){for(let t of v.WingoConfig.NumOptionList){let e=this.nodPlay.getChildByName(t).getComponent(cc.Button),i=e.node.getChildByName("speBar");i.color=m.WingoColorDefine.BetOption.ENABLE,i.scale=1,e.interactable=!0}}enableBetOperate(){dispatch(N.WingoEventDefine.WingoStartBet)}enableBetOption(){this.imgPlayBg.node.color=m.WingoColorDefine.BetOption.ENABLE,this.enableColorOption(),this.enableNumOption(),this.enableBetOperate()}highlightBetOption(){}darkBetOption(){}initHistory(){this.initHistoryOption(this.btnChartTren.node),this.initHistoryOption(this.btnCatatanCepatPlus.node),this.initHistoryOption(this.btnCatatanCeppatPlusSaya.node),this.nodChartTren.active=!1,this.nodCatatanCepatPlus.active=!1}disableColorOption(){for(let t of v.WingoConfig.ColorOptionList){let e=this.nodPlay.getChildByName(t).getComponent(cc.Button);e.node.getChildByName("imgMask").active=!0,e.interactable=!1}}disableNumOption(){for(let t of v.WingoConfig.NumOptionList){let e=this.nodPlay.getChildByName(t).getComponent(cc.Button),i=e.node.getChildByName("speBar");i.color=m.WingoColorDefine.BetOption.DISABLE,i.scale=1,e.interactable=!1}}disableBetOperate(){}disableBetOption(){dispatch(N.WingoEventDefine.WingoStopBet),this.imgPlayBg.node.color=m.WingoColorDefine.BetOption.DISABLE,this.disableColorOption(),this.disableNumOption(),this.disableBetOperate()}playNumLighlightAndScaleAnim(t,e){if(void 0===t)return;let i=this.nodPlay.getChildByName(`btnN${t}`).getChildByName("speBar"),n=1,o=m.WingoColorDefine.BetOption.DISABLE;return e&&(n=1.3,o=m.WingoColorDefine.BetOption.ENABLE),cc.tween(i).to(.2,{scale:n,color:o}).start()}setUnselectModeOption(t){if(T.default.isNull(t))this.setUnselectModeOption(p.MST.WingoMode.CepatPlus),this.setUnselectModeOption(p.MST.WingoMode.Cepat),this.setUnselectModeOption(p.MST.WingoMode.Standar);else{let e=null;switch(t){case p.MST.WingoMode.CepatPlus:e=this.btnCepatPlus.node;break;case p.MST.WingoMode.Cepat:e=this.btnCepat.node;break;case p.MST.WingoMode.Standar:e=this.btnStandar.node}let i=e.getChildByName("labTitle").getComponent(cc.Label);i.node.color=m.WingoColorDefine.Text.Gray,i.node.getChildByName("imgLine").getComponent(cc.Sprite).node.active=!1}}setSelectModeOption(t){null==t&&(t=p.MST.WingoMode.CepatPlus);let e=null;switch(t){case p.MST.WingoMode.CepatPlus:e=this.btnCepatPlus.node;break;case p.MST.WingoMode.Cepat:e=this.btnCepat.node;break;case p.MST.WingoMode.Standar:e=this.btnStandar.node}let i=e.getChildByName("labTitle").getComponent(cc.Label);i.node.color=m.WingoColorDefine.Text.WHITE,i.node.getChildByName("imgLine").getComponent(cc.Sprite).node.active=!0}clickRecord(t){t!==this._currHistoryOption&&(t===S.WingoModeDefine.History.CatatanCepatPlusSaya?this._wingoData.currPullFunc=E.WingoDefine.PullBottomFunction.MY_RECORD:this._wingoData.currPullFunc=null,this.setUnselectHistoryOption(),this.setSelectHistoryOption(t),this._currHistoryOption=t)}setSelectHistoryOption(t){let e=null,i=null;switch(t){case S.WingoModeDefine.History.ChartTren:e=this.btnChartTren.node,i=this.nodChartTren;break;case S.WingoModeDefine.History.CatatanCepatPlus:e=this.btnCatatanCepatPlus.node,i=this.nodCatatanCepatPlus;break;case S.WingoModeDefine.History.CatatanCepatPlusSaya:e=this.btnCatatanCeppatPlusSaya.node,i=this.nodCatatanCepatPlusSaya,this.C2S_WingoMyRecord()}let n=e.getChildByName("labTitle").getComponent(cc.Label);n.node.color=m.WingoColorDefine.HistroyOptionText.SELECTED,n.node.getChildByName("imgLine").getComponent(cc.Sprite).node.active=!0,i&&(i.active=!0)}setUnselectHistoryOption(t){if(T.default.isNull(t))this.setUnselectHistoryOption(S.WingoModeDefine.History.ChartTren),this.setUnselectHistoryOption(S.WingoModeDefine.History.CatatanCepatPlus),this.setUnselectHistoryOption(S.WingoModeDefine.History.CatatanCepatPlusSaya);else{let e=null,i=null;switch(t){case S.WingoModeDefine.History.ChartTren:e=this.btnChartTren.node,i=this.nodChartTren;break;case S.WingoModeDefine.History.CatatanCepatPlus:e=this.btnCatatanCepatPlus.node,i=this.nodCatatanCepatPlus;break;case S.WingoModeDefine.History.CatatanCepatPlusSaya:e=this.btnCatatanCeppatPlusSaya.node,i=this.nodCatatanCepatPlusSaya}let n=e.getChildByName("labTitle").getComponent(cc.Label);n.node.color=m.WingoColorDefine.HistroyOptionText.UNSELECT,n.node.getChildByName("imgLine").getComponent(cc.Sprite).node.active=!1,i&&(i.active=!1)}}initCurrCoundDown(){for(let t=0;t<4;++t)this.nodLotteryTime.getChildByName(`imgTimeBg${t}`).getChildByName("labTime").getComponent(cc.Label).string=""}initHistoryOption(t){t.getChildByName("labTitle").getChildByName("imgLine").active=!1}initLotteryTime(){this.initModeOption(this.btnCepatPlus.node),this.initModeOption(this.btnCepat.node),this.initModeOption(this.btnStandar.node),this.labIssue.string="",this.initCurrCoundDown()}nextView(){}bindingEvents(){super.bindingEvents(),b.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(_.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("Event_M2C_GetWingoInfo_Res",this.onEvent_M2C_GetWingoInfo_Res),this.registerEvent("Event_M2C_GetWingoHistory_Res",this.onEvent_M2C_GetWingoHistory_Res),this.registerEvent("Event_M2C_WingoLottery_Mes",this.onEvent_M2C_WingoLottery_Mes),this.registerEvent("Event_S2C_WingoMyRecord",this.onEvent_S2C_WingoMyRecord),this.registerEvent("Event_M2C_WingoBet_Res",this.onEvent_M2C_WingoBet_Res),this.registerEvent("Event_M2C_TransferMap_Res",this.onEvent_M2C_TransferMap_Res)}onLanguageChange(){this.titleItemPageUser.languagePageName(f.Manager.makeLanguage("labPageName",!0)),this.btnCepatPlus.node.getChildByName("labTitle").getComponent(cc.Label).language=f.Manager.makeLanguage("btnCepatPlus",!0),this.btnCepat.node.getChildByName("labTitle").getComponent(cc.Label).language=f.Manager.makeLanguage("btnCepat",!0),this.btnStandar.node.getChildByName("labTitle").getComponent(cc.Label).language=f.Manager.makeLanguage("btnStandar",!0),this.labIssueTitle.language=f.Manager.makeLanguage("labIssueTitle",!0),this.labLotteryCoundDownTitle.language=f.Manager.makeLanguage("labLotteryCoundDownTitle",!0);for(let t of v.WingoConfig.ColorOptionList)this.nodPlay.getChildByName(t).getChildByName("Background").getChildByName("Label").getComponent(cc.Label).language=f.Manager.makeLanguage(t,!0);this.btnCepat.node.getChildByName("labTitle").getComponent(cc.Label).getComponent(cc.Label).language=f.Manager.makeLanguage("btnCepat",!0),this.btnCatatanCepatPlus.node.getChildByName("labTitle").getComponent(cc.Label).getComponent(cc.Label).language=f.Manager.makeLanguage("btnCatatanCepatPlus",!0),this.btnCatatanCeppatPlusSaya.node.getChildByName("labTitle").getComponent(cc.Label).getComponent(cc.Label).language=f.Manager.makeLanguage("btnCatatanCeppatPlusSaya",!0)}selectMode(t,e=!1){this._wingoData.isFirst=e,this.C2M_GetWingoHistory_Req(t)}setLotteryCountDown(t){let e=this._wingoData.lotteryMap.get(t),i=Number(e.NextTimestamp),n=null;switch(t){case p.MST.WingoMode.CepatPlus:n=this.btnCepatPlus.node;break;case p.MST.WingoMode.Cepat:n=this.btnCepat.node;break;case p.MST.WingoMode.Standar:n=this.btnStandar.node}let o=n.getChildByName("labTime").getComponent(cc.Label);o.string=C.default.getRemainTimeHMS(this._appData.getServerTimestamp(),i);let a=Math.floor((i-this._appData.getServerTimestamp())/1e3);o.node.color=a<=5?m.WingoColorDefine.Text.WHITE:m.WingoColorDefine.Text.Gray}setNumHighlight(t){this.nodPlay.getChildByName(`btnN${t}`).getChildByName("speBar").color=m.WingoColorDefine.BetOption.ENABLE}setColorHighlight(t){this.nodPlay.getChildByName(`btnC${t}`).getChildByName("imgMask").active=!1}setLotteryHighlight(t){this.setNumHighlight(t.Num);for(let e of v.WingoConfig.NumByColor[t.Num])this.setColorHighlight(e)}getLastRecordId(){let t=-1;return this._myRecordList.length>0&&(t=this._myRecordList[this._myRecordList.length-1].id),t}isRefreshMyRecord(){return this._currHistoryOption===S.WingoModeDefine.History.CatatanCepatPlusSaya&&!T.default.isNull(this._myRecordList)&&this._myRecordList.length>0&&!this._myRecordList[0].isFinish}updateCurrModeLotteryTime(){if(null!==this._wingoData.currMode){let t=this._wingoData.lotteryMap.get(this._wingoData.currMode),e=C.default.getRemainTimeMS(this._appData.getServerTimestamp(),Number(t.NextTimestamp));for(let i=0;i<4;++i)this.nodLotteryTime.getChildByName(`imgTimeBg${i}`).getChildByName("labTime").getComponent(cc.Label).string=e[i]}}updateBanBetOptionAndTime(){if(null!==this._wingoData.currMode){let t=this._wingoData.lotteryMap.get(this._wingoData.currMode),e=C.default.getRemainTimeS(this._appData.getServerTimestamp(),Number(t.NextTimestamp));e<=3&&e!==Number(this.labBanBetCoundDown.string)&&(this.disableBetOption(),this.labBanBetCoundDown.string=e.toString(),e>0&&this.audioHelper.playEffect(g.Wingo.SOUNDS.COUNT321,this.bundle))}}updateLotteryCountDown(){cc.isValid(this.node)&&(this.setLotteryCountDown(p.MST.WingoMode.CepatPlus),this.setLotteryCountDown(p.MST.WingoMode.Cepat),this.setLotteryCountDown(p.MST.WingoMode.Standar),this.updateCurrModeLotteryTime(),this.updateBanBetOptionAndTime())}startLotteryCountDown(){this.stopLotteryCountDown(),this.schedule(this.updateLotteryCountDown,.1)}stopLotteryCountDown(){this.unschedule(this.updateLotteryCountDown)}stopAllHighLightAnim(){this._highlightTweenMap.forEach(t=>{t.prev&&t.prev.stop(),t.curr&&t.curr.stop()})}playLotteryAnim(t,e){this._wingoData.isPlayingLotteryAnim=!0,this.disableNumOption(),this._lotteryTween=cc.tween({});for(let i=0;i<v.WingoConfig.NumAnimOrder.length+(v.WingoConfig.NumAnimOrder.indexOf(t.Num)+1);++i){let t=v.WingoConfig.NumAnimOrder[i%v.WingoConfig.NumAnimOrder.length],e=v.WingoConfig.NumAnimOrder[(i-1)%v.WingoConfig.NumAnimOrder.length];this._lotteryTween.call(()=>{let n=this.playNumLighlightAndScaleAnim(e,!1),o=this.playNumLighlightAndScaleAnim(t,!0),a=this._highlightTweenMap.get(i);a&&(a.prev&&a.prev.stop(),a.curr&&a.curr.stop(),this._highlightTweenMap.delete(i)),this._highlightTweenMap.set(i,{prev:n,curr:o}),this.audioHelper.playEffect(g.Wingo.SOUNDS.NUM_HIGHLIGHT,this.bundle)}).delay(.2).call(()=>{let t=this._highlightTweenMap.get(i);t&&(t.prev&&t.prev.stop(),t.prev=null,t.curr&&t.curr.stop(),t.curr=null,this._highlightTweenMap.delete(i))})}this._lotteryTween.call(()=>{this.setLotteryHighlight(t),this.audioHelper.playEffect(g.Wingo.SOUNDS.NUM_RESULT,this.bundle)}).delay(1.8).call(()=>{e&&e(),this.enableBetOption(),this._wingoData.isPlayingLotteryAnim=!1}).start()}stopLotteryAnim(){this._lotteryTween&&(this._lotteryTween.stop(),this._lotteryTween=null)}reqEnterLobby(){let t=p.MST.C2M_TransferMap_Req.create({RpcId:f.Manager.netManager.getNewSeqId(),RoomName:L.Config.GameId.Lobby}),e=p.MST.C2M_TransferMap_Req.encode(t).finish();s.LobbyService.instance.sendMsg(p.MST.C2M_TransferMap_Req,p.MST.OuterOpcode_Map.C2M_TransferMap_Req,e)}refreshIssue(){this.labIssue.string=this._wingoData.currIssue.toString()}refreshModeOption(){this.setUnselectModeOption(),this.setSelectModeOption(this._wingoData.currMode)}refreshLottery(){let t=this._wingoData.lotteryMap.get(this._wingoData.currMode),e=C.default.getRemainTimeS(this._appData.getServerTimestamp(),Number(t.NextTimestamp));G.Logger.color("\u6a21\u5f0f",this._wingoData.currMode.toString(),e.toString(),Number(t.NextTimestamp)),e<=3?(this.disableBetOption(),this.labBanBetCoundDown.string=e.toString()):(this.enableBetOption(),this.labBanBetCoundDown.string="")}setStat(t,e){for(let i=0;i<t.childrenCount;++i)t.getChildByName(`lab${i}`).getComponent(cc.Label).string=e[i].toString()}refreshStat(){let t=this._wingoData.getMissing(),e=this._wingoData.getAvgMissing(),i=this._wingoData.getFrequency(),n=this._wingoData.getMaxContinued();this.setStat(this.labMissing.node,t),this.setStat(this.labAvgMissing.node,e),this.setStat(this.labFrequency.node,i),this.setStat(this.labMaxContinued.node,n)}refreshLink(){this.lsvNumRecord.set(this._wingoData.historyLotteryMap.get(this._wingoData.currMode)),this.nodChartTren.height=Math.abs(this.lsvNumRecord.node.y)+this.lsvNumRecord.getInnerEstimateSize().height}refreshColor(){this.lsvColorRecord.set(this._wingoData.historyLotteryMap.get(this._wingoData.currMode)),this.nodCatatanCepatPlus.height=Math.abs(this.lsvColorRecord.node.y)+this.lsvColorRecord.getInnerEstimateSize().height}refreshHistory(){this.refreshStat(),this.refreshLink(),this.refreshColor()}refreshMyRecordNodeHeight(){this.nodCatatanCepatPlusSaya.height=Math.abs(this.lsvMyRecord.node.y)+this.lsvMyRecord.getInnerEstimateSize().height}clearMyRecord(){this.lsvMyRecord.clear()}clickBetColorOption(t){let e={type:p.MST.WingoBetType.Color,value:t,serviceCost:this._wingoData.cost};f.Manager.uiManager.open({type:R.default,bundle:this.bundle,args:[e]})}clickBetNumOption(t){let e={type:p.MST.WingoBetType.Num,value:t,serviceCost:this._wingoData.cost};f.Manager.uiManager.open({type:R.default,bundle:this.bundle,args:[e]})}clickMode(t){this._wingoData.currMode!==t&&(this._wingoData.isPlayingLotteryAnim=!1,this.titleItemPageUser.manualRefreshGold(),this.selectMode(t))}onClick(t,e){switch(t){case"btnClose":this.reqEnterLobby();break;case"btnCepatPlus":this.clickMode(p.MST.WingoMode.CepatPlus);break;case"btnCepat":this.clickMode(p.MST.WingoMode.Cepat);break;case"btnStandar":this.clickMode(p.MST.WingoMode.Standar);break;case"btnC0":case"btnC1":case"btnC2":case"btnC3":case"btnC4":case"btnC5":case"btnC6":case"btnC7":case"btnC8":case"btnC9":this.clickBetColorOption(Number(t.replace("btnC","")));break;case"btnN0":case"btnN1":case"btnN2":case"btnN3":case"btnN4":case"btnN5":case"btnN6":case"btnN7":case"btnN8":case"btnN9":this.clickBetNumOption(Number(t.replace("btnN","")));break;case"btnChartTren":this.clickRecord(S.WingoModeDefine.History.ChartTren);break;case"btnCatatanCepatPlus":this.clickRecord(S.WingoModeDefine.History.CatatanCepatPlus);break;case"btnCatatanCeppatPlusSaya":this.clickRecord(S.WingoModeDefine.History.CatatanCepatPlusSaya)}}C2M_GetWingoInfo_Req(){let t=p.MST.C2M_GetWingoInfo_Req.create({RpcId:f.Manager.netManager.getNewSeqId()}),e=p.MST.C2M_GetWingoInfo_Req.encode(t).finish();this.service.sendMsg(p.MST.C2M_GetWingoInfo_Req,p.MST.OuterOpcode_WingoGame.C2M_GetWingoInfo_Req,e)}C2M_GetWingoHistory_Req(t){let e=p.MST.C2M_GetWingoHistory_Req.create({RpcId:f.Manager.netManager.getNewSeqId(),Mode:t}),i=p.MST.C2M_GetWingoHistory_Req.encode(e).finish();this.service.sendMsg(p.MST.C2M_GetWingoHistory_Req,p.MST.OuterOpcode_WingoGame.C2M_GetWingoHistory_Req,i)}C2S_WingoMyRecord(t){T.default.isNull(t)&&(t=-1);let e=p.MST.C2S_WingoMyRecord.create({serial:f.Manager.netManager.getNewSeqId(),mode:this._wingoData.currMode,id:t,count:20}),i=p.MST.C2S_WingoMyRecord.encode(e).finish();this.service.sendMsg(p.MST.C2S_WingoMyRecord,p.MST.OuterOpcode_WingoGame.C2S_WingoMyRecord,i)}test_M2C_GetWingoInfo_Res(){let t=f.Manager.netManager.mainNode.getComponent(h.default),e=this._appData.getServerTimestamp();t.onM2C_GetWingoInfo_Res({RpcId:f.Manager.netManager.getNewSeqId()-1,Error:0,Message:"",CepatPlusTimestamp:e+v.WingoConfig.LotteryIntervalTime[p.MST.WingoMode.CepatPlus],CepatTimestamp:e+v.WingoConfig.LotteryIntervalTime[p.MST.WingoMode.Cepat],StandarTimestamp:e+v.WingoConfig.LotteryIntervalTime[p.MST.WingoMode.Standar],Cost:10})}test_M2C_GetWingoHistory_Res(t){let e=f.Manager.netManager.mainNode.getComponent(h.default),i=[];for(let n=0;n<100;++n){let t={Issue:202204261713+n,Num:u.UtilMgr.random(0,9),Harga:25535};i.push(t)}e.onM2C_GetWingoHistory_Res({RpcId:f.Manager.netManager.getNewSeqId()-1,Error:0,Message:"",Mode:t,CurrIssue:Number(i[i.length-1].Issue)+1,HistoryInfo:i})}test_M2C_WingoLottery_Mes(){for(let[t,e]of this._wingoData.lotteryMap)if(C.default.getRemainTimeS(this._appData.getServerTimestamp(),Number(e.NextTimestamp))<=0){let t=u.UtilMgr.random(0,9);f.Manager.netManager.mainNode.getComponent(h.default).onM2C_WingoLottery_Mes({Mode:e.Mode,LotteryInfo:{Issue:0,Num:t,Harga:555},NextTimestamp:this._appData.getServerTimestamp()+v.WingoConfig.LotteryIntervalTime[e.Mode],NextIssue:555})}}stopAllSound(){this.audioHelper.stopMusic(),this.audioHelper.stopEffectByPath(g.Wingo.SOUNDS.COUNT321),this.audioHelper.stopEffectByPath(g.Wingo.SOUNDS.NUM_HIGHLIGHT),this.audioHelper.stopEffectByPath(g.Wingo.SOUNDS.NUM_RESULT)}onDestroy(){super.onDestroy(),this.stopAllSound(),this.stopLotteryAnim(),this.stopLotteryCountDown(),this.stopAllHighLightAnim()}onEvent_M2C_GetWingoInfo_Res(t){0===t.Error?this.startLotteryCountDown():y.default.showErrTip(t.Error)}onEvent_M2C_GetWingoHistory_Res(t){0===t.Error?(this.refreshIssue(),this.refreshModeOption(),this.refreshHistory(),this.stopLotteryAnim(),this.stopAllHighLightAnim(),this.refreshLottery(),this._wingoData.isFirst||(this.clearMyRecord(),this._currHistoryOption===S.WingoModeDefine.History.CatatanCepatPlusSaya&&this.C2S_WingoMyRecord())):y.default.showErrTip(t.Error)}onEvent_M2C_WingoLottery_Mes(t){null!==this._wingoData.currMode&&this._wingoData.currMode===t.Mode&&(this.labBanBetCoundDown.string="",this.refreshIssue(),this.playLotteryAnim(t.LotteryInfo,()=>{let t=this._wingoData.historyLotteryMap.get(this._wingoData.currMode),e=t[t.length-1];this.lsvColorRecord.insert(e,0),this.lsvNumRecord.insert(e,0),this._userData.isLogined()&&(this.titleItemPageUser.manualRefreshGold(),this.isRefreshMyRecord()&&this.C2S_WingoMyRecord())}))}onEvent_S2C_WingoMyRecord(t){-1===t.id&&t.myRecordInfo.length<=0?(this.noneItem.node.active=!0,this.lsvMyRecord.node.active=!1):(this.noneItem.node.active=!1,this.lsvMyRecord.node.active=!0),this._isLastPage=t.myRecordInfo.length<20,-1===t.id?(this._myRecordList=[].concat(t.myRecordInfo),this.lsvMyRecord.set(t.myRecordInfo)):(this._myRecordList=this._myRecordList.concat(t.myRecordInfo),this.lsvMyRecord.insert(t.myRecordInfo)),this.refreshMyRecordNodeHeight()}onEvent_M2C_WingoBet_Res(t){this._currHistoryOption===S.WingoModeDefine.History.CatatanCepatPlusSaya&&this.C2S_WingoMyRecord()}onEvent_M2C_TransferMap_Res(t){0===t.Error?dispatch(a.LogicEvent.ENTER_HALL):y.default.showErrTip(t.Error)}pullMyRecord(){if(this._isLastPage)return G.Logger.log("Wingo \u6d4f\u89c8\u4e2a\u4eba\u4e0b\u6ce8\u8bb0\u5f55 \u5df2\u662f\u6700\u540e\u4e00\u9875 \u65e0\u9700\u8bf7\u6c42\u7ffb\u9875"),void y.default.showTip(B.i18n.Common.NoData);this.C2S_WingoMyRecord(this.getLastRecordId())}onPullBottom(t){switch(this._wingoData.currPullFunc){case E.WingoDefine.PullBottomFunction.MY_RECORD:this.pullMyRecord()}}};n([H(cc.Button)],k.prototype,"btnCepatPlus",void 0),n([H(cc.Button)],k.prototype,"btnCepat",void 0),n([H(cc.Button)],k.prototype,"btnStandar",void 0),n([H(cc.Node)],k.prototype,"nodLotteryTime",void 0),n([H(cc.Label)],k.prototype,"labIssueTitle",void 0),n([H(cc.Label)],k.prototype,"labIssue",void 0),n([H(cc.Label)],k.prototype,"labLotteryCoundDownTitle",void 0),n([H(cc.Node)],k.prototype,"nodPlay",void 0),n([H(cc.Label)],k.prototype,"labBanBetCoundDown",void 0),n([H(cc.Sprite)],k.prototype,"imgPlayBg",void 0),n([H(cc.Button)],k.prototype,"btnChartTren",void 0),n([H(cc.Button)],k.prototype,"btnCatatanCepatPlus",void 0),n([H(cc.Button)],k.prototype,"btnCatatanCeppatPlusSaya",void 0),n([H(cc.Node)],k.prototype,"nodChartTren",void 0),n([H(cc.Label)],k.prototype,"labMissing",void 0),n([H(cc.Label)],k.prototype,"labAvgMissing",void 0),n([H(cc.Label)],k.prototype,"labFrequency",void 0),n([H(cc.Label)],k.prototype,"labMaxContinued",void 0),n([H(D.default)],k.prototype,"lsvNumRecord",void 0),n([H(cc.Node)],k.prototype,"nodCatatanCepatPlus",void 0),n([H(I.default)],k.prototype,"lsvColorRecord",void 0),n([H(cc.Node)],k.prototype,"nodCatatanCepatPlusSaya",void 0),n([H(w.default)],k.prototype,"lsvMyRecord",void 0),n([H(O.default)],k.prototype,"noneItem",void 0),n([H(W.default)],k.prototype,"titleItemPageUser",void 0),k=n([P,r.injectService(s.LobbyService.instance)],k),i.default=k,cc._RF.pop()},{"../../../../script/common/config/Config":void 0,"../../../../script/common/event/LogicEvent":void 0,"../../../../script/common/item/NoneItem":void 0,"../../../../script/common/language/LanguageImpl":void 0,"../../../../script/common/manager/Manager":void 0,"../../../../script/common/net/LobbyService":void 0,"../../../../script/common/utils/TypeUtils":void 0,"../../../../script/data/AppData":void 0,"../../../../script/data/UserData":void 0,"../../../../script/framework/base/Defines":void 0,"../../../../script/framework/decorator/Decorators":void 0,"../../../../script/framework/event/EventApi":void 0,"../../../../script/framework/extentions/DateUtils":void 0,"../../../../script/framework/external/protoc":void 0,"../../../../script/framework/ui/UIView":void 0,"../../../../script/global/UtilMgr":void 0,"../../../../script/msgbox/PanelHelp":void 0,"../component/WingoColorListView":"WingoColorListView","../component/WingoLinkListView":"WingoLinkListView","../component/WingoMyRecordListView":"WingoMyRecordListView","../config/WingoConfig":"WingoConfig","../data/WingoData":"WingoData","../data/WingoGameData":"WingoGameData","../define/WingoColorDefine":"WingoColorDefine","../define/WingoDefine":"WingoDefine","../define/WingoEventDefine":"WingoEventDefine","../define/WingoModeDefine":"WingoModeDefine","../protocol/WingoNetController":"WingoNetController","./WingoBetView":"WingoBetView","./WingoTitleItemPageUser":"WingoTitleItemPageUser"}],WingoInterface:[function(t,e,i){"use strict";cc._RF.push(e,"7f641rXjh9EBae1nCyMDkIG","WingoInterface"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],WingoLanguageEN:[function(t,e,i){"use strict";cc._RF.push(e,"69c363WGtJP75WJC9uk4Uek","WingoLanguageEN"),Object.defineProperty(i,"__esModule",{value:!0}),i.WINGO_LAN_EN=void 0,i.WINGO_LAN_EN={language:cc.sys.LANGUAGE_ENGLISH,data:{gameName:"wingo",labPageName:"WinGo",btnCepatPlus:"Cepat Plus",btnCepat:"Cepat",btnStandar:"Standar",labIssueTitle:"Periode",labLotteryCoundDownTitle:"Periode Hitung mundur",btnC0:"Hijau",btnC1:"Ungu",btnC2:"Merah",btnC3:"Kecil",btnC4:"Emas",btnC5:"Besar",btnC6:"K/M",btnC7:"K/H",btnC8:"B/M",btnC9:"B/H",btnChartTren:"Chart tren",btnCatatanCepatPlus:"Catatan cepat plus",btnCatatanCeppatPlusSaya:"Catatan cepat plus saya",labBetTotalGold:"Rp {0}",loss:"Loss",win:"Win",waiting:"Waiting",labBetGoldTitle:"Kirim",labBetValueTitle:"Pilih",labHargaTitle:"Harga",labCostTitle:"Biaya",labStatusTitle:"Status",labLotteryTitle:"Hasil",labTitle:"Pilih {0}",labBetOptionTitle:"UANG KONTRAK...",labMultiTitle:"Jumlah",labServiceCostTitle:"Biaya",labMaxMultiTitle:"Maksimum lowersingular adalah {0}",labCancel:"Batal",labTotalCost:"Rp {0} Konfirmasi",MinimumBet:"Jumlah taruhan minimum tidak boleh kurang dari {0}",InsufficientAmount:"Jumlah tidak mencukupi",abbr0:"H",abbr1:"U",abbr2:"M",abbr3:"K",abbr4:"E",abbr5:"B",abbr6:"K/M",abbr7:"K/H",abbr8:"B/M",abbr9:"B/H"}},cc._RF.pop()},{}],WingoLanguageHI:[function(t,e,i){"use strict";cc._RF.push(e,"57118M4etJKzIKsMrFtP+6u","WingoLanguageHI"),Object.defineProperty(i,"__esModule",{value:!0}),i.WINGO_LAN_HI=void 0,i.WINGO_LAN_HI={language:cc.sys.LANGUAGE_HINDI,data:{gameName:"wingo",labPageName:"WinGo",btnCepatPlus:"Cepat Plus",btnCepat:"Cepat",btnStandar:"Standar",labIssueTitle:"Periode",labLotteryCoundDownTitle:"Periode Hitung mundur",btnC0:"Hijau",btnC1:"Ungu",btnC2:"Merah",btnC3:"Kecil",btnC4:"Emas",btnC5:"Besar",btnC6:"K/M",btnC7:"K/H",btnC8:"B/M",btnC9:"B/H",btnChartTren:"Chart tren",btnCatatanCepatPlus:"Catatan cepat plus",btnCatatanCeppatPlusSaya:"Catatan cepat plus saya",labBetTotalGold:"Rp {0}",loss:"Loss",win:"Win",waiting:"Waiting",labBetGoldTitle:"Kirim",labBetValueTitle:"Pilih",labHargaTitle:"Harga",labCostTitle:"Biaya",labStatusTitle:"Status",labLotteryTitle:"Hasil",labTitle:"Pilih {0}",labBetOptionTitle:"UANG KONTRAK...",labMultiTitle:"Jumlah",labServiceCostTitle:"Biaya",labMaxMultiTitle:"Maksimum lowersingular adalah {0}",labCancel:"Batal",labTotalCost:"Rp {0} Konfirmasi",MinimumBet:"Jumlah taruhan minimum tidak boleh kurang dari {0}",InsufficientAmount:"Jumlah tidak mencukupi",abbr0:"H",abbr1:"U",abbr2:"M",abbr3:"K",abbr4:"E",abbr5:"B",abbr6:"K/M",abbr7:"K/H",abbr8:"B/M",abbr9:"B/H"}},cc._RF.pop()},{}],WingoLanguageZH:[function(t,e,i){"use strict";cc._RF.push(e,"c0f05YL+JZIW7BcJ9cE0czu","WingoLanguageZH"),Object.defineProperty(i,"__esModule",{value:!0}),i.WINGO_LAN_ZH=void 0,i.WINGO_LAN_ZH={language:cc.sys.LANGUAGE_CHINESE,data:{gameName:"\u7206\u70b9",labPageName:"\u7206\u70b9",labManual:"\u624b\u52a8\u4e0b\u6ce8",labAuto:"\u81ea\u52a8\u4e0b\u6ce8",labSwitchRate:"\u500d\u7387",labRoundTitle:"\u4e0b\u6ce8\u5c40\u6570",labStopProfitTitle:"\u6b62\u76c8",labStopLossTitle:"\u6b62\u635f",labBetListTitle:"\u4e0b\u6ce8\u73a9\u5bb6\u5217\u8868",labTotalBetCount:"\u603b\u91d1\u989d {0}",labPlayerTtile:"\u73a9\u5bb6",labBetGoldTitle:"\u7b79\u7801",labIncomeTitle:"\u6536\u76ca",InputBetGold:"Masukkan Jumlah Taruhan {0}-{1}",InputRate:"Silahkan masukkan peluang pembayaran otomatis",InputRound:"Silakan masukkan jumlah putaran otomatis",InputProfit:"Silakan masukkan Berhenti untuk menang",InputLoss:"Silakan masukkan Hentikan Kerugian"}},cc._RF.pop()},{}],WingoLinkItem:[function(t,e,i){"use strict";cc._RF.push(e,"6ed53RvR5ZNSprTJKWAQk60","WingoLinkItem");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=o(t("../../../../script/framework/ui/UIView")),{ccclass:s,property:r}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.labIssue=null,this.latNum=null,this.spfNum=[],this.spfDarkNum=null,this._data=null}onLoad(){this.initData(),this.initUI()}start(){}initData(){this._data=null}initUI(){this.labIssue.string="",this.initColor()}initColor(){for(let t of this.latNum.node.children)t.getComponent(cc.Sprite).spriteFrame=this.spfDarkNum}setIssue(t){this.labIssue.string=t.toString()}setColor(t){this.latNum.node.getChildByName(`imgNum${t}`).getComponent(cc.Sprite).spriteFrame=this.spfNum[t]}onShow(t){this._data=t,this.initUI(),this.setIssue(Number(t.Issue)),this.setColor(t.Num)}reset(){this.initData(),this.initUI()}};n([r(cc.Label)],l.prototype,"labIssue",void 0),n([r(cc.Layout)],l.prototype,"latNum",void 0),n([r([cc.SpriteFrame])],l.prototype,"spfNum",void 0),n([r(cc.SpriteFrame)],l.prototype,"spfDarkNum",void 0),l=n([s],l),i.default=l,cc._RF.pop()},{"../../../../script/framework/ui/UIView":void 0}],WingoLinkListView:[function(t,e,i){"use strict";cc._RF.push(e,"e6d23gd1SNJep5RCeiXLhB+","WingoLinkListView");var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return o(e,t),e},r=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function s(t){try{l(n.next(t))}catch(e){a(e)}}function r(t){try{l(n.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,r)}l((n=n.apply(t,e||[])).next())})},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const c=s(t("../../../../script/common/define/ComponentDefine")),h=l(t("../../../../script/common/utils/TypeUtils")),d=t("../define/WingoDefine"),{ccclass:g,property:u}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.content=null,this.itemPrefab=null,this.mode=c.ListViewLoadMode.NONE,this.direction=c.DirectionType.VERTICAL,this.spacingY=0,this.top=0,this.bottom=0,this.spacingX=0,this.left=0,this.right=0,this.clickItemEventHandler=new cc.Component.EventHandler,this._isLoaded=!1,this._itemDataList=[],this._itemNodePool=new cc.NodePool,this._lastPos=cc.v2(0,0),this._renderItemStartIndex=null,this._renderItemEndIndex=null,this._isRendering=!1,this._itemCacheDataList=[],this._renderingOperateCount=0,this._cacheRenderItemStartIndex=null}changeDirection(t){}onLoad(){this.register(),this.initData(),this.initView()}start(){}set(t){if(!h.default.isNull(t)){if(h.default.isArray(t)){if(t.length<=0)return;t=t.slice(-d.WingoDefine.HISTORY_COUNT).reverse()}this._isRendering?(this.setData(this._itemCacheDataList,t),this._cacheRenderItemStartIndex=0,++this._renderingOperateCount):(this.setData(this._itemDataList,t),this._renderItemStartIndex=0,this._renderItemEndIndex=this._itemDataList.length,this.updateListItem())}}setData(t,e){t.length=0,this.insertData(t,e,0)}insert(t,e){if(h.default.isNull(t))return;if(h.default.isArray(t)&&t.length<=0)return;let i=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),i=this._itemCacheDataList):i=this._itemDataList,h.default.isNull(e)?e=i.length:e<0?e=0:e>i.length&&(e=i.length),this._isRendering?(this.insertData(i,t,e),h.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=e:this._cacheRenderItemStartIndex>e&&(this._cacheRenderItemStartIndex=e),++this._renderingOperateCount):(this.insertData(i,t,e),this._renderItemStartIndex=e,this._renderItemEndIndex=i.length,this.updateListItem())}insertData(t,e,i){if(Array.isArray(e)){let n=[i,0];n=n.concat(e),t.splice.apply(t,n)}else t.splice(i,0,e)}remove(t,e){if(this._itemDataList.length<=0)return;let i=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),i=this._itemCacheDataList):i=this._itemDataList,h.default.isNull(t)&&h.default.isNull(e)?(t=0,e=i.length):h.default.isNull(t)?(t=i.length-e)<0&&(t=0,e=i.length):h.default.isNull(e)&&(t<0?t=0:t>=i.length&&(t=i.length-1),e=i.length-t),this._isRendering?(i.splice(t,e),h.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=t:this._cacheRenderItemStartIndex>t&&(this._cacheRenderItemStartIndex=t),++this._renderingOperateCount):(i.splice(t,e),this._renderItemStartIndex=t,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem())}clear(){this.remove(0)}getChildNode(t,e){return this.content.children.slice(t,e)}updateListItem(){if(!this._isLoaded)return;this.setRendering(!0);let t=this.getInnerEstimateSize();if(this.node.setContentSize(t),this.content.setContentSize(t),this.content.y=.5*t.height,this.content.parent.setContentSize(t),this.content.parent.y=-.5*t.height,this.mode===c.ListViewLoadMode.ENDLESS);else{let t=[],e=!1;for(let i=this._renderItemStartIndex;i<this._renderItemEndIndex;++i){let n=this.content.children[i],o=this._itemDataList[i];if(!h.default.isNull(n)&&this._itemDataList.hasOwnProperty(i)){this.clickItemEventHandler&&(n.getComponent(cc.Button).node.off("click"),n.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,n,o)));let t=n.getComponent(n.name);t.onShow&&t.onShow(o)}else{if(h.default.isNull(n)&&!this._itemDataList.hasOwnProperty(i))continue;if(this._itemDataList.hasOwnProperty(i)){if(h.default.isNull(n)){let t=this._itemDataList.slice(i,this._itemDataList.length);if(this.mode===c.ListViewLoadMode.FRAME){let n=this._itemNodePool.size();if(n>0){let o=i+n;t=this._itemDataList.slice(i,o),this.directLoadItem(t),o<this._renderItemEndIndex&&(t=this._itemDataList.slice(o,this._renderItemEndIndex),this.frameLoadItem(t),e=!0)}else this.frameLoadItem(t),e=!0}else this.mode===c.ListViewLoadMode.NONE&&this.directLoadItem(t);break}}else t.push(i)}}for(let i=t.length-1;i>=0;--i){let e=this.content.children[t[i]];this.putNode(e)}e||this.setRendering(!1)}}updateCacheDataList(){this.setData(this._itemDataList,this._itemCacheDataList),this._itemCacheDataList.length=0,this._renderItemStartIndex=this._cacheRenderItemStartIndex,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem()}initData(){this._isLoaded=!0}register(){}unregister(){}initView(){let t=0;switch(this.direction){case c.DirectionType.HORIZONTAL:.5===this.content.anchorX&&(this.content.anchorX=0,this.content.x=this.content.x-.5*this.content.width),this.content.anchorY=.5,t=Math.ceil((this.node.width-this.spacingX)/(this.itemPrefab.data.width+this.spacingX))+2;break;case c.DirectionType.VERTICAL:.5===this.content.anchorY&&(this.content.anchorY=1,this.content.y=this.content.y+.5*this.content.height),this.content.anchorX=.5,t=Math.ceil((this.node.height-this.spacingY)/(this.itemPrefab.data.height+this.spacingY))+2}if(this.mode===c.ListViewLoadMode.ENDLESS)for(let e=0;e<t;++e)this.putNode(this.getNode());this._itemDataList.length>0&&this.updateListItem()}setRendering(t){this._isRendering=t,t||this.onRendered()}getNode(){if(!this.itemPrefab)return G.Logger.error("\u8bf7\u5728 ListView \u6dfb\u52a0\u9884\u5236\u9879 prefab"),null;let t=this._itemNodePool.get();if(!t&&(t=cc.instantiate(this.itemPrefab),this.clickItemEventHandler)){let e=t.getComponent(cc.Button);e||(e=t.addComponent(cc.Button))}return t}putNode(t){if(!t||t.name!==this.itemPrefab.data.name)return G.Logger.warn(`\u8bf7\u4e0d\u8981\u653e\u5165\u4e0e ${t.name} \u4e0d\u76f8\u5173\u7684\u8282\u70b9`),null;this.clickItemEventHandler&&t.getComponent(cc.Button).node.off("click"),t.removeFromParent(),t.getComponent(t.name).reset(),this.scheduleOnce(()=>{this._itemNodePool.put(t)})}initItemPos(t){let e=this.content.childrenCount-1;this.direction===c.DirectionType.HORIZONTAL?t.setPosition(this.left+.5*this.itemPrefab.data.width+e*this.itemPrefab.data.width+e*this.spacingX,0):this.direction===c.DirectionType.VERTICAL&&t.setPosition(0,0-this.top-.5*this.itemPrefab.data.height-e*this.itemPrefab.data.height-e*this.spacingY)}makeItem(t){let e=this.getNode();this.content.addChild(e);let i=e.getComponent(e.name);i&&!h.default.isNull(t)&&(this.clickItemEventHandler&&e.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,e,t)),i.onShow&&i.onShow(t)),this.initItemPos(e)}*makeGeneratorItem(t){for(let e=0;e<t.length;++e)yield this.makeItem(t[e])}execGeneratorItem(t,e){return r(this,void 0,void 0,function*(){return new Promise(i=>{let n=()=>{let o=Date.now();for(let a=t.next();;a=t.next()){if(null==a||a.done){i();break}if(Date.now()-o>e){this.scheduleOnce(()=>{n()});break}}};n()})})}frameLoadItem(t){return r(this,void 0,void 0,function*(){yield this.execGeneratorItem(this.makeGeneratorItem(t),8),this.setRendering(!1)})}directLoadItem(t){for(let e=0;e<t.length;++e)this.makeItem(t[e])}getPadding(){let t=0;return this.direction===c.DirectionType.HORIZONTAL?t+=this.left+this.right:this.direction===c.DirectionType.VERTICAL&&(t+=this.top+this.bottom),t}getSpacing(){let t=0;return this.direction===c.DirectionType.HORIZONTAL?t=this.spacingX:this.direction===c.DirectionType.VERTICAL&&(t=this.spacingY),t}getInnerEstimateSize(){let t=this.content.parent.getContentSize();return this.direction===c.DirectionType.HORIZONTAL?(t.width=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.width,t.width<this.content.parent.width&&(t.width=this.content.parent.width)):this.direction===c.DirectionType.VERTICAL&&(t.height=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.height,t.height<this.content.parent.height&&(t.height=this.content.parent.height)),t}onRendered(){this._renderingOperateCount=0,this._itemCacheDataList.length<=0?this._cacheRenderItemStartIndex=null:this.updateCacheDataList()}update(t){}onClickItem(t,e){this.clickItemEventHandler.emit([t,e])}onDestroy(){this.unregister()}};a([u(cc.Node)],p.prototype,"content",void 0),a([u({type:cc.Prefab,tooltip:"\u5217\u8868\u9879\u9884\u5236"})],p.prototype,"itemPrefab",void 0),a([u({type:cc.Enum(c.ListViewLoadMode),tooltip:"\u52a0\u8f7d\u6a21\u5f0f\nNONE \u76f4\u63a5\u52a0\u8f7d\nFRAME \u5206\u5e27\u52a0\u8f7d\nENDLESS \u65e0\u9650\u52a0\u8f7d"})],p.prototype,"mode",void 0),a([u({type:cc.Enum(c.DirectionType),tooltip:"\u6ed1\u52a8\u65b9\u5411\nHORIZONTAL \u6c34\u5e73\nVERTICAL \u5782\u76f4"})],p.prototype,"direction",void 0),a([u({type:cc.Float,tooltip:"\u5782\u76f4\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"spacingY",void 0),a([u({type:cc.Float,tooltip:"\u9876\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"top",void 0),a([u({type:cc.Float,tooltip:"\u5e95\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"bottom",void 0),a([u({type:cc.Float,tooltip:"\u6c34\u5e73\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"spacingX",void 0),a([u({type:cc.Float,tooltip:"\u5de6\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"left",void 0),a([u({type:cc.Float,tooltip:"\u53f3\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"right",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u70b9\u51fb\u5217\u8868\u9879\u56de\u8c03",visible:!0})],p.prototype,"clickItemEventHandler",void 0),p=a([g],p),i.default=p,cc._RF.pop()},{"../../../../script/common/define/ComponentDefine":void 0,"../../../../script/common/utils/TypeUtils":void 0,"../define/WingoDefine":"WingoDefine"}],WingoLogic:[function(t,e,i){"use strict";cc._RF.push(e,"95a0dGx1URJSLYHrnrr9Fn4","WingoLogic");var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../../script/common/base/Logic"),a=t("../../../script/common/event/LogicEvent"),s=t("../../../script/common/manager/Manager"),r=t("../../../script/common/net/LobbyService"),l=t("../../../script/framework/assetManager/ResourceLoader"),c=t("./data/WingoGameData"),h=n(t("./view/WingoGameView"));s.Manager.logicManager.push(class extends o.Logic{constructor(){super(...arguments),this.logicType=a.LogicType.GAME}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent(a.LogicEvent.ENTER_GAME,this.onEnterGame)}get bundle(){return"wingo"}onEnterComplete(t){super.onEnterComplete(t),t.type==this.logicType||(this.removeNetComponent(),this._loader.unLoadResources())}onEnterGame(t){t.bundle==this.bundle?(this.data=t.data,s.Manager.gameData=c.Wingo.gameData,s.Manager.gameData.clear(),this.onLanguageChange(),r.LobbyService.instance.pauseMessageQueue(),this._loader.loadResources()):(this.removeNetComponent(),this._loader.unLoadResources())}onLoadResourceComplete(t){t!=l.ResourceLoaderError.LOADING&&(cc.log(`${this.bundle}\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210!!!`),super.onLoadResourceComplete(t),s.Manager.uiManager.open({type:h.default,bundle:this.bundle,args:[this.data]}).then(()=>{r.LobbyService.instance.resumeMessageQueue()}).catch(t=>{r.LobbyService.instance.resumeMessageQueue(),cc.error(`\u6253\u5f00\u6e38\u620f\u754c\u9762\uff1a${h.default.name}\u65f6\u62a5\u9519\u4e86:`,t)}))}getLoadResources(){return[{preloadView:h.default,bundle:this.bundle}]}onLanguageChange(){super.onLanguageChange(),c.Wingo.gameData.onLanguageChange()}}),cc._RF.pop()},{"../../../script/common/base/Logic":void 0,"../../../script/common/event/LogicEvent":void 0,"../../../script/common/manager/Manager":void 0,"../../../script/common/net/LobbyService":void 0,"../../../script/framework/assetManager/ResourceLoader":void 0,"./data/WingoGameData":"WingoGameData","./view/WingoGameView":"WingoGameView"}],WingoModeDefine:[function(t,e,i){"use strict";cc._RF.push(e,"6806aOR1UxLMbWiIsdIlN+z","WingoModeDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.WingoModeDefine=void 0,function(t){let e;(function(t){t[t.ChartTren=0]="ChartTren",t[t.CatatanCepatPlus=1]="CatatanCepatPlus",t[t.CatatanCepatPlusSaya=2]="CatatanCepatPlusSaya"})(e=t.History||(t.History={}))}(i.WingoModeDefine||(i.WingoModeDefine={})),cc._RF.pop()},{}],WingoMyRecordItem:[function(t,e,i){"use strict";cc._RF.push(e,"84416BQlsRE5ZOHsWTEc86L","WingoMyRecordItem");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../../../script/common/manager/Manager"),s=o(t("../../../../script/common/utils/NumberUtils")),r=t("../../../../script/framework/base/Defines"),l=t("../../../../script/framework/event/EventApi"),c=o(t("../../../../script/framework/extentions/DateUtils")),h=o(t("../../../../script/framework/extentions/Operation")),d=t("../../../../script/framework/external/protoc"),g=o(t("../../../../script/framework/ui/UIView")),u=t("../define/WingoColorDefine"),{ccclass:p,property:m}=cc._decorator;let f=class extends g.default{constructor(){super(...arguments),this.labIssue=null,this.labDate=null,this.labBetTotalGold=null,this.labIncomeGold=null,this.labBetGoldTitle=null,this.labBetGoldValue=null,this.labHargaTitle=null,this.labHargaValue=null,this.labStatusTitle=null,this.labStatusValue=null,this.labBetValueTitle=null,this.labBetValueValue=null,this.labCostTitle=null,this.labCostValue=null,this.labLotteryTitle=null,this.labLotteryValue=null,this._data=null}onLoad(){this.initData(),this.initUI()}start(){}initData(){this._data=null}initUI(){this.labIssue.string="",this.labDate.string="",this.labBetTotalGold.string="",this.labIncomeGold.string="",this.labBetGoldTitle.string="",this.labBetGoldValue.string="",this.labHargaTitle.string="",this.labHargaValue.string="",this.labStatusTitle.string="",this.labStatusValue.string="",this.labBetValueTitle.string="",this.labBetValueValue.string="",this.labCostTitle.string="",this.labCostValue.string="",this.labLotteryTitle.string="",this.labLotteryValue.string=""}bindingEvents(){super.bindingEvents(),r.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(l.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(){this.labBetGoldTitle.language=a.Manager.makeLanguage("labBetGoldTitle",!0),this.labHargaTitle.language=a.Manager.makeLanguage("labHargaTitle",!0),this.labStatusTitle.language=a.Manager.makeLanguage("labStatusTitle",!0),this.labBetValueTitle.language=a.Manager.makeLanguage("labBetValueTitle",!0),this.labCostTitle.language=a.Manager.makeLanguage("labCostTitle",!0),this.labLotteryTitle.language=a.Manager.makeLanguage("labLotteryTitle",!0)}refreshIncome(){if(!this._data.isFinish)return void(this.labIncomeGold.string="");let t=s.default.converToC(this._data.incomeGold).toString(),e=null;this._data.incomeGold>0?(t=`+${t}`,e=u.WingoColorDefine.Income.GREEN):e=this._data.incomeGold<0?u.WingoColorDefine.Income.RED:u.WingoColorDefine.Income.NORMAL,this.labIncomeGold.string=t,this.labIncomeGold.node.color=e}refreshStatus(){let t=null,e=null;this._data.isFinish?this._data.incomeGold<0?(t=u.WingoColorDefine.IncomeStatus.LOSS,e="loss"):(t=u.WingoColorDefine.IncomeStatus.WIN,e="win"):(t=u.WingoColorDefine.IncomeStatus.WAITING,e="waiting"),this.labStatusValue.language=a.Manager.makeLanguage(e,!0),this.labStatusValue.node.color=t}refreshBetValue(){this._data.betType===d.MST.WingoBetType.Color?this.labBetValueValue.language=a.Manager.makeLanguage(`abbr${this._data.betValue}`,!0):this._data.betType===d.MST.WingoBetType.Num&&(this.labBetValueValue.string=this._data.betValue.toString())}refreshLottery(){this._data.isFinish?this.labLotteryValue.string=this._data.num.toString():this.labLotteryValue.string="-"}onShow(t){this.initUI(),this.onLanguageChange(),this._data=t;let e=h.default.add(Number(t.betActualGold),Number(t.costGold));this.labIssue.string=t.gameNo.toString(),this.labDate.string=c.default.getDateByTimestamp(t.betTimestamp,"MM/dd hh:mm:ss"),this.labBetTotalGold.language=a.Manager.makeLanguage(["labBetTotalGold",s.default.converToC(e)],!0),this.refreshIncome(),this.labBetGoldValue.string=s.default.converToC(t.betActualGold),this.labHargaValue.string=t.harga.toString(),this.refreshStatus(),this.refreshBetValue(),this.labCostValue.string=s.default.converToC(t.costGold),this.refreshLottery()}reset(){this.initData(),this.initUI()}};n([m(cc.Label)],f.prototype,"labIssue",void 0),n([m(cc.Label)],f.prototype,"labDate",void 0),n([m(cc.Label)],f.prototype,"labBetTotalGold",void 0),n([m(cc.Label)],f.prototype,"labIncomeGold",void 0),n([m(cc.Label)],f.prototype,"labBetGoldTitle",void 0),n([m(cc.Label)],f.prototype,"labBetGoldValue",void 0),n([m(cc.Label)],f.prototype,"labHargaTitle",void 0),n([m(cc.Label)],f.prototype,"labHargaValue",void 0),n([m(cc.Label)],f.prototype,"labStatusTitle",void 0),n([m(cc.Label)],f.prototype,"labStatusValue",void 0),n([m(cc.Label)],f.prototype,"labBetValueTitle",void 0),n([m(cc.Label)],f.prototype,"labBetValueValue",void 0),n([m(cc.Label)],f.prototype,"labCostTitle",void 0),n([m(cc.Label)],f.prototype,"labCostValue",void 0),n([m(cc.Label)],f.prototype,"labLotteryTitle",void 0),n([m(cc.Label)],f.prototype,"labLotteryValue",void 0),f=n([p],f),i.default=f,cc._RF.pop()},{"../../../../script/common/manager/Manager":void 0,"../../../../script/common/utils/NumberUtils":void 0,"../../../../script/framework/base/Defines":void 0,"../../../../script/framework/event/EventApi":void 0,"../../../../script/framework/extentions/DateUtils":void 0,"../../../../script/framework/extentions/Operation":void 0,"../../../../script/framework/external/protoc":void 0,"../../../../script/framework/ui/UIView":void 0,"../define/WingoColorDefine":"WingoColorDefine"}],WingoMyRecordListView:[function(t,e,i){"use strict";cc._RF.push(e,"403857P/wNA14PeMjWL/1ca","WingoMyRecordListView");var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return o(e,t),e},r=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function s(t){try{l(n.next(t))}catch(e){a(e)}}function r(t){try{l(n.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,r)}l((n=n.apply(t,e||[])).next())})},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const c=s(t("../../../../script/common/define/ComponentDefine")),h=l(t("../../../../script/common/utils/TypeUtils")),d=t("../define/WingoDefine"),{ccclass:g,property:u}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.content=null,this.itemPrefab=null,this.mode=c.ListViewLoadMode.NONE,this.direction=c.DirectionType.VERTICAL,this.spacingY=0,this.top=0,this.bottom=0,this.spacingX=0,this.left=0,this.right=0,this.clickItemEventHandler=new cc.Component.EventHandler,this._isLoaded=!1,this._itemDataList=[],this._itemNodePool=new cc.NodePool,this._lastPos=cc.v2(0,0),this._renderItemStartIndex=null,this._renderItemEndIndex=null,this._isRendering=!1,this._itemCacheDataList=[],this._renderingOperateCount=0,this._cacheRenderItemStartIndex=null,this._originSize=null}changeDirection(t){}onLoad(){this.register(),this.initData(),this.initView()}start(){}set(t){if(!h.default.isNull(t)){if(h.default.isArray(t)){if(t.length<=0)return void this.remove(0);t=t.slice(-d.WingoDefine.HISTORY_COUNT)}this._isRendering?(this.setData(this._itemCacheDataList,t),this._cacheRenderItemStartIndex=0,++this._renderingOperateCount):(this.setData(this._itemDataList,t),this._renderItemStartIndex=0,this._renderItemEndIndex=this._itemDataList.length,this.updateListItem())}}setData(t,e){t.length=0,this.insertData(t,e,0)}insert(t,e){if(h.default.isNull(t))return;if(h.default.isArray(t)&&t.length<=0)return;let i=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),i=this._itemCacheDataList):i=this._itemDataList,h.default.isNull(e)?e=i.length:e<0?e=0:e>i.length&&(e=i.length),this._isRendering?(this.insertData(i,t,e),h.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=e:this._cacheRenderItemStartIndex>e&&(this._cacheRenderItemStartIndex=e),++this._renderingOperateCount):(this.insertData(i,t,e),this._renderItemStartIndex=e,this._renderItemEndIndex=i.length,this.updateListItem())}insertData(t,e,i){if(Array.isArray(e)){let n=[i,0];n=n.concat(e),t.splice.apply(t,n)}else t.splice(i,0,e)}remove(t,e){if(this._itemDataList.length<=0&&this.content.childrenCount<=0)return;let i=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),i=this._itemCacheDataList):i=this._itemDataList,h.default.isNull(t)&&h.default.isNull(e)?(t=0,e=i.length):h.default.isNull(t)?(t=i.length-e)<0&&(t=0,e=i.length):h.default.isNull(e)&&(t<0?t=0:t>=i.length&&(t=i.length-1),e=i.length-t),this._isRendering?(i.splice(t,e),h.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=t:this._cacheRenderItemStartIndex>t&&(this._cacheRenderItemStartIndex=t),++this._renderingOperateCount):(i.splice(t,e),this._renderItemStartIndex=t,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem())}clear(){this.remove(0)}getChildNode(t,e){return this.content.children.slice(t,e)}updateListItem(){if(!this._isLoaded)return;this.setRendering(!0);let t=this.getInnerEstimateSize();if(this.node.setContentSize(t),this.content.setContentSize(t),this.content.y=.5*t.height,this.content.parent.setContentSize(t),this.content.parent.y=-.5*t.height,this.mode===c.ListViewLoadMode.ENDLESS);else{let t=[],e=!1;for(let i=this._renderItemStartIndex;i<this._renderItemEndIndex;++i){let n=this.content.children[i],o=this._itemDataList[i];if(!h.default.isNull(n)&&this._itemDataList.hasOwnProperty(i)){this.clickItemEventHandler&&(n.getComponent(cc.Button).node.off("click"),n.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,n,o)));let t=n.getComponent(n.name);t.onShow&&t.onShow(o)}else{if(h.default.isNull(n)&&!this._itemDataList.hasOwnProperty(i))continue;if(this._itemDataList.hasOwnProperty(i)){if(h.default.isNull(n)){let t=this._itemDataList.slice(i,this._itemDataList.length);if(this.mode===c.ListViewLoadMode.FRAME){let n=this._itemNodePool.size();if(n>0){let o=i+n;t=this._itemDataList.slice(i,o),this.directLoadItem(t),o<this._renderItemEndIndex&&(t=this._itemDataList.slice(o,this._renderItemEndIndex),this.frameLoadItem(t),e=!0)}else this.frameLoadItem(t),e=!0}else this.mode===c.ListViewLoadMode.NONE&&this.directLoadItem(t);break}}else t.push(i)}}for(let i=t.length-1;i>=0;--i){let e=this.content.children[t[i]];this.putNode(e)}e||this.setRendering(!1)}}updateCacheDataList(){this.setData(this._itemDataList,this._itemCacheDataList),this._itemCacheDataList.length=0,this._renderItemStartIndex=this._cacheRenderItemStartIndex,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem()}initData(){this._isLoaded=!0,this._originSize=this.node.getContentSize()}register(){}unregister(){}initView(){let t=0;switch(this.direction){case c.DirectionType.HORIZONTAL:.5===this.content.anchorX&&(this.content.anchorX=0,this.content.x=this.content.x-.5*this.content.width),this.content.anchorY=.5,t=Math.ceil((this.node.width-this.spacingX)/(this.itemPrefab.data.width+this.spacingX))+2;break;case c.DirectionType.VERTICAL:.5===this.content.anchorY&&(this.content.anchorY=1,this.content.y=this.content.y+.5*this.content.height),this.content.anchorX=.5,t=Math.ceil((this.node.height-this.spacingY)/(this.itemPrefab.data.height+this.spacingY))+2}if(this.mode===c.ListViewLoadMode.ENDLESS)for(let e=0;e<t;++e)this.putNode(this.getNode());this._itemDataList.length>0&&this.updateListItem()}setRendering(t){this._isRendering=t,t||this.onRendered()}getNode(){if(!this.itemPrefab)return G.Logger.error("\u8bf7\u5728 ListView \u6dfb\u52a0\u9884\u5236\u9879 prefab"),null;let t=this._itemNodePool.get();if(!t&&(t=cc.instantiate(this.itemPrefab),this.clickItemEventHandler)){let e=t.getComponent(cc.Button);e||(e=t.addComponent(cc.Button))}return t}putNode(t){if(!t||t.name!==this.itemPrefab.data.name)return G.Logger.warn(`\u8bf7\u4e0d\u8981\u653e\u5165\u4e0e ${t.name} \u4e0d\u76f8\u5173\u7684\u8282\u70b9`),null;this.clickItemEventHandler&&t.getComponent(cc.Button).node.off("click"),t.removeFromParent(),t.getComponent(t.name).reset(),this.scheduleOnce(()=>{this._itemNodePool.put(t)})}initItemPos(t){let e=this.content.childrenCount-1;this.direction===c.DirectionType.HORIZONTAL?t.setPosition(this.left+.5*this.itemPrefab.data.width+e*this.itemPrefab.data.width+e*this.spacingX,0):this.direction===c.DirectionType.VERTICAL&&t.setPosition(0,0-this.top-.5*this.itemPrefab.data.height-e*this.itemPrefab.data.height-e*this.spacingY)}makeItem(t){let e=this.getNode();this.content.addChild(e);let i=e.getComponent(e.name);i&&!h.default.isNull(t)&&(this.clickItemEventHandler&&e.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,e,t)),i.onShow&&i.onShow(t)),this.initItemPos(e)}*makeGeneratorItem(t){for(let e=0;e<t.length;++e)yield this.makeItem(t[e])}execGeneratorItem(t,e){return r(this,void 0,void 0,function*(){return new Promise(i=>{let n=()=>{let o=Date.now();for(let a=t.next();;a=t.next()){if(null==a||a.done){i();break}if(Date.now()-o>e){this.scheduleOnce(()=>{n()});break}}};n()})})}frameLoadItem(t){return r(this,void 0,void 0,function*(){yield this.execGeneratorItem(this.makeGeneratorItem(t),8),this.setRendering(!1)})}directLoadItem(t){for(let e=0;e<t.length;++e)this.makeItem(t[e])}getPadding(){let t=0;return this.direction===c.DirectionType.HORIZONTAL?t+=this.left+this.right:this.direction===c.DirectionType.VERTICAL&&(t+=this.top+this.bottom),t}getSpacing(){let t=0;return this.direction===c.DirectionType.HORIZONTAL?t=this.spacingX:this.direction===c.DirectionType.VERTICAL&&(t=this.spacingY),t}getInnerEstimateSize(){let t=this.content.parent.getContentSize();return this._itemDataList.length<=0?t=this._originSize:this.direction===c.DirectionType.HORIZONTAL?(t.width=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.width,t.width<this.content.parent.width&&(t.width=this.content.parent.width)):this.direction===c.DirectionType.VERTICAL&&(t.height=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.height,t.height<this.content.parent.height&&(t.height=this.content.parent.height)),t}initInnerSize(){this.content.setContentSize(this._originSize),this.node.setContentSize(this._originSize)}onRendered(){this._renderingOperateCount=0,this._itemCacheDataList.length<=0?this._cacheRenderItemStartIndex=null:this.updateCacheDataList()}update(t){}onClickItem(t,e){this.clickItemEventHandler.emit([t,e])}onDestroy(){this.unregister()}};a([u(cc.Node)],p.prototype,"content",void 0),a([u({type:cc.Prefab,tooltip:"\u5217\u8868\u9879\u9884\u5236"})],p.prototype,"itemPrefab",void 0),a([u({type:cc.Enum(c.ListViewLoadMode),tooltip:"\u52a0\u8f7d\u6a21\u5f0f\nNONE \u76f4\u63a5\u52a0\u8f7d\nFRAME \u5206\u5e27\u52a0\u8f7d\nENDLESS \u65e0\u9650\u52a0\u8f7d"})],p.prototype,"mode",void 0),a([u({type:cc.Enum(c.DirectionType),tooltip:"\u6ed1\u52a8\u65b9\u5411\nHORIZONTAL \u6c34\u5e73\nVERTICAL \u5782\u76f4"})],p.prototype,"direction",void 0),a([u({type:cc.Float,tooltip:"\u5782\u76f4\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"spacingY",void 0),a([u({type:cc.Float,tooltip:"\u9876\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"top",void 0),a([u({type:cc.Float,tooltip:"\u5e95\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.VERTICAL}})],p.prototype,"bottom",void 0),a([u({type:cc.Float,tooltip:"\u6c34\u5e73\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"spacingX",void 0),a([u({type:cc.Float,tooltip:"\u5de6\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"left",void 0),a([u({type:cc.Float,tooltip:"\u53f3\u95f4\u8ddd",visible:function(){return this.direction===c.DirectionType.HORIZONTAL}})],p.prototype,"right",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u70b9\u51fb\u5217\u8868\u9879\u56de\u8c03",visible:!0})],p.prototype,"clickItemEventHandler",void 0),p=a([g],p),i.default=p,cc._RF.pop()},{"../../../../script/common/define/ComponentDefine":void 0,"../../../../script/common/utils/TypeUtils":void 0,"../define/WingoDefine":"WingoDefine"}],WingoNetController:[function(t,e,i){"use strict";cc._RF.push(e,"4ec4a65rJpCN7FBuVN9l/5M","WingoNetController");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../../../script/common/manager/Manager"),s=t("../../../../script/common/net/CmdResStruct"),r=t("../../../../script/common/net/LobbyService"),l=o(t("../../../../script/data/UserData")),c=o(t("../../../../script/framework/controller/Controller")),h=t("../../../../script/framework/decorator/Decorators"),d=t("../../../../script/framework/external/protoc"),g=o(t("../../../../script/msgbox/PanelHelp")),u=o(t("../data/WingoData")),{ccclass:p,property:m}=cc._decorator;let f=class extends c.default{bindingEvents(){super.bindingEvents(),this.registerRes(),this.registerEvent(d.MST.OuterOpcode_WingoGame.M2C_GetWingoInfo_Res,this.onM2C_GetWingoInfo_Res),this.registerEvent(d.MST.OuterOpcode_WingoGame.M2C_GetWingoHistory_Res,this.onM2C_GetWingoHistory_Res),this.registerEvent(d.MST.OuterOpcode_WingoGame.M2C_WingoLottery_Mes,this.onM2C_WingoLottery_Mes),this.registerEvent(d.MST.OuterOpcode_WingoGame.M2C_WingoBet_Res,this.onM2C_WingoBet_Res),this.registerEvent(d.MST.OuterOpcode_WingoGame.S2C_WingoMyRecord,this.onS2C_WingoMyRecord),this.registerEvent(d.MST.OuterOpcode_Map.M2C_TransferMap_Res,this.onM2C_TransferMap_Res)}registerRes(){s.CmdResStruct.register(d.MST.OuterOpcode_WingoGame.M2C_GetWingoInfo_Res,d.MST.M2C_GetWingoInfo_Res),s.CmdResStruct.register(d.MST.OuterOpcode_WingoGame.M2C_GetWingoHistory_Res,d.MST.M2C_GetWingoHistory_Res),s.CmdResStruct.register(d.MST.OuterOpcode_WingoGame.M2C_WingoLottery_Mes,d.MST.M2C_WingoLottery_Mes),s.CmdResStruct.register(d.MST.OuterOpcode_WingoGame.M2C_WingoBet_Res,d.MST.M2C_WingoBet_Res),s.CmdResStruct.register(d.MST.OuterOpcode_WingoGame.S2C_WingoMyRecord,d.MST.S2C_WingoMyRecord),s.CmdResStruct.register(d.MST.OuterOpcode_Map.M2C_TransferMap_Res,d.MST.M2C_TransferMap_Res)}onM2C_GetWingoInfo_Res(t){if(0!==t.Error)return void g.default.showErrTip(t.Error);let e=G.DataMgr.get(u.default);e.lotteryMap.get(d.MST.WingoMode.CepatPlus).NextTimestamp=Number(t.CepatPlusTimestamp),e.lotteryMap.get(d.MST.WingoMode.Cepat).NextTimestamp=Number(t.CepatTimestamp),e.lotteryMap.get(d.MST.WingoMode.Standar).NextTimestamp=Number(t.StandarTimestamp),e.cost=t.Cost,dispatch("Event_M2C_GetWingoInfo_Res",t)}onM2C_GetWingoHistory_Res(t){if(0!==t.Error)return void g.default.showErrTip(t.Error);let e=G.DataMgr.get(u.default);e.isFirst?e.currMode=d.MST.WingoMode.CepatPlus:e.currMode=t.Mode,e.currIssue=Number(t.CurrIssue),e.historyLotteryMap.set(t.Mode,t.HistoryInfo.reverse()),e.isFirst&&t.Mode!==e.currMode||dispatch("Event_M2C_GetWingoHistory_Res",t)}onM2C_WingoLottery_Mes(t){let e=G.DataMgr.get(u.default);e.currMode===t.Mode&&(e.currIssue=Number(t.NextIssue)),e.historyLotteryMap.get(t.Mode).push(t.LotteryInfo),e.lotteryMap.set(t.Mode,t),dispatch("Event_M2C_WingoLottery_Mes",t)}onM2C_WingoBet_Res(t){0===t.Error?dispatch("Event_M2C_WingoBet_Res",t):g.default.showErrTip(t.Error)}onS2C_WingoMyRecord(t){0===t.code?dispatch("Event_S2C_WingoMyRecord",t):g.default.showErrTip(t.code)}onM2C_TransferMap_Res(t){G.DataMgr.get(l.default).inGame=t.RoomName,dispatch("Event_M2C_TransferMap_Res",t)}};f=n([p,h.injectService(r.LobbyService.instance)],f),i.default=f,a.Manager.netManager.push(f),cc._RF.pop()},{"../../../../script/common/manager/Manager":void 0,"../../../../script/common/net/CmdResStruct":void 0,"../../../../script/common/net/LobbyService":void 0,"../../../../script/data/UserData":void 0,"../../../../script/framework/controller/Controller":void 0,"../../../../script/framework/decorator/Decorators":void 0,"../../../../script/framework/external/protoc":void 0,"../../../../script/msgbox/PanelHelp":void 0,"../data/WingoData":"WingoData"}],WingoRootListView:[function(t,e,i){"use strict";cc._RF.push(e,"1df62Lx+UlLR7icbXMv9MKp","WingoRootListView");var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return o(e,t),e};Object.defineProperty(i,"__esModule",{value:!0});const r=s(t("../../../../script/common/define/ComponentDefine")),{ccclass:l,property:c}=cc._decorator;let h=class extends cc.ScrollView{constructor(){super(...arguments),this.directionType=r.DirectionType.HORIZONTAL,this.isPaging=!1,this.pullLeftEventHandler=new cc.Component.EventHandler,this.pullRightEventHandler=new cc.Component.EventHandler,this.pullTopEventHandler=new cc.Component.EventHandler,this.pullBottomEventHandler=new cc.Component.EventHandler,this.waitingImage=null,this.horizontal=this.direction===r.DirectionType.HORIZONTAL,this.vertical=this.direction===r.DirectionType.VERTICAL,this.brake=.75,this.bounceDuration=.23,this.spacingY=0,this.top=0,this.bottom=0,this.spacingX=0,this.left=0,this.right=0}get direction(){return this.directionType}set direction(t){t!==this.directionType&&(this.directionType=t,this.changeDirection(t))}changeDirection(t){this.horizontal=t===r.DirectionType.HORIZONTAL,this.vertical=t===r.DirectionType.VERTICAL,cc.Class.Attr.setClassAttr(this,"top","visible",this.direction===r.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"bottom","visible",this.direction===r.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"spacingY","visible",this.direction===r.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"verticalScrollBar","visible",this.direction===r.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"left","visible",this.direction===r.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"right","visible",this.direction===r.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"spacingX","visible",this.direction===r.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"horizontalScrollBar","visible",this.direction===r.DirectionType.HORIZONTAL)}onLoad(){this.register(),this.initData(),this.initView()}start(){super.start()}initData(){}register(){this.node.on("scroll-to-top",this.onScrollToTop,this),this.node.on("scroll-to-bottom",this.onScrollToBottom,this),this.node.on("scroll-to-left",this.onScrollToLeft,this),this.node.on("scroll-to-right",this.onScrollToRight,this),this.node.on("bounce-bottom",this.onBounceBottom,this),this.node.on("bounce-top",this.onBounceTop,this),this.node.on("bounce-left",this.onBounceLeft,this),this.node.on("bounce-right",this.onBounceRight,this),this.node.on("scrolling",this.onScrolling,this),this.node.on("scroll-ended",this.onScrollEnded,this),this.node.on("touch-up",this.onTouchUp,this),this.node.on("scroll-began",this.onScrollBegan,this)}unregister(){this.node.off("scroll-to-top",this.onScrollToTop,this),this.node.off("scroll-to-bottom",this.onScrollToBottom,this),this.node.off("scroll-to-left",this.onScrollToLeft,this),this.node.off("scroll-to-right",this.onScrollToRight,this),this.node.off("bounce-bottom",this.onBounceBottom,this),this.node.off("bounce-top",this.onBounceTop,this),this.node.off("bounce-left",this.onBounceLeft,this),this.node.off("bounce-right",this.onBounceRight,this),this.node.off("scrolling",this.onScrolling,this),this.node.off("scroll-ended",this.onScrollEnded,this),this.node.off("touch-up",this.onTouchUp,this),this.node.off("scroll-began",this.onScrollBegan,this)}initView(){}getPadding(){let t=0;return this.direction===r.DirectionType.HORIZONTAL?t+=this.left+this.right:this.direction===r.DirectionType.VERTICAL&&(t+=this.top+this.bottom),t}getSpacing(){let t=0;return this.direction===r.DirectionType.HORIZONTAL?t=this.spacingX:this.direction===r.DirectionType.VERTICAL&&(t=this.spacingY),t}onScrollToTop(t){this.isPaging&&this.pullTopEventHandler&&this.pullTopEventHandler.emit([t])}onScrollToBottom(t){this.isPaging&&this.pullBottomEventHandler&&this.pullBottomEventHandler.emit([t])}onScrollToLeft(t){this.isPaging&&this.pullLeftEventHandler&&this.pullLeftEventHandler.emit([t])}onScrollToRight(t){this.isPaging&&this.pullRightEventHandler&&this.pullRightEventHandler.emit([t])}onScrolling(t){}onBounceBottom(t){this.brake}onBounceTop(t){this.brake}onBounceLeft(t){this.brake}onBounceRight(t){this.brake}onScrollEnded(t){}onTouchUp(t){}onScrollBegan(t){}update(t){super.update(t)}onDestroy(){this.unregister()}};a([c({visible:function(){return cc.Class.Attr.setClassAttr(this,"horizontalScrollBar","visible",this.direction===r.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"verticalScrollBar","visible",this.direction===r.DirectionType.VERTICAL),!1}})],h.prototype,"directionType",void 0),a([c({tooltip:"\u662f\u5426\u5206\u9875\u52a0\u8f7d"})],h.prototype,"isPaging",void 0),a([c({type:cc.Component.EventHandler,tooltip:"\u5de6\u8fb9\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===r.DirectionType.HORIZONTAL}})],h.prototype,"pullLeftEventHandler",void 0),a([c({type:cc.Component.EventHandler,tooltip:"\u53f3\u8fb9\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===r.DirectionType.HORIZONTAL}})],h.prototype,"pullRightEventHandler",void 0),a([c({type:cc.Component.EventHandler,tooltip:"\u9876\u90e8\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===r.DirectionType.VERTICAL}})],h.prototype,"pullTopEventHandler",void 0),a([c({type:cc.Component.EventHandler,tooltip:"\u5e95\u90e8\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===r.DirectionType.VERTICAL}})],h.prototype,"pullBottomEventHandler",void 0),a([c({type:cc.SpriteFrame,tooltip:"\u5237\u65b0\u62c9\u53d6\u7b49\u5f85\u56fe\u7247",visible:function(){return this.isPaging}})],h.prototype,"waitingImage",void 0),a([c({type:cc.Enum(r.DirectionType),tooltip:"\u6ed1\u52a8\u65b9\u5411\nHORIZONTAL \u6c34\u5e73\nVERTICAL \u5782\u76f4"})],h.prototype,"direction",null),a([c({override:!0,visible:!1})],h.prototype,"horizontal",void 0),a([c({override:!0,visible:!1})],h.prototype,"vertical",void 0),a([c({type:cc.Float,tooltip:"\u6eda\u52a8\u4e4b\u540e\u7684\u51cf\u901f\u7cfb\u6570\u3002\u53d6\u503c\u8303\u56f4\u662f 0-1\uff0c\u5982\u679c\u662f 1 \u5219\u7acb\u9a6c\u505c\u6b62\u6eda\u52a8\uff0c\u5982\u679c\u662f 0\uff0c\u5219\u4f1a\u4e00\u76f4\u6eda\u52a8\u5230 content \u7684\u8fb9\u754c\u3002",override:!0,visible:!0})],h.prototype,"brake",void 0),a([c({type:cc.Float,tooltip:"\u56de\u5f39\u6240\u9700\u8981\u7684\u65f6\u95f4\u3002\u53d6\u503c\u8303\u56f4\u662f 0-10\u3002",override:!0,visible:!0})],h.prototype,"bounceDuration",void 0),a([c({type:cc.Float,tooltip:"\u5782\u76f4\u95f4\u8ddd",visible:function(){return this.direction===r.DirectionType.VERTICAL}})],h.prototype,"spacingY",void 0),a([c({type:cc.Float,tooltip:"\u9876\u95f4\u8ddd",visible:function(){return this.direction===r.DirectionType.VERTICAL}})],h.prototype,"top",void 0),a([c({type:cc.Float,tooltip:"\u5e95\u95f4\u8ddd",visible:function(){return this.direction===r.DirectionType.VERTICAL}})],h.prototype,"bottom",void 0),a([c({type:cc.Float,tooltip:"\u6c34\u5e73\u95f4\u8ddd",visible:function(){return this.direction===r.DirectionType.HORIZONTAL}})],h.prototype,"spacingX",void 0),a([c({type:cc.Float,tooltip:"\u5de6\u95f4\u8ddd",visible:function(){return this.direction===r.DirectionType.HORIZONTAL}})],h.prototype,"left",void 0),a([c({type:cc.Float,tooltip:"\u53f3\u95f4\u8ddd",visible:function(){return this.direction===r.DirectionType.HORIZONTAL}})],h.prototype,"right",void 0),h=a([l],h),i.default=h,cc._RF.pop()},{"../../../../script/common/define/ComponentDefine":void 0}],WingoTitleItemPageUser:[function(t,e,i){"use strict";cc._RF.push(e,"e2750cs7/JKALJhhKtmz8U5","WingoTitleItemPageUser");var n=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(a<3?o(s):a>3?o(e,i,s):o(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=o(t("../../../../script/common/item/TitleItemPageUser")),s=o(t("../data/WingoData")),{ccclass:r,property:l}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this._wingoData=null}onLoad(){super.onLoad()}initData(){super.initData(),this._wingoData=G.DataMgr.get(s.default)}onEvent_M2C_GoldChange_Mes(t){this._wingoData.isPlayingLotteryAnim||this.refreshGold()}manualRefreshGold(){this._userData.isLogined()&&this.refreshGold()}};c=n([r],c),i.default=c,cc._RF.pop()},{"../../../../script/common/item/TitleItemPageUser":void 0,"../data/WingoData":"WingoData"}],WingoUtils:[function(t,e,i){"use strict";cc._RF.push(e,"38d03tkj3ZP74X758iqrQy3","WingoUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{},cc._RF.pop()},{}]},{},["WingoLogic","WingoColorListView","WingoLinkListView","WingoMyRecordListView","WingoRootListView","WingoConfig","WingoData","WingoGameData","WingoLanguageEN","WingoLanguageHI","WingoLanguageZH","WingoColorDefine","WingoDefine","WingoEventDefine","WingoModeDefine","WingoInterface","WingoNetController","WingoUtils","WingoBetView","WingoColorItem","WingoGameView","WingoLinkItem","WingoMyRecordItem","WingoTitleItemPageUser"]);