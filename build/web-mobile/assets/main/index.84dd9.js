window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){return i(t[r][1][e]||e)},d,d.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Adaptor:[function(e,t,n){"use strict";cc._RF.push(t,"0d316/ErghHD7bOW3XBySzv","Adaptor"),Object.defineProperty(n,"__esModule",{value:!0}),n.Adaptor=void 0;const o=e("../base/Singleton"),i=e("../Framework");var a;function r(){return o.getSingleton(s)}(function(e){e[e.None=0]="None",e[e.Increase=1]="Increase",e[e.Decrease=2]="Decrease",e[e.Max=3]="Max"})(a||(a={}));class s{constructor(){this._logTag="[Adaptor]",this.canvas=null,this.screenAdaptType=a.None,this.node=null,this.MAX_RATE=2.4,this.designResolution=null,this.landscapeHeight=0,this.protraitHeight=0,this.waitScorllY=null,this.isFirstResize=!0,this._isShowKeyboard=!1,this._maxLandscapeHeight=0}static Instance(){return this._instance||(this._instance=new s)}get isShowKeyboard(){return r()._isShowKeyboard}set isShowKeyboard(e){let t=r();t._isShowKeyboard=e,e||t._onResize(!0)}fullScreenAdapt(e,t){let n=r();if(e&&n.isNeedAdapt){if(!e.getComponent(cc.Widget))return;e.setContentSize(cc.winSize),n.updateAlignment(e),null!=t&&t.onFullScreenAdapt()}}get isNeedAdapt(){return r().screenAdaptType!=a.None}updateAlignment(e){let t=r(),n=e.children;for(let o=0;o<n.length;o++){let e=n[o];cc.updateAlignment(e),t.updateAlignment(e)}}onLoad(e){let t=r();t.node=e,t.canvas=e.getComponent(cc.Canvas),t.designResolution=t.canvas.designResolution.clone(),t.onResize()}onDestroy(){let e=r();e.node=null,e.isFirstResize=!1}doChangeResolution(){let e=r();if(e.screenAdaptType==a.Increase){let t=e.getWinsize();e.canvas.designResolution=t}else if(e.screenAdaptType==a.Max){let t=e.getMaxWinsize();e.canvas.designResolution=t}else e.canvas.designResolution=e.designResolution;e.isNeedAdapt&&i.Manager.uiManager.fullScreenAdapt()}initBrowserAdaptor(){let e=r();e.isBrowser&&(cc.view.resizeWithBrowserSize(!0),cc.sys.platform==cc.sys.WECHAT_GAME?e.recordHeight():window.addEventListener("load",()=>{e.recordHeight(),window.addEventListener("resize",e.onResize,!1),window.addEventListener("orientationchange",e.onOrientationChange,!1)},!1))}get isBrowser(){return!!cc.sys.isBrowser}get isSafari(){return!(!r().isBrowser||cc.sys.OS_IOS!=cc.sys.os||cc.sys.browserType!=cc.sys.BROWSER_TYPE_SAFARI)}onOrientationChange(){let e=r();e.recordHeight(),e.isFirstResize=!1}onResize(){r()._onResize(!1)}_onResize(e){let t=r();if(t.node)if(cc.sys.platform==cc.sys.WECHAT_GAME)t.recordHeight(),t.doAdapt();else{if(t.isShowKeyboard)return void t.recordHeight();if("Landscape"==t.dviceDirection){let e=t.landscapeHeight,n=0;if(t.recordHeight(),0!=t.landscapeHeight&&(n=t.landscapeHeight-e,t.isFirstResize))return t.waitScorllY=n,t.doAdapt(),void(t.isFirstResize=!1)}e&&"Landscape"==t.dviceDirection&&(t.waitScorllY=Math.abs(t._maxLandscapeHeight-t.landscapeHeight)),t.isFirstResize=!1,t.doAdapt(),setTimeout(()=>{t.isShowKeyboard||("Landscape"==t.dviceDirection?(t.recordHeight(),cc.log(`cur scrolly : ${window.scrollY}`),window.scrollY>0||t.isSafari?(t.isSafari?t.waitScorllY=window.scrollY>0?-window.scrollY:-50:t.waitScorllY=-window.scrollY,t.doAdapt()):t.doAdapt()):"Portrait"==t.dviceDirection&&(t.protraitHeight>window.innerHeight&&(t.waitScorllY=t.protraitHeight-window.innerHeight),t.recordHeight(),t.doAdapt()))},505)}}doAdapt(){let e=r();if(e.canvas){if(null!=e.waitScorllY){let t=e.waitScorllY;window.scrollTo&&window.scrollTo(0,t),e.waitScorllY=null}e.calculateNeedFullScreenAdapt(),e.doChangeResolution()}}recordHeight(){if(window.innerWidth&&window.innerHeight){let e=r();"Landscape"==e.dviceDirection?(e.landscapeHeight=window.innerHeight,e._maxLandscapeHeight=Math.max(e._maxLandscapeHeight,e.landscapeHeight)):"Portrait"==e.dviceDirection&&(e.protraitHeight=Math.max(window.innerWidth,window.innerHeight))}}getWinsize(){let e=r(),t=e.getFrameSize(),n=t.width*e.designResolution.height/t.height,o=e.designResolution.height;return cc.size(n,o)}getMaxWinsize(){let e=r(),t=e.designResolution.height,n=t*e.MAX_RATE;return cc.size(n,t)}getFrameSize(){let e=r(),t=cc.view.getFrameSize(),n=e.windowInnerSize;t.clone();return n}calculateNeedFullScreenAdapt(){let e=r(),t=e.designResolution.width/e.designResolution.height,n=e.getFrameSize(),o=n.width/n.height;("Portrait"==e.dviceDirection||""==e.dviceDirection&&t<1)&&(t=1/t,o=1/o),e.screenAdaptType=a.None,t==o||(o<t?e.screenAdaptType=a.Decrease:o>=e.MAX_RATE?e.screenAdaptType=a.Max:e.screenAdaptType=a.Increase)}get dviceDirection(){return null==window.orientation&&null==window.orientation||90!=window.orientation&&-90!=window.orientation?null==window.orientation&&null==window.orientation||0!=window.orientation&&180!=window.orientation?"":"Portrait":"Landscape"}get windowInnerSize(){let e=cc.Size.ZERO.clone();if(window.innerHeight&&window.innerWidth){let t=window.innerWidth,n=window.innerHeight,o=t>=n;!cc.sys.isMobile||o?(e.width=t,e.height=n):(e.width=n,e.height=t)}return e}}n.Adaptor=s,s._instance=null,cc._RF.pop()},{"../Framework":"Framework","../base/Singleton":"Singleton"}],AddressView:[function(e,t,n){"use strict";cc._RF.push(t,"a2a29Zj3IpD/Iu01apuZCXo","AddressView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("../msgbox/PanelHelp")),{ccclass:h,property:u}=cc._decorator;let p=class extends l.default{constructor(){super(...arguments),this.nameEdit=null,this.phoneEdit=null,this.areaCode=null,this.addressEdit=null}static getPrefabUrl(){return"turntable/prefab/AddressView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this.id=e[0])}bindingEvents(){super.bindingEvents(),this.registerEvent(c.makeKey(r.serverType.Lobby,r.protoPackage.hall.HallCmd.Turntable_Address),this.onNetTurntableAddressRes)}onClick(e,t){switch(e){case"close":case"btn_cancel":this.closeWithAction();break;case"btn_confirm":this.reqTurntableAddress();break;default:G.Logger.error("no find button name -> %s",e)}}reqTurntableAddress(){let e=this.nameEdit.string,t=this.phoneEdit.string,n=this.addressEdit.string,o=this.areaCode.string;if(!e.length)return void d.default.showTip(a.i18n.EDITBOX.NICKNAMENULL);if(!t)return d.default.showTip(a.i18n.EDITBOX.PHONENULL),null;if(t.length<7)return d.default.showTip(a.i18n.EDITBOX.PHONETYPEERR),null;if(!n.length)return void d.default.showTip(a.i18n.EDITBOX.ADDRESSNULL);if(!o.length)return;let i={id:this.id,name:e,phone:o+t,address:n};G.Logger.log("AddressOptions",i);let s=r.protoPackage.hall.TurntableAddressReq.create(i),c=r.protoPackage.hall.TurntableAddressReq.encode(s).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.Turntable_Address,c)}onNetTurntableAddressRes(e){0==e.statusMsg.status?(d.default.showTip(a.i18n.TURN_TABLE.AddressSuccess),dispatch("UPDATE_PRIZE_RECORD"),this.closeWithAction()):d.default.showTip(a.i18n.ERRORCODE[e.statusMsg.status])}onDestroy(){super.onDestroy()}};o([u(cc.EditBox)],p.prototype,"nameEdit",void 0),o([u(cc.EditBox)],p.prototype,"phoneEdit",void 0),o([u(cc.Label)],p.prototype,"areaCode",void 0),o([u(cc.EditBox)],p.prototype,"addressEdit",void 0),p=o([h,c.injectService(s.LobbyService.instance)],p),n.default=p,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],AgentPot:[function(e,t,n){"use strict";cc._RF.push(t,"df5a8eByw1NRbxJy2oJPDXK","AgentPot");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/UtilMgr"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.showNode=null,this.Label=null,this.m_isLoaded=!1,this.m_value=null}onLoad(){super.onLoad(),this.m_isLoaded=!0,this.showNode.active=!1,this.node.parent.active=!0,this.change(this.m_value)}bindingEvents(){super.bindingEvents(),this.registerEvent("agentpot.change",this.change)}change(e){null!=e&&-1!=e?(this.showNode.active=!0,this.Label.string=r.UtilMgr.changeMoney(e)):this.showNode.active=!1}show(e){super.show(e)}setData(e){this.m_value=e,this.m_isLoaded&&this.change(e)}start(){this.showNode}};o([c(cc.Node)],l.prototype,"showNode",void 0),o([c(cc.Label)],l.prototype,"Label",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],AkunView:[function(e,t,n){"use strict";cc._RF.push(t,"4c6fbgY3AdOsoFsAqmLmdm2","AkunView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../common/config/Config"),s=e("../common/language/LanguageImpl"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=e("../common/manager/Manager"),h=e("../framework/base/Defines"),u=i(e("../hall/HallNewView")),p=i(e("../wallet/WalletView")),g=i(e("../login/LoginNewView")),m=i(e("../data/UserData")),f=e("../framework/external/protoc"),b=e("../framework/event/EventApi"),y=i(e("../activity/MissionView")),_=i(e("../login/Validator")),v=i(e("../msgbox/PanelHelp")),w=i(e("../common/bindItemView/BindPhoneView")),C=e("../global/UtilMgr"),R=i(e("../common/bindItemView/BindEmailView")),L=i(e("../promotion/PromotionView")),E=i(e("../promotion/PromotionUnView")),{ccclass:S,property:I}=cc._decorator;let k=class extends a.default{constructor(){super(...arguments),this.btnAkun=null,this.btnSignOut=null,this.btnHome=null,this.EmailNode=null,this.TeleponNode=null,this.KeamananNode=null,this.ChangePasswordNode=null,this.PrivasiNode=null,this.ReferensiNode=null,this.FANode=null,this.BahasaNode=null,this.TentangNode=null,this.editAvatarNode=null,this.ContactUsNode=null,this.rightAvatar=null,this.imgAvatar0=null,this.imgAvatar1=null,this.imgAvatar2=null,this.imgAvatar3=null,this.imgAvatar4=null,this.imgAvatar5=null,this.imgAvatar6=null,this.imgAvatar7=null,this.avatarIndex=0,this.backTop=null,this.topNode=null,this.layananNode=null,this.privasiNode=null,this.tentangImgNode=null,this.codeEditBox=null,this.m_codeStr="",this.newPasswordEditBox=null,this.m_newPasswordStr="",this.curNodeName=null,this.curNode=null,this.Profi=null,this.Ranking=null,this.Games=null,this.Integration=null,this.Used=null,this.Reference=null,this.Reference1=null,this.Arrange=null,this.EmailVer=null,this.PhoneVer=null,this.Security=null,this.ChangePass=null,this.Privacy=null,this.Language=null,this.About=null,this.ContactUS=null,this.About1=null,this._userData=null}static getPrefabUrl(){return"akun/prefabs/AkunView"}onLoad(){super.onLoad(),this.initData(),this.bindEvents()}initData(){this._userData=G.DataMgr.get(m.default)}bindEvents(){this.codeEditBox.node.on("editing-did-began",this.onCodeBegan,this),this.codeEditBox.node.on("editing-did-ended",this.onCodeEnded,this),this.codeEditBox.node.on("editing-return",this.onCodeEnded,this),this.codeEditBox.node.on("text-changed",this.onCodeChanged,this),this.newPasswordEditBox.node.on("editing-did-began",this.onNewPassWordBegan,this),this.newPasswordEditBox.node.on("editing-did-ended",this.onNewPassWordEnded,this),this.newPasswordEditBox.node.on("editing-return",this.onNewPassWordEnded,this),this.newPasswordEditBox.node.on("text-changed",this.onNewPassWordChanged,this)}bindingEvents(){super.bindingEvents(),h.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(b.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("M2C_AuthOut_Res",this.onM2C_AuthOut_Res),this.registerEvent("updateUserInfo",this.refreshTopInfo),this.registerEvent("Event_S2C_ResetPassword",this.onEvent_S2C_ResetPassword),this.registerEvent("Event_S2C_ModifyAvartar",this.onEvent_S2C_ModifyAvartar)}onClick(e,t){switch(e){case"btnHome":d.Manager.uiManager.open({type:u.default,bundle:h.BUNDLE_RESOURCES}),this.close();break;case"btnDompet":d.Manager.uiManager.open({type:p.default,bundle:h.BUNDLE_RESOURCES}),this.close();break;case"btnEvent":d.Manager.uiManager.open({type:y.default,bundle:h.BUNDLE_RESOURCES}),this.close();break;case"btnLogin":d.Manager.uiManager.open({type:g.default,bundle:h.BUNDLE_RESOURCES});break;case"btnBindEmail":this.checkLogined()&&(this.curNodeName="VerifikaslEmail",this.curNode=this.EmailNode,this.openNodeView(),this.refreshEmailView());break;case"btnBindPhone":this.checkLogined()&&(this.curNodeName="VerifikaslTelepon",this.curNode=this.TeleponNode,this.openNodeView(),this.refreshPhoneView());break;case"btn2FA":this.checkLogined()&&(this.curNodeName="PengaturanKeamanan",this.curNode=this.FANode,this.openNodeView());break;case"HubungiKaml":this.checkLogined()&&(this.curNodeName="HubungiKaml",this.curNode=this.ContactUsNode,this.openNodeView());break;case"btnChangePassword":this.checkLogined()&&(this.curNodeName="MengubahKatesandi",this.curNode=this.ChangePasswordNode,this.openNodeView());break;case"btnPrivacy":this.checkLogined()&&(this.curNodeName="PengaturanPrivasl",this.curNode=this.PrivasiNode,this.openNodeView());break;case"Peringkat":this._userData.isLogined()?d.Manager.uiManager.open({type:L.default,bundle:h.BUNDLE_RESOURCES}):d.Manager.uiManager.open({type:E.default,bundle:h.BUNDLE_RESOURCES});break;case"Bahasa":this.curNodeName="Bahasa",this.curNode=this.BahasaNode,this.openNodeView();break;case"Tentang":this.curNodeName="Tentang",this.curNode=this.TentangNode,this.openNodeView();break;case"WaktuLayanan":this.curNodeName="Jangka WaktuLayanan",this.curNode=this.layananNode,this.openNodeView();break;case"KebPrivasi":this.curNodeName="Kebijakan privasi",this.curNode=this.privasiNode,this.openNodeView();break;case"TentangSaya":this.curNodeName="tentang saya",this.curNode=this.tentangImgNode,this.openNodeView();break;case"editHead":this.editAvatarNode.active=!0,this.clickEditAvatar();break;case"btnCloseAvatar":this.editAvatarNode.active=!1;break;case"btnGetCode":this.clickGetCodeHanlder();break;case"btnSetNewPass":this.clickSetNewPassHandler();break;case"btnSignOut":this.signOut();break;case"btnSetPhoneBind":d.Manager.uiManager.open({type:w.default,bundle:h.BUNDLE_RESOURCES});break;case"btnSetEmailBind":d.Manager.uiManager.open({type:R.default,bundle:h.BUNDLE_RESOURCES});break;case"backBtn":this.clickBackBtn();break;case"imgAvatar0":this.avatarIndex=0,this.refreshAvatar();break;case"imgAvatar1":this.avatarIndex=1,this.refreshAvatar();break;case"imgAvatar2":this.avatarIndex=2,this.refreshAvatar();break;case"imgAvatar3":this.avatarIndex=3,this.refreshAvatar();break;case"imgAvatar4":this.avatarIndex=4,this.refreshAvatar();break;case"imgAvatar5":this.avatarIndex=5,this.refreshAvatar();break;case"imgAvatar6":this.avatarIndex=6,this.refreshAvatar();break;case"imgAvatar7":this.avatarIndex=7,this.refreshAvatar();break;case"btnAvatarSure":this.requestChangeAvatar()}}requestChangeAvatar(){let e=String(this.avatarIndex),t=f.MST.C2S_ModifyAvartar.create({serial:d.Manager.netManager.getNewSeqId(),avartar:e}),n=f.MST.C2S_ModifyAvartar.encode(t).finish();c.LobbyService.instance.sendMsg(f.MST.C2S_ModifyAvartar,f.MST.OuterOpcode_Lobby.C2S_ModifyAvartar,n)}checkLogined(){return!!this._userData.id||(d.Manager.uiManager.open({type:g.default,bundle:h.BUNDLE_RESOURCES}),!1)}clickEditAvatar(){let e=this._userData.info.HeaderUrl;""==e?this.avatarIndex=0:-1==e.indexOf("http")&&(this.avatarIndex=Number(e)),this.refreshAvatar()}refreshAvatar(){let e=this.avatarIndex;for(let t=0;t<8;t++)this[`imgAvatar${t}`].node.getChildByName("choose").active=!1;this.rightAvatar.getChildByName("imgAvatar").getComponent(cc.Sprite).loadImage({url:r.Config.avatar_path+(e+1),view:this,bundle:h.BUNDLE_RESOURCES})}clickBackBtn(){let e=this.curNodeName;this.curNode.active=!1,"Jangka WaktuLayanan"==e||"Kebijakan privasi"==e||"tentang saya"==e?(this.curNodeName="Tentang",this.curNode=this.TentangNode,this.openNodeView()):this.backTop.active=!1}show(e){this.onLanguageChange(),this.refreshTopInfo()}onLanguageChange(){this.Profi.string=s.i18n.AKUN_TITLE.PROFILE,this.Ranking.string=s.i18n.AKUN_TITLE.RANKING,this.Games.string=s.i18n.AKUN_TITLE.GAMES,this.Integration.string=s.i18n.AKUN_TITLE.INTEGRATION,this.Used.string=s.i18n.AKUN_TITLE.USED,this.Reference.string=s.i18n.AKUN_TITLE.REFERENCE,this.Reference1.string=s.i18n.AKUN_TITLE.REFERENCE,this.Arrange.string=s.i18n.AKUN_TITLE.ARRANGE,this.EmailVer.string=s.i18n.AKUN_TITLE.EMAIL_VERIFICATION,this.PhoneVer.string=s.i18n.AKUN_TITLE.PHONE_VERIFICATION,this.Security.string=s.i18n.AKUN_TITLE.SECURITY_SETTING,this.ChangePass.string=s.i18n.AKUN_TITLE.CHANGE_PASSWORD,this.Privacy.string=s.i18n.AKUN_TITLE.PRIVACY_SETTING,this.Language.string=s.i18n.AKUN_TITLE.LANGUAGE,this.About.string=s.i18n.AKUN_TITLE.ABOUT,this.About1.string=s.i18n.AKUN_TITLE.ABOUT,this.ContactUS.string=s.i18n.AKUN_TITLE.CONTACT_US}refreshTopInfo(){let e=this.topNode.getChildByName("Logined"),t=this.topNode.getChildByName("NotLogin");e.active=!1,t.active=!1;let n=this._userData.info;if(n){let t=e.getChildByName("avatar").getChildByName("imgAvatar").getComponent(cc.Sprite);e.getChildByName("userName").getComponent(cc.Label).string=n.Nick,C.UtilMgr.loadHeadImg(t,this._userData.info.HeaderUrl,this._userData.info.UnitId,this)}e.active=!!n,t.active=!e.active,this.btnSignOut.active=e.active}openNodeView(){this.backTop.active=!0,this.backTop.getChildByName("backBtn").getChildByName("showViewTitle").getComponent(cc.Label).string=this.curNodeName,this.curNode.active=!0}clickGetCodeHanlder(){this._userData.email&&this.requestGetCheckCode()}clickSetNewPassHandler(){let e=this._userData.email,t=this.m_newPasswordStr,n=this.m_codeStr,o=new _.default;if(!e)return void v.default.showTip(s.i18n.REGISTER.NOBOUDMAIL);o.add(n,[{strategy:"isNonEmpty",errorMsg:s.i18n.REGISTER.CODEINFORMATIONEMPTY}]),o.add(t,[{strategy:"minLength:8",errorMsg:s.i18n.REGISTER.PASSWORD8}]);let i=o.start();i?v.default.showTip(i):this.requestResetPass()}requestResetPass(){let e=this._userData.email,t=this.m_newPasswordStr,n=this.m_codeStr,o=f.MST.C2S_ResetPassword.create({serial:d.Manager.netManager.getNewSeqId(),username:e,password:t,checkCode:n}),i=f.MST.C2S_ResetPassword.encode(o).finish();c.LobbyService.instance.sendMsg(f.MST.C2S_ResetPassword,f.MST.OuterOpcode_Lobby.C2S_ResetPassword,i)}requestGetCheckCode(){let e=this._userData.email,t=f.MST.C2S_GetCheckCode.create({serial:d.Manager.netManager.getNewSeqId(),username:e}),n=f.MST.C2S_GetCheckCode.encode(t).finish();c.LobbyService.instance.sendMsg(f.MST.C2S_GetCheckCode,f.MST.OuterOpcode_Lobby.C2S_GetCheckCode,n)}onEvent_S2C_ResetPassword(){v.default.showTip(s.i18n.REGISTER.CHANGEPASSWORDSUCCESS)}onEvent_S2C_ModifyAvartar(){v.default.showTip(s.i18n.REGISTER.CHANGEAVATARSUCCESS),this.editAvatarNode.active=!1,this.refreshTopInfo()}onCodeBegan(e){this.codeEditBox.string=this.m_codeStr}onCodeEnded(e){this.m_codeStr.length<=0||(this.codeEditBox.string=this.m_codeStr)}onCodeChanged(e){this.m_codeStr=e.string}onNewPassWordBegan(e){this.newPasswordEditBox.string=this.m_newPasswordStr}onNewPassWordEnded(e){this.m_newPasswordStr.length<=0||(this.newPasswordEditBox.string=this.m_newPasswordStr)}onNewPassWordChanged(e){this.m_newPasswordStr=e.string}refreshEmailView(){let e=this.EmailNode.getChildByName("frame").getChildByName("bindNode"),t=this.EmailNode.getChildByName("frame").getChildByName("noBindNode"),n=this._userData;n.email?(e.active=!0,t.active=!1,e.getChildByName("bindEmail").getComponent(cc.Label).string=n.email):(e.active=!1,t.active=!0)}refreshPhoneView(){let e=this.TeleponNode.getChildByName("frame").getChildByName("framePhone").getChildByName("labPhone"),t=this._userData;t.BindPhone?e.getComponent(cc.Label).string=t.BindPhone:e.getComponent(cc.Label).string=""}onM2C_AuthOut_Res(e){this._userData.clearUserData(),this.refreshTopInfo(),dispatch("updateUserInfo")}signOut(){let e=f.MST.C2M_AuthOut_Req.create({RpcId:d.Manager.netManager.getNewSeqId()}),t=f.MST.C2M_AuthOut_Req.encode(e).finish();c.LobbyService.instance.sendMsg(f.MST.C2M_AuthOut_Req,f.MST.OuterOpcode_Map.C2M_AuthOut_Req,t)}};o([I(cc.Node)],k.prototype,"btnAkun",void 0),o([I(cc.Node)],k.prototype,"btnSignOut",void 0),o([I(cc.Node)],k.prototype,"btnHome",void 0),o([I(cc.Node)],k.prototype,"EmailNode",void 0),o([I(cc.Node)],k.prototype,"TeleponNode",void 0),o([I(cc.Node)],k.prototype,"KeamananNode",void 0),o([I(cc.Node)],k.prototype,"ChangePasswordNode",void 0),o([I(cc.Node)],k.prototype,"PrivasiNode",void 0),o([I(cc.Node)],k.prototype,"ReferensiNode",void 0),o([I(cc.Node)],k.prototype,"FANode",void 0),o([I(cc.Node)],k.prototype,"BahasaNode",void 0),o([I(cc.Node)],k.prototype,"TentangNode",void 0),o([I(cc.Node)],k.prototype,"editAvatarNode",void 0),o([I(cc.Node)],k.prototype,"ContactUsNode",void 0),o([I(cc.Node)],k.prototype,"rightAvatar",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar0",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar1",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar2",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar3",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar4",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar5",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar6",void 0),o([I(cc.Sprite)],k.prototype,"imgAvatar7",void 0),o([I(cc.Node)],k.prototype,"backTop",void 0),o([I(cc.Node)],k.prototype,"topNode",void 0),o([I(cc.Node)],k.prototype,"layananNode",void 0),o([I(cc.Node)],k.prototype,"privasiNode",void 0),o([I(cc.Node)],k.prototype,"tentangImgNode",void 0),o([I(cc.EditBox)],k.prototype,"codeEditBox",void 0),o([I(cc.EditBox)],k.prototype,"newPasswordEditBox",void 0),o([I(cc.Label)],k.prototype,"Profi",void 0),o([I(cc.Label)],k.prototype,"Ranking",void 0),o([I(cc.Label)],k.prototype,"Games",void 0),o([I(cc.Label)],k.prototype,"Integration",void 0),o([I(cc.Label)],k.prototype,"Used",void 0),o([I(cc.Label)],k.prototype,"Reference",void 0),o([I(cc.Label)],k.prototype,"Reference1",void 0),o([I(cc.Label)],k.prototype,"Arrange",void 0),o([I(cc.Label)],k.prototype,"EmailVer",void 0),o([I(cc.Label)],k.prototype,"PhoneVer",void 0),o([I(cc.Label)],k.prototype,"Security",void 0),o([I(cc.Label)],k.prototype,"ChangePass",void 0),o([I(cc.Label)],k.prototype,"Privacy",void 0),o([I(cc.Label)],k.prototype,"Language",void 0),o([I(cc.Label)],k.prototype,"About",void 0),o([I(cc.Label)],k.prototype,"ContactUS",void 0),o([I(cc.Label)],k.prototype,"About1",void 0),k=o([S,l.injectService(c.LobbyService.instance)],k),n.default=k,cc._RF.pop()},{"../activity/MissionView":"MissionView","../common/bindItemView/BindEmailView":"BindEmailView","../common/bindItemView/BindPhoneView":"BindPhoneView","../common/config/Config":"Config","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../hall/HallNewView":"HallNewView","../login/LoginNewView":"LoginNewView","../login/Validator":"Validator","../msgbox/PanelHelp":"PanelHelp","../promotion/PromotionUnView":"PromotionUnView","../promotion/PromotionView":"PromotionView","../wallet/WalletView":"WalletView"}],AllowEventTistribution:[function(e,t,n){"use strict";cc._RF.push(t,"91c9aKr6rhC/aIfBPluoBZY","AllowEventTistribution");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this._isSwallow=!1}onEnable(){this.node._touchListener&&this.node._touchListener.setSwallowTouches(this._isSwallow)}};r=o([i],r),n.default=r,cc._RF.pop()},{}],AppData:[function(e,t,n){"use strict";cc._RF.push(t,"50884/R/JZFtaht8X+Ro7ak","AppData");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../base/BaseData"));let r=class extends a.default{constructor(){super(),this.version=null,this.token=null,this.refreshToken=null,this.channel=null,this.timeDifference=null,this.invcode=null}destroy(){this.version=null,this.token=null,this.refreshToken=null,this.channel=null,this.timeDifference=null,this.invcode=null}getClientTimestamp(){return Date.now()}getServerTimestamp(){return Date.now()+this.timeDifference}};r=o([i(e("../framework/decorator/ClassDecorator")).default.classname],r),n.default=r,cc._RF.pop()},{"../base/BaseData":"BaseData","../framework/decorator/ClassDecorator":"ClassDecorator"}],Application:[function(e,t){"use strict";cc._RF.push(t,"9a02epv+edOjZ4yLa/NSdtl","Application"),e("./common/manager/Manager").Manager.init(),cc.Node.prototype.Run=function(){var e=Array.prototype.slice.call(arguments);1==e.length?this.runAction(e[0]):e.length>=2&&this.runAction(cc.sequence(e))},cc.Node.prototype.LastChild=function(){return this.children[this.children.length-1]},cc.Node.prototype.PathChild=function(e,t){for(var n=e.split("/"),o=null,i=0;i<n.length;i++)o=o?o.getChildByName(n[i]):this.getChildByName(n[i]);return t?o.getComponent(t):o},cc.Node.prototype.Component=function(e){return this.getComponent(e)},cc.Node.prototype.EachChild=function(e){this.children.forEach(function(t){e(t)})},cc.Node.prototype.Play=function(e){var t=this.getComponent(cc.Animation),n=t.getClips();0==n.length&&cc.error("There's no clip in node",this.node),t.play(n[e].name)},cc.Node.prototype.GotoAnimateTime=function(e,t){var n=this.getComponent(cc.Animation);if(!e){var o=n.getClips();0==o.length&&cc.error("There's no clip in node",this.node),e=o[0].name}n.play(e),n.pause(),t<0&&(t=n.getAnimationState(e).duration),n.setCurrentTime(t)},cc.Node.prototype.setString=function(e,t){var n=this.getComponent(cc.Label);if(t)if(e.length>7){var o=e.substring(0,7);e=o+"..."}else e=e;n.string=e},Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},cc._RF.pop()},{"./common/manager/Manager":"Manager"}],AreaCodeConfig:[function(e,t,n){"use strict";cc._RF.push(t,"2923cB6tHVE3bOgRMtR8InW","AreaCodeConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.AreaCodeConfig=void 0,(n.AreaCodeConfig||(n.AreaCodeConfig={})).Config=[{id:1,Zh:"\u5370\u5ea6",En:"India",Code:"+91"},{id:2,Zh:"\u571f\u8033\u5176",En:"Turkey",Code:"+90"},{id:3,Zh:"\u5df4\u57fa\u65af\u5766",En:"Pakistan",Code:"+92"},{id:4,Zh:"\u963f\u5bcc\u6c57",En:"Afghanistan",Code:"+93"},{id:5,Zh:"\u65af\u91cc\u5170\u5361",En:"Sri Lanka",Code:"+94"},{id:6,Zh:"\u7f05\u7538",En:"Myanmar",Code:"+95"},{id:7,Zh:"\u4fc4\u7f57\u65af",En:"Russia",Code:"+7"},{id:8,Zh:"\u54c8\u8428\u514b\u65af\u5766",En:"Kazakhstan",Code:"+7"},{id:9,Zh:"\u9a6c\u6765\u897f\u4e9a",En:"Malaysia",Code:"+60"},{id:10,Zh:"\u6fb3\u5927\u5229\u4e9a",En:"Australia",Code:"+61"},{id:11,Zh:"\u5370\u5ea6\u5c3c\u897f\u4e9a",En:"Indonesia",Code:"+62"},{id:12,Zh:"\u83f2\u5f8b\u5bbe",En:"Philippines",Code:"+63"},{id:13,Zh:"\u65b0\u897f\u5170",En:"new Zealand",Code:"+64"},{id:14,Zh:"\u65b0\u52a0\u5761",En:"Singapore",Code:"+65"},{id:15,Zh:"\u6cf0\u56fd",En:"Thailand",Code:"+66"},{id:16,Zh:"\u65e5\u672c",En:"Japan",Code:"+81"},{id:17,Zh:"\u97e9\u56fd",En:"Korea",Code:"+82"},{id:18,Zh:"\u8d8a\u5357",En:"Vietnam",Code:"+84"},{id:19,Zh:"\u97e9\u56fd",En:"Korea",Code:"+850"},{id:20,Zh:"\u4e2d\u56fd\u9999\u6e2f",En:"China Hong Kong",Code:"+852"},{id:21,Zh:"\u4e2d\u56fd\u6fb3\u95e8",En:"China Macao",Code:"+853"},{id:22,Zh:"\u67ec\u57d4\u5be8",En:"Cambodia",Code:"+855"},{id:23,Zh:"\u8001\u631d",En:"Laos",Code:"+856"},{id:24,Zh:"\u4e2d\u56fd",En:"China",Code:"+86"},{id:25,Zh:"\u5b5f\u52a0\u62c9\u56fd",En:"Bangladesh",Code:"+880"},{id:26,Zh:"\u4e2d\u56fd\u53f0\u6e7e",En:"China Taiwan",Code:"+886"},{id:27,Zh:"\u9a6c\u5c14\u4ee3\u592b",En:"Maldives",Code:"+960"},{id:28,Zh:"\u9ece\u5df4\u5ae9",En:"Lebanon",Code:"+961"},{id:29,Zh:"\u7ea6\u65e6",En:"Jordan",Code:"+962"},{id:30,Zh:"\u53d9\u5229\u4e9a",En:"Syria",Code:"+963"},{id:31,Zh:"\u4f0a\u62c9\u514b",En:"Iraq",Code:"+964"},{id:32,Zh:"\u79d1\u5a01\u7279",En:"Kuwait",Code:"+965"},{id:33,Zh:"\u6c99\u7279\u963f\u62c9\u4f2f",En:"Saudi Arabia",Code:"+966"},{id:34,Zh:"\u4e5f\u95e8",En:"Yemen",Code:"+967"},{id:35,Zh:"\u963f\u66fc",En:"Oman",Code:"+968"},{id:36,Zh:"\u5df4\u52d2\u65af\u5766",En:"Palestine",Code:"+970"},{id:37,Zh:"\u963f\u62c9\u4f2f\u8054\u5408\u914b\u957f\u56fd",En:"United Arab Emirates",Code:"+971"},{id:38,Zh:"\u4ee5\u8272\u5217",En:"Israel",Code:"+972"},{id:39,Zh:"\u5df4\u6797",En:"Bahrain",Code:"+973"},{id:40,Zh:"\u5361\u5854\u5c14",En:"Qatar",Code:"+974"},{id:41,Zh:"\u4e0d\u4e39",En:"Bhutan",Code:"+975"},{id:42,Zh:"\u8499\u53e4",En:"Mongolia",Code:"+976"},{id:43,Zh:"\u5c3c\u6cca\u5c14",En:"Nepal",Code:"+977"},{id:44,Zh:"\u4f0a\u6717",En:"Iran",Code:"+98"},{id:45,Zh:"\u5854\u5409\u514b\u65af\u5766",En:"Tajikistan",Code:"+992"},{id:46,Zh:"\u571f\u5e93\u66fc\u65af\u5766",En:"Turkmenistan",Code:"+993"},{id:47,Zh:"\u963f\u585e\u62dc\u7586",En:"Azerbaijan",Code:"+994"},{id:48,Zh:"\u683c\u9c81\u5409\u4e9a",En:"Georgia",Code:"+995"},{id:49,Zh:"\u5409\u5c14\u5409\u65af\u65af\u5766",En:"Kyrgyzstan",Code:"+996"},{id:50,Zh:"\u4e4c\u5179\u522b\u514b\u65af\u5766",En:"Uzbekistan",Code:"+998"},{id:51,Zh:"\u4e1c\u5e1d\u6c76",En:"East Timor",Code:"+670"},{id:52,Zh:"\u6587\u83b1",En:"Brunei",Code:"+673"},{id:53,Zh:"\u7459\u9c81",En:"Nauru",Code:"+674"},{id:54,Zh:"\u5df4\u5e03\u4e9a\u65b0\u51e0\u5185\u4e9a",En:"Papua New Guinea",Code:"+675"},{id:55,Zh:"\u6c64\u52a0",En:"Tonga",Code:"+676"},{id:56,Zh:"\u6240\u7f57\u95e8\u7fa4\u5c9b",En:"Solomon Islands",Code:"+677"},{id:57,Zh:"\u74e6\u52aa\u963f\u56fe",En:"Vanuatu",Code:"+678"},{id:58,Zh:"\u6590\u6d4e",En:"Fiji",Code:"+679"},{id:59,Zh:"\u5e15\u52b3",En:"Palau",Code:"+680"},{id:60,Zh:"\u74e6\u5229\u65af\u548c\u5bcc\u56fe\u7eb3\u7fa4\u5c9b",En:"Wallis and Futuna",Code:"+681"},{id:61,Zh:"\u5e93\u514b\u7fa4\u5c9b",En:"Island",Code:"+682"},{id:62,Zh:"\u7ebd\u57c3",En:"Niue",Code:"+683"},{id:63,Zh:"\u8428\u6469\u4e9a",En:"Samoa",Code:"+685"},{id:64,Zh:"\u57fa\u91cc\u5df4\u65af\uff0c\u5409\u5c14\u4f2f\u7279\u7fa4\u5c9b",En:"Kiribati,Gilbert Islands",Code:"+686"},{id:65,Zh:"\u65b0\u5580\u91cc\u591a\u5c3c\u4e9a",En:"New Caledonia",Code:"+687"},{id:66,Zh:"\u56fe\u74e6\u5362\uff0c\u57c3\u5229\u65af\u7fa4\u5c9b",En:"Tuvalu,Ellis Islands",Code:"+688"},{id:67,Zh:"\u6cd5\u5c5e\u6ce2\u5229\u5c3c\u897f\u4e9a",En:"French Polynesia",Code:"+689"},{id:68,Zh:"\u6258\u514b\u52b3\u7fa4\u5c9b",En:"Tokelau",Code:"+690"},{id:69,Zh:"\u5bc6\u514b\u7f57\u5c3c\u897f\u4e9a\u8054\u90a6",En:"Micronesia",Code:"+691"},{id:70,Zh:"\u9a6c\u7ecd\u5c14\u7fa4\u5c9b",En:"Marshall",Code:"+692"},{id:71,Zh:"\u5e0c\u814a",En:"Greece",Code:"+30"},{id:72,Zh:"\u8377\u5170",En:"Netherlands",Code:"+31"},{id:73,Zh:"\u6bd4\u5229\u65f6",En:"Belgium",Code:"+32"},{id:74,Zh:"\u6cd5\u56fd",En:"France",Code:"+33"},{id:75,Zh:"\u897f\u73ed\u7259",En:"Spain",Code:"+34"},{id:76,Zh:"\u76f4\u5e03\u7f57\u9640",En:"Gibraltar",Code:"+350"},{id:77,Zh:"\u8461\u8404\u7259",En:"Portugal",Code:"+351"},{id:78,Zh:"\u5362\u68ee\u5821",En:"Luxembourg",Code:"+352"},{id:79,Zh:"\u7231\u5c14\u5170",En:"Ireland",Code:"+353"},{id:80,Zh:"\u51b0\u5c9b",En:"Iceland",Code:"+354"},{id:81,Zh:"\u963f\u5c14\u5df4\u5c3c\u4e9a",En:"Albania",Code:"+355"},{id:82,Zh:"\u9a6c\u8033\u4ed6",En:"Malta",Code:"+356"},{id:83,Zh:"\u585e\u6d66\u8def\u65af",En:"Cyprus",Code:"+357"},{id:84,Zh:"\u82ac\u5170",En:"Finland",Code:"+358"},{id:85,Zh:"\u4fdd\u52a0\u5229\u4e9a",En:"Bulgaria",Code:"+359"},{id:86,Zh:"\u5308\u7259\u5229",En:"Hungary",Code:"+36"},{id:87,Zh:"\u7acb\u9676\u5b9b",En:"Lithuania",Code:"+370"},{id:88,Zh:"\u62c9\u8131\u7ef4\u4e9a",En:"Latvia",Code:"+371"},{id:89,Zh:"\u7231\u6c99\u5c3c\u4e9a",En:"Estonia",Code:"+372"},{id:90,Zh:"\u6469\u5c14\u591a\u74e6",En:"Moldova",Code:"+373"},{id:91,Zh:"\u4e9a\u7f8e\u5c3c\u4e9a",En:"Armenia",Code:"+374"},{id:92,Zh:"\u767d\u4fc4\u7f57\u65af",En:"Belarus",Code:"+375"},{id:93,Zh:"\u5b89\u9053\u5c14",En:"Andorra",Code:"+376"},{id:94,Zh:"\u6469\u7eb3\u54e5",En:"Monaco",Code:"+377"},{id:95,Zh:"\u5723\u9a6c\u529b\u8bfa",En:"San Marino",Code:"+378"},{id:96,Zh:"\u68b5\u8482\u5188",En:"Vatican",Code:"+379"},{id:97,Zh:"\u5357\u65af\u62c9\u592b",En:"Yugoslavia",Code:"+38"},{id:98,Zh:"\u4e4c\u514b\u5170",En:"Ukraine",Code:"+380"},{id:99,Zh:"\u585e\u5c14\u7ef4\u4e9a",En:"Serbia",Code:"+381"},{id:100,Zh:"\u9ed1\u5c71",En:"Montenegro",Code:"+382"},{id:101,Zh:"\u514b\u7f57\u5730\u4e9a",En:"Croatia",Code:"+385"},{id:102,Zh:"\u65af\u6d1b\u6587\u5c3c\u4e9a",En:"Slovenia",Code:"+386"},{id:103,Zh:"\u6ce2\u9ed1",En:"Bosnia and Herzegovina",Code:"+387"},{id:104,Zh:"\u9a6c\u5176\u987f",En:"Macedonia",Code:"+389"},{id:105,Zh:"\u610f\u5927\u5229",En:"Italy",Code:"+39"},{id:106,Zh:"\u7f57\u9a6c\u5c3c\u4e9a",En:"Romania",Code:"+40"},{id:107,Zh:"\u745e\u58eb",En:"Switzerland",Code:"+41"},{id:108,Zh:"\u6377\u514b\u65af\u6d1b\u4f10\u514b",En:"Czechoslovakia",Code:"+42"},{id:109,Zh:"\u6377\u514b\u5171\u548c\u56fd",En:"Czech Republic",Code:"+420"},{id:110,Zh:"\u65af\u6d1b\u4f10\u514b",En:"Slovakia",Code:"+421"},{id:111,Zh:"\u5217\u652f\u6566\u58eb\u767b",En:"Liechtenstein",Code:"+423"},{id:112,Zh:"\u5965\u5730\u5229",En:"Austria",Code:"+43"},{id:113,Zh:"\u82f1\u56fd",En:"United Kingdom",Code:"+44"},{id:114,Zh:"\u4e39\u9ea6",En:"Denmark",Code:"+45"},{id:115,Zh:"\u745e\u5178",En:"Sweden",Code:"+46"},{id:116,Zh:"\u632a\u5a01",En:"Norway",Code:"+47"},{id:117,Zh:"\u6ce2\u5170",En:"Poland",Code:"+48"},{id:118,Zh:"\u5fb7\u56fd",En:"Germany",Code:"+49"},{id:119,Zh:"\u7f8e\u56fd",En:"United States",Code:"+1"},{id:120,Zh:"\u52a0\u62ff\u5927",En:"Canada",Code:"+1"},{id:121,Zh:"\u5b89\u572d\u62c9\u5c9b",En:"Anguilla",Code:"+1264"},{id:122,Zh:"\u5b89\u63d0\u74dc\u548c\u5df4\u5e03\u8fbe",En:"Antigua and Barbuda",Code:"+1268"},{id:123,Zh:"\u5df4\u54c8\u9a6c",En:"Bahamas",Code:"+1242"},{id:124,Zh:"\u5df4\u5df4\u591a\u65af",En:"Barbados",Code:"+1246"},{id:125,Zh:"\u767e\u6155\u5927",En:"Bermuda",Code:"+1441"},{id:126,Zh:"\u82f1\u5c5e\u7ef4\u4eac\u7fa4\u5c9b",En:"British Virgin",Code:"+1284"},{id:127,Zh:"\u5f00\u66fc\u7fa4\u5c9b",En:"Cayman Islands",Code:"+1345"},{id:128,Zh:"\u7f8e\u5c5e\u8428\u6469\u4e9a",En:"American Samoa",Code:"+1684"},{id:129,Zh:"\u591a\u7c73\u5c3c\u514b",En:"Dominica",Code:"+1767"},{id:130,Zh:"\u591a\u7c73\u5c3c\u52a0\u5171\u548c\u56fd",En:"Dominican",Code:"+1809"},{id:131,Zh:"\u683c\u6797\u7eb3\u8fbe",En:"Grenada",Code:"+1473"},{id:132,Zh:"\u7259\u4e70\u52a0",En:"Jamaica",Code:"+1876"},{id:133,Zh:"\u8499\u7279\u585e\u62c9\u7279",En:"Montserrat",Code:"+1664"},{id:134,Zh:"\u6ce2\u591a\u9ece\u5404",En:"Puerto Rico",Code:"+1787"},{id:135,Zh:"\u5723\u57fa\u8328\u548c\u5c3c\u7ef4\u65af",En:"Saint Kitts and Nevis",Code:"+1869"},{id:136,Zh:"\u5723\u5362\u897f\u4e9a",En:"Saint Lucia",Code:"+1758"},{id:137,Zh:"\u5723\u6587\u68ee\u7279\u548c\u683c\u6797\u7eb3\u4e01\u65af",En:"Saint Vincent and Grenadines",Code:"+1784"},{id:138,Zh:"\u7279\u7acb\u5c3c\u8fbe\u548c\u591a\u5df4\u54e5",En:"Trinidad and Tobago",Code:"+1868"},{id:139,Zh:"\u7279\u514b\u65af\u548c\u51ef\u79d1\u65af\u7fa4\u5c9b",En:"Turks and Caicos",Code:"+1649"},{id:140,Zh:"\u7f8e\u5c5e\u7ef4\u4eac\u7fa4\u5c9b",En:"U.S.Virgin Islands",Code:"+1340"},{id:141,Zh:"\u5173\u5c9b",En:"Guam",Code:"+1671"},{id:142,Zh:"\u5317\u9a6c\u91cc\u4e9a\u7eb3\u7fa4\u5c9b",En:"Northern Mariana",Code:"+1670"},{id:143,Zh:"\u798f\u514b\u5170\u7fa4\u5c9b",En:"Falkland Islands",Code:"+500"},{id:144,Zh:"\u4f2f\u5229\u5179",En:"Belize",Code:"+501"},{id:145,Zh:"\u5371\u5730\u9a6c\u62c9",En:"Guatemala",Code:"+502"},{id:146,Zh:"\u8428\u5c14\u74e6\u591a",En:"Salvador",Code:"+503"},{id:147,Zh:"\u6d2a\u90fd\u62c9\u65af",En:"Honduras",Code:"+504"},{id:148,Zh:"\u5c3c\u52a0\u62c9\u74dc",En:"Nicaragua",Code:"+505"},{id:149,Zh:"\u54e5\u65af\u8fbe\u9ece\u52a0",En:"Costa Rica",Code:"+506"},{id:150,Zh:"\u5df4\u62ff\u9a6c",En:"Panama",Code:"+507"},{id:151,Zh:"\u5723\u76ae\u57c3\u5c14\u548c\u5bc6\u514b\u9686\u7fa4\u5c9b",En:"Saint Pierre and Miquelon",Code:"+508"},{id:152,Zh:"\u6d77\u5730",En:"Haiti",Code:"+509"},{id:153,Zh:"\u79d8\u9c81",En:"Peru",Code:"+51"},{id:154,Zh:"\u58a8\u897f\u54e5",En:"Mexico",Code:"+52"},{id:155,Zh:"\u53e4\u5df4",En:"Cuba",Code:"+53"},{id:156,Zh:"\u963f\u6839\u5ef7",En:"Argentina",Code:"+54"},{id:157,Zh:"\u5df4\u897f",En:"Brazil",Code:"+55"},{id:158,Zh:"\u667a\u5229",En:"Chile",Code:"+56"},{id:159,Zh:"\u54e5\u4f26\u6bd4\u4e9a",En:"Colombia",Code:"+57"},{id:160,Zh:"\u59d4\u5185\u745e\u62c9",En:"Venezuela",Code:"+58"},{id:161,Zh:"\u74dc\u5fb7\u7f57\u666e",En:"Guadeloupe",Code:"+590"},{id:162,Zh:"\u73bb\u5229\u7ef4\u4e9a",En:"Bolivia",Code:"+591"},{id:163,Zh:"\u572d\u4e9a\u90a3",En:"Guyana",Code:"+592"},{id:164,Zh:"\u5384\u74dc\u591a\u5c14",En:"Ecuador",Code:"+593"},{id:165,Zh:"\u6cd5\u5c5e\u572d\u4e9a\u90a3",En:"French Guiana",Code:"+594"},{id:166,Zh:"\u5df4\u62c9\u572d",En:"Paraguay",Code:"+595"},{id:167,Zh:"\u9a6c\u63d0\u5c3c\u514b",En:"Martinique",Code:"+596"},{id:168,Zh:"\u82cf\u91cc\u5357",En:"Suriname",Code:"+597"},{id:169,Zh:"\u4e4c\u62c9\u572d",En:"Uruguay",Code:"+598"},{id:170,Zh:"\u8377\u5c5e\u5b89\u7684\u5217\u65af",En:"Netherlands Antilles",Code:"+599"},{id:171,Zh:"\u8377\u5c5e\u5723\u9a6c\u4e01",En:"Sint Maarten",Code:"+599"},{id:172,Zh:"\u5e93\u62c9\u7d22",En:"Curacao",Code:"+5999"},{id:173,Zh:"\u57c3\u53ca",En:"Egypt",Code:"+20"},{id:174,Zh:"\u5357\u82cf\u4e39",En:"South Sudan",Code:"+211"},{id:175,Zh:"\u6469\u6d1b\u54e5",En:"Morocco",Code:"+212"},{id:176,Zh:"\u963f\u5c14\u53ca\u5229\u4e9a",En:"Algeria",Code:"+213"},{id:177,Zh:"\u7a81\u5c3c\u65af",En:"Tunisia",Code:"+216"},{id:178,Zh:"\u5229\u6bd4\u4e9a",En:"Libya",Code:"+218"},{id:179,Zh:"\u5188\u6bd4\u4e9a",En:"Gambia",Code:"+220"},{id:180,Zh:"\u585e\u5185\u52a0\u5c14",En:"Senegal",Code:"+221"},{id:181,Zh:"\u6bdb\u91cc\u5854\u5c3c\u4e9a",En:"Mauritania",Code:"+222"},{id:182,Zh:"\u9a6c\u91cc",En:"Mali",Code:"+223"},{id:183,Zh:"\u51e0\u5185\u4e9a",En:"Guinea",Code:"+224"},{id:184,Zh:"\u79d1\u7279\u8fea\u74e6",En:"Cote d'Ivoire",Code:"+225"},{id:185,Zh:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",En:"Burkina Faso",Code:"+226"},{id:186,Zh:"\u5c3c\u65e5\u5c14",En:"Niger",Code:"+227"},{id:187,Zh:"\u591a\u54e5",En:"Togo",Code:"+228"},{id:188,Zh:"\u8d1d\u5b81",En:"Benin",Code:"+229"},{id:189,Zh:"\u6bdb\u91cc\u6c42\u65af",En:"Mauritius",Code:"+230"},{id:190,Zh:"\u5229\u6bd4\u91cc\u4e9a",En:"Liberia",Code:"+231"},{id:191,Zh:"\u585e\u62c9\u5229\u6602",En:"Sierra Leone",Code:"+232"},{id:192,Zh:"\u52a0\u7eb3",En:"Ghana",Code:"+233"},{id:193,Zh:"\u5c3c\u65e5\u5229\u4e9a",En:"Nigeria",Code:"+234"},{id:194,Zh:"\u4e4d\u5f97",En:"Chad",Code:"+235"},{id:195,Zh:"\u4e2d\u975e\u5171\u548c\u56fd",En:"Central African",Code:"+236"},{id:196,Zh:"\u5580\u9ea6\u9686",En:"Cameroon",Code:"+237"},{id:197,Zh:"\u4f5b\u5f97\u89d2",En:"Cape Verde",Code:"+238"},{id:198,Zh:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",En:"Sao Tome and Principe",Code:"+239"},{id:199,Zh:"\u8d64\u9053\u51e0\u5185\u4e9a",En:"Equatorial Guinea",Code:"+240"},{id:200,Zh:"\u52a0\u84ec",En:"Gabon",Code:"+241"},{id:201,Zh:"\u521a\u679c\u5171\u548c\u56fd\uff08\u5e03\uff09",En:"Republic of Congo",Code:"+242"},{id:202,Zh:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd\uff08\u91d1\uff09",En:"Democratic Republic of the Congo",Code:"+243"},{id:203,Zh:"\u5b89\u54e5\u62c9",En:"Angola",Code:"+244"},{id:204,Zh:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",En:"Guinea-Bissau",Code:"+245"},{id:205,Zh:"\u8fea\u6208\u52a0\u897f\u4e9a\u5c9b",En:"Diego Garcia",Code:"+246"},{id:206,Zh:"\u963f\u68ee\u677e\u5c9b",En:"Ascension Island",Code:"+247"},{id:207,Zh:"\u585e\u820c\u5c14",En:"Seychelles",Code:"+248"},{id:208,Zh:"\u82cf\u4e39",En:"Sudan",Code:"+249"},{id:209,Zh:"\u5362\u65fa\u8fbe",En:"Rwanda",Code:"+250"},{id:210,Zh:"\u57c3\u585e\u4fc4\u6bd4\u4e9a",En:"Ethiopia",Code:"+251"},{id:211,Zh:"\u7d22\u9a6c\u91cc",En:"Somalia",Code:"+252"},{id:212,Zh:"\u5409\u5e03\u63d0",En:"Djibouti",Code:"+253"},{id:213,Zh:"\u80af\u5c3c\u4e9a",En:"Kenya",Code:"+254"},{id:214,Zh:"\u5766\u6851\u5c3c\u4e9a",En:"Tanzania",Code:"+255"},{id:215,Zh:"\u4e4c\u5e72\u8fbe",En:"Uganda",Code:"+256"},{id:216,Zh:"\u5e03\u9686\u8fea",En:"Burundi",Code:"+257"},{id:217,Zh:"\u83ab\u6851\u6bd4\u514b",En:"Mozambique",Code:"+258"},{id:218,Zh:"\u6851\u7ed9\u5df4\u5c14",En:"Zanzibar",Code:"+259"},{id:219,Zh:"\u8d5e\u6bd4\u4e9a",En:"Zambia",Code:"+260"},{id:220,Zh:"\u9a6c\u8fbe\u52a0\u65af\u52a0",En:"Madagascar",Code:"+261"},{id:221,Zh:"\u7559\u5c3c\u6c6a",En:"Reunion",Code:"+262"},{id:222,Zh:"\u6d25\u5df4\u5e03\u97e6",En:"Zimbabwe",Code:"+263"},{id:223,Zh:"\u7eb3\u7c73\u6bd4\u4e9a",En:"Namibia",Code:"+264"},{id:224,Zh:"\u9a6c\u62c9\u7ef4",En:"Malawi",Code:"+265"},{id:225,Zh:"\u83b1\u7d22\u6258",En:"Lesotho",Code:"+266"},{id:226,Zh:"\u535a\u8328\u74e6\u7eb3",En:"Botswana",Code:"+267"},{id:227,Zh:"\u65af\u5a01\u58eb\u5170",En:"Swaziland",Code:"+268"},{id:228,Zh:"\u79d1\u6469\u7f57\u548c\u9a6c\u7ea6\u7279",En:"Comoros and Mayotte",Code:"+269"},{id:229,Zh:"\u5357\u975e",En:"South Africa",Code:"+27"},{id:230,Zh:"\u5723\u8d6b\u52d2\u62ff",En:"St. Helena",Code:"+290"},{id:231,Zh:"\u5384\u7acb\u7279\u91cc\u4e9a",En:"Eritrea ",Code:"+291"},{id:232,Zh:"\u963f\u9c81\u5df4",En:"Aruba ",Code:"+297"},{id:233,Zh:"\u6cd5\u7f57\u7fa4\u5c9b",En:"Faroe Islands",Code:"+298"},{id:234,Zh:"\u683c\u9675\u5170",En:"Greenland ",Code:"+299"}],cc._RF.pop()},{}],AreaCodeItem:[function(e,t,n){"use strict";cc._RF.push(t,"3e5c58CAYlN9b4truMS1FTv","AreaCodeItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../manager/Manager"),r=i(e("./ScroViewBaseItem")),{ccclass:s,property:c}=cc._decorator;let l=class extends r.default{constructor(){super(...arguments),this.nameLabel=null,this.codeLabel=null}onLoad(){this.node.on(cc.Node.EventType.TOUCH_END,()=>{dispatch("AreaCodeInfo",this._data)},this)}updateItem(e,t){super.updateItem(e,t),this.nameLabel.string=e.En,a.Manager.language.getLanguage()==cc.sys.LANGUAGE_CHINESE&&(this.nameLabel.string=e.Zh),this.codeLabel.string=e.Code}};o([c(cc.Label)],l.prototype,"nameLabel",void 0),o([c(cc.Label)],l.prototype,"codeLabel",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../manager/Manager":"Manager","./ScroViewBaseItem":"ScroViewBaseItem"}],AreaCodeList:[function(e,t,n){"use strict";cc._RF.push(t,"8a807gEWPZFFrM5CQE9vCgv","AreaCodeList");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("./AreaCodeConfig"),r=i(e("./ScroViewLogic")),{ccclass:s,property:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.bg=null}onLoad(){this.node.on(cc.Node.EventType.TOUCH_END,()=>{this.hide()},this)}show(){this.node.active=!0}hide(){this.node.active=!1}start(){a.AreaCodeConfig.Config&&this.getComponent(r.default).initUI(a.AreaCodeConfig.Config)}};o([c(cc.Node)],l.prototype,"bg",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"./AreaCodeConfig":"AreaCodeConfig","./ScroViewLogic":"ScroViewLogic"}],AreaCode:[function(e,t,n){"use strict";cc._RF.push(t,"058c7gNvLJD5qviFLI3xHQE","AreaCode");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.label=null,this.parentNode=null,this.ListPrefab=null}onLoad(){super.onLoad(),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)}bindingEvents(){super.bindingEvents(),this.registerEvent("AreaCodeInfo",e=>{e&&(this.label.string=e.Code)})}start(){}onTouchEnd(){this.ListPrefab&&(cc.instantiate(this.ListPrefab).parent=this.parentNode)}};o([s(cc.Label)],c.prototype,"label",void 0),o([s(cc.Node)],c.prototype,"parentNode",void 0),o([s(cc.Prefab)],c.prototype,"ListPrefab",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../../framework/ui/UIView":"UIView"}],AreasItem:[function(e,t,n){"use strict";cc._RF.push(t,"e0668hISX1IKb0nVNxA0bhf","AreasItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../common/manager/Manager"),a=e("../framework/base/Defines"),{ccclass:r,property:s}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.areaName=null,this._itemId=0,this._itemClickCallback=null}onLoad(){}updateItem(e,t,n){this._itemId=t,this._itemClickCallback=n,this.areaName.string=e}onItemClick(e,t){i.Manager.globalAudio.playEffect("common/audio/click",a.BUNDLE_RESOURCES),this._itemClickCallback&&this._itemClickCallback(e.target,this._itemId)}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([s(cc.Label)],c.prototype,"areaName",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../common/manager/Manager":"Manager","../framework/base/Defines":"Defines"}],AssetManager:[function(e,t,n){"use strict";cc._RF.push(t,"b4fc1D2m55E+a6Fji/1Ky71","AssetManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.AssetManager=void 0;const o=e("../base/Defines"),i=e("../net/HttpClient"),a=e("../Framework");class r{constructor(){this._logTag="[RemoteLoader] ",this._maxConcurrentTask=5,this._currentTaskCount=0,this._taskQueue=[]}static Instance(){return this._instance||(this._instance=new r)}set maxConcurrentTask(e){this._maxConcurrentTask=e}get maxConcurrentTask(){return this._maxConcurrentTask}loadImage(e,t){let n=this;return new Promise(o=>{if(null==e||null==e||e.length<=0)return void o(null);let i=parseRemoteUrl(e),r=a.Manager.cacheManager.remoteCaches.getSpriteFrame(i);r&&r.data?o(r.data):n._loadRemoteRes(e,cc.Texture2D,"cache_png",t).then(t=>{let n=parseRemoteUrl(e),i=a.Manager.cacheManager.remoteCaches.get(n);if(t&&i){i.data=t,i.data.name=n.url;let e=a.Manager.cacheManager.remoteCaches.setSpriteFrame(n,i.data);o(e)}else o(null)})})}loadSkeleton(e,t,n){let i=this;return new Promise(r=>{if(e&&t){let s=`${e}/${t}`,c=`${e}/${t}.atlas`,l=`${e}/${t}.png`,d=`${e}/${t}.json`,h=parseRemoteUrl(s),u=a.Manager.cacheManager.remoteCaches.get(h);u?u.isLoaded?r(u.data):u.finishCb.push(r):((u=new o.ResourceCacheData).resourceType=o.ResourceType.Remote,u.assetType=sp.SkeletonData,u.bundle=o.BUNDLE_REMOTE,a.Manager.cacheManager.remoteCaches.set(h,u),i._loadRemoteRes(l,cc.Texture2D,"cache_png",n).then(e=>{e?i._loadRemoteRes(d,cc.JsonAsset,"cache_json",n).then(o=>{o?i._loadRemoteRes(c,cc.JsonAsset,"cache_atlas",n).then(n=>{if(n){let i=new sp.SkeletonData;i.skeletonJson=o,i.atlasText=n,i.textures=[e];let a=t+".png";i.textureNames=[a],u.url=s,i.name=u.url,i.url=u.url,u.data=i,u.isLoaded=!0,r(u.data),u.doFinish(u.data)}else r(null),u.doFinish(null),a.Manager.cacheManager.remoteCaches.remove(h)}):(r(null),u.doFinish(null),a.Manager.cacheManager.remoteCaches.remove(h))}):(r(null),u.doFinish(null),a.Manager.cacheManager.remoteCaches.remove(h))}))}else r(null)})}_loadLocalRes(e,t){let n=parseRemoteUrl(e),o=a.Manager.cacheManager.remoteCaches.get(n);o?cc.assetManager.loadRemote(t,(e,t)=>{o&&(o.isLoaded=!0,t?(o.data=t,o.doJsbFinish(t)):o.doJsbFinish(null),o.doFinish(t))}):cc.error(`\u627e\u4e0d\u5230\u672c\u5730\u7f13\u5b58 requestURL : ${e} storagePath : ${t}`)}_loadRemoteRes(e,t,n,i){return new Promise(r=>{let s=parseRemoteUrl(e),c=a.Manager.cacheManager.remoteCaches.get(s);c?c.isLoaded?r(c.data):c.finishCb.push(r):((c=new o.ResourceCacheData).resourceType=o.ResourceType.Remote,c.assetType=t,a.Manager.cacheManager.remoteCaches.set(s,c),i&&a.Manager.dataBase.isSupport()?a.Manager.dataBase.get(n,s.url).then(e=>{e?this._loadH5DatabaseData(c,n,r,e):this._loadH5RemoteData(c,n,s,r,i,!0)}):this._loadH5RemoteData(c,n,s,r,i,!1))})}_loadH5RemoteData(e,t,n,o,r,s){let c=new i.RequestPackge;c.data.url=n.url,c.data.isAutoAttachCurrentTime=!r,"cache_png"==t&&(c.data.responseType="blob"),c.send(n=>{r&&s&&a.Manager.dataBase.put(t,{key:c.data.url,data:n}),this._loadH5DatabaseData(e,t,o,n)},()=>{o(null),e.doFinish(null),a.Manager.cacheManager.remoteCaches.remove(n)})}_loadH5DatabaseData(e,t,n,o){if("cache_png"==t){let t=URL.createObjectURL(o),i=new Image;i.src=t,i.addEventListener("load",()=>{let o=new cc.Texture2D;o.initWithElement(i),e.isLoaded=!0,e.data=o,n(e.data),e.doFinish(e.data),URL.revokeObjectURL(t)})}else if("cache_json"==t){let t=JSON.parse(o);e.isLoaded=!0,e.data=t,n(e.data),e.doFinish(e.data)}else"cache_atlas"==t&&(e.isLoaded=!0,e.data=o,n(e.data),e.doFinish(e.data))}update(){}onLoadSuccess(e){this._currentTaskCount--,this._loadLocalRes(e.requestURL,e.storagePath)}onLoadError(e,t,n,o){this._currentTaskCount--;let i=parseRemoteUrl(e.requestURL),r=a.Manager.cacheManager.remoteCaches.get(i);r.isLoaded=!0,r.data=null,r.doJsbFinish(null),r.doFinish(null),a.Manager.cacheManager.remoteCaches.remove(i)}pushTask(e,t){for(let n=0;n<this._taskQueue.length;n++)if(this._taskQueue[n].url==e)return;this._taskQueue.push({url:e,path:t})}}r._instance=null;class s{constructor(){this.logTag="[AssetManager]: ",this._remote=new r}static Instance(){return this._instance||(this._instance=new s)}get remote(){return this._remote}getBundle(e){return e?"string"==typeof e?cc.assetManager.getBundle(e):e:null}load(e,t,n,i,r){let s=a.Manager.cacheManager.get(e,t);if(s)s.isLoaded?r(s):s.finishCb.push(r),s.status=o.ResourceCacheStatus.NONE;else{(s=new o.ResourceCacheData).url=t,s.assetType=n,s.bundle=e,a.Manager.cacheManager.set(e,t,s),console.time(`\u52a0\u8f7d\u8d44\u6e90 : ${s.url}`);let c=this.getBundle(e);if(!c){let t=new Error(`${this.logTag} ${e} \u6ca1\u6709\u52a0\u8f7d\uff0c\u8bf7\u5148\u52a0\u8f7d`);return void this._onLoadComplete(s,r,t,null)}let l=c.get(t,n);l?this._onLoadComplete(s,r,null,l):i?c.load(t,n,i,this._onLoadComplete.bind(this,s,r)):c.load(t,n,this._onLoadComplete.bind(this,s,r))}}_onLoadComplete(e,t,n,i){e.isLoaded=!0;let r=e;if(n?(cc.error(`${this.logTag}\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25:${e.url} \u539f\u56e0:${n.message?n.message:"\u672a\u77e5"}`),e.data=null,r.data=null,a.Manager.cacheManager.remove(e.bundle,e.url),t(e)):(e.data=i,r.data=i,t(e)),e.doFinish(r),e.doGet(r.data),e.status==o.ResourceCacheStatus.WAITTING_FOR_RELEASE&&e.data){e.status=o.ResourceCacheStatus.NONE;let t=new o.ResourceInfo;t.url=e.url,t.type=e.assetType,t.data=e.data,t.bundle=e.bundle,this.releaseAsset(t)}console.timeEnd(`\u52a0\u8f7d\u8d44\u6e90 : ${e.url}`)}releaseAsset(e){if(e&&e.bundle){a.Manager.cacheManager.remove(e.bundle,e.url);let t=this.getBundle(e.bundle);t&&(e&&e.data&&e.data.decRef(),t.release(e.url,e.type))}}}n.AssetManager=s,s._instance=null,cc._RF.pop()},{"../Framework":"Framework","../base/Defines":"Defines","../net/HttpClient":"HttpClient"}],AttractNewView:[function(e,t,n){"use strict";cc._RF.push(t,"02bccwn/tlOfYZQBAcGLTBc","AttractNewView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/LobbyService"),c=e("../framework/base/Defines"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=i(e("../msgbox/PanelHelp")),u=i(e("./CreateAccountView")),p=e("../framework/external/protoc"),g=i(e("../data/UserData")),m=i(e("../common/utils/NumberUtils")),f=i(e("../data/RechargeData")),b=i(e("../common/bindItemView/BindPhoneView")),{ccclass:y,property:_}=cc._decorator;let v=class extends d.default{constructor(){super(...arguments),this.noWithdrawal=null,this.bandInfoNode=null,this.labGold=null,this.labTelephone=null,this.labEmail=null,this.DocNode=null,this.btnWithdrawal=null,this.rpEditBox=null,this.codeEditBox=null,this.m_codeStr="",this.m_attractStr="",this.canAttract=!1,this._2d_sprite_mat="2d-sprite",this._2d_gray_mat="2d-gray-sprite",this._userData=null,this._rechargeData=null}static getPrefabUrl(){return"wallet/prefabes/AttractNewView"}onLoad(){super.onLoad(),this.bindEvents()}initData(){this._userData=G.DataMgr.get(g.default),this._rechargeData=G.DataMgr.get(f.default)}bindEvents(){this.rpEditBox.node.on("editing-did-began",this.onDidBegan,this),this.rpEditBox.node.on("editing-did-ended",this.onDidEnded,this),this.rpEditBox.node.on("editing-return",this.onDidEnded,this),this.rpEditBox.node.on("text-changed",this.onTextChanged,this),this.codeEditBox.node.on("editing-did-began",this.onCodeBegan,this),this.codeEditBox.node.on("editing-did-ended",this.onCodeEnded,this),this.codeEditBox.node.on("editing-return",this.onCodeEnded,this),this.codeEditBox.node.on("text-changed",this.onCodeChanged,this)}bindingEvents(){super.bindingEvents(),this.registerEvent("L2C_Withdraw_Res",this.onL2C_Withdraw_Res),this.registerEvent("L2C_GetBankCardInfo_Res",this.onL2C_GetBankCardInfo_Res),this.registerEvent("Event_M2C_GoldChange_Mes",this.refreshUser),this.registerEvent("Event_L2C_BindBankCard_Res",this.requestBankInfo),this.registerEvent("Event_S2C_BindPhone",this.onEvent_S2C_BindPhone),this.registerEvent("Event_S2C_GetCheckCode",this.onEvent_S2C_GetCheckCode)}show(){this.initData(),this.initView(),this.requestBankInfo(),this.requestGetBankList(),this.refreshUser(),this.refreshPhoneNo(),this.refreshEmail()}initView(){this.btnWithdrawal.getComponent(cc.Button).enabled=!1;let e=cc.Material.getBuiltinMaterial(this._2d_gray_mat);this.btnWithdrawal.getComponent(cc.Sprite).setMaterial(0,e);let t=this._rechargeData;if(!t.minWithAmount||!t.maxWithAmount)return;let n=t.minWithAmount,o=t.maxWithAmount;this.rpEditBox.placeholder=`jarak:Rp${n}-${o}`}requestGetBankList(){let e=p.MST.C2L_GetBankList_Req.create({RpcId:r.Manager.netManager.getNewSeqId(),index:0,limit:6}),t=p.MST.C2L_GetBankList_Req.encode(e).finish();s.LobbyService.instance.sendMsg(p.MST.C2L_GetBankList_Req,p.MST.OuterOpcode_Lobby.C2L_GetBankList_Req,t)}requestBankInfo(){let e=p.MST.C2L_GetBankCardInfo_Req.create({RpcId:r.Manager.netManager.getNewSeqId()}),t=p.MST.C2L_GetBankCardInfo_Req.encode(e).finish();s.LobbyService.instance.sendMsg(p.MST.C2L_GetBankCardInfo_Req,p.MST.OuterOpcode_Lobby.C2L_GetBankCardInfo_Req,t)}onEvent_S2C_BindPhone(){this.refreshPhoneNo()}refreshPhoneNo(){let e=this._userData.BindPhone;e&&(this.labTelephone.string=e)}refreshEmail(){let e=this._userData.email;e&&(this.labEmail.string=e)}onClick(e,t){switch(e){case"btnClose":this.close();case"btnCloseDoc":this.DocNode.active=!1;break;case"btnArrange":case"btnChange":r.Manager.uiManager.open({type:u.default,bundle:c.BUNDLE_RESOURCES});break;case"btnUpdateTel":r.Manager.uiManager.open({type:b.default,bundle:c.BUNDLE_RESOURCES});break;case"btnWithdrawal":this.withdrawHanlder();break;case"btnGetCode":this.clickGetCode();break;case"labNumberOfOpen":this.DocNode.active=!0}}clickGetCode(){this._userData.email?this.requestGetCheckCode():h.default.showTip(a.i18n.TIPS.NOTBINDEMAIL)}onEvent_S2C_GetCheckCode(){h.default.showTip(a.i18n.REGISTER.PLEASECHECK)}onCodeBegan(e){this.codeEditBox.string=this.m_codeStr}onCodeEnded(e){this.m_codeStr.length<=0||(this.codeEditBox.string=this.m_codeStr)}onCodeChanged(e){this.m_codeStr=e.string}requestGetCheckCode(){let e=this._userData.email,t=p.MST.C2S_GetCheckCode.create({serial:r.Manager.netManager.getNewSeqId(),username:e}),n=p.MST.C2S_GetCheckCode.encode(t).finish();s.LobbyService.instance.sendMsg(p.MST.C2S_GetCheckCode,p.MST.OuterOpcode_Lobby.C2S_GetCheckCode,n)}withdrawHanlder(){if(this.canAttract){let e=this._rechargeData.bandBankCardInfo;if(!e)return;let t=Number(this.m_attractStr),n=e.bankNo,o=e.bankCode,i=e.bankUserName,a=100*t,c=p.MST.C2L_Withdraw_Req.create({RpcId:r.Manager.netManager.getNewSeqId(),chips:a,bankNo:n,bankCode:o,name:i}),l=p.MST.C2L_Withdraw_Req.encode(c).finish();s.LobbyService.instance.sendMsg(p.MST.C2L_Withdraw_Req,p.MST.OuterOpcode_Lobby.C2L_Withdraw_Req,l)}}onL2C_Withdraw_Res(){h.default.showTip(a.i18n.TIPS.RECHARGESUCCESS)}refreshUser(){this._userData.isLogined()&&(this.labGold.string=m.default.converToC(Number(this._userData.info.Gold)))}onL2C_GetBankCardInfo_Res(){let e=G.DataMgr.get(f.default).bandBankCardInfo;this.bandInfoNode.active=!1,this.noWithdrawal.active=!1,e?(this.bandInfoNode.active=!0,this.refreshBandInfo()):this.noWithdrawal.active=!0}refreshBandInfo(){let e=G.DataMgr.get(f.default).bandBankCardInfo,t=this.bandInfoNode,n=t.getChildByName("bankNo"),o=t.getChildByName("bankCode");n.getComponent(cc.Label).string=e.bankNo,o.getComponent(cc.Label).string=e.bankCode}onDidBegan(e){this.rpEditBox.string=this.m_attractStr}onDidEnded(e){this.m_attractStr.length<=0||(this.rpEditBox.string=this.m_attractStr,this.checkIsAttract())}checkIsAttract(){let e=G.DataMgr.get(f.default);if(!e.minWithAmount||!e.maxWithAmount)return;let t=e.minWithAmount,n=e.maxWithAmount,o=Number(this.m_attractStr);if(o&&o>=t&&o<=n){this.btnWithdrawal.getComponent(cc.Button).enabled=!0;let e=cc.Material.getBuiltinMaterial(this._2d_sprite_mat);this.btnWithdrawal.getComponent(cc.Sprite).setMaterial(0,e),this.canAttract=!0}}onTextChanged(e){this.m_attractStr=e.string}onDestroy(){super.onDestroy()}};o([_(cc.Node)],v.prototype,"noWithdrawal",void 0),o([_(cc.Node)],v.prototype,"bandInfoNode",void 0),o([_(cc.Label)],v.prototype,"labGold",void 0),o([_(cc.Label)],v.prototype,"labTelephone",void 0),o([_(cc.Label)],v.prototype,"labEmail",void 0),o([_(cc.Node)],v.prototype,"DocNode",void 0),o([_(cc.Node)],v.prototype,"btnWithdrawal",void 0),o([_(cc.EditBox)],v.prototype,"rpEditBox",void 0),o([_(cc.EditBox)],v.prototype,"codeEditBox",void 0),v=o([y,l.injectService(s.LobbyService.instance)],v),n.default=v,cc._RF.pop()},{"../common/bindItemView/BindPhoneView":"BindPhoneView","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../common/utils/NumberUtils":"NumberUtils","../data/RechargeData":"RechargeData","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./CreateAccountView":"CreateAccountView"}],AttractRecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"704d3yTVDtDka5/Gd1ffi2B","AttractRecordItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=e("../framework/base/Defines"),s=e("../framework/decorator/Decorators"),c=e("../framework/event/EventApi"),l=i(e("../framework/ui/UIView")),{ccclass:d,property:h}=cc._decorator;let u=class extends l.default{constructor(){super(...arguments),this.labDate=null,this.labBankCode=null,this.labBankNum=null,this.labAmount=null,this._data=null}onLoad(){super.onLoad(),this.initData(),this.initView()}start(){}initData(){this._data=null}initView(){this.labDate.string="",this.labAmount.string="",this.labBankCode.string="",this.labBankNum.string=""}bindingEvents(){super.bindingEvents(),r.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(c.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(){}onShow(e){this.onLanguageChange(),this._data=e,this.labDate.string=new Date(Number(e.withdrawTime)).format("yyyy/MM:dd hh:mm"),this.labBankCode.string=e.bankCode,this.labBankNum.string=e.backNo,this.labAmount.string=`+${e.amount}`}reset(){this.initData(),this.initView()}};o([h(cc.Label)],u.prototype,"labDate",void 0),o([h(cc.Label)],u.prototype,"labBankCode",void 0),o([h(cc.Label)],u.prototype,"labBankNum",void 0),o([h(cc.Label)],u.prototype,"labAmount",void 0),u=o([d,s.injectService(a.LobbyService.instance)],u),n.default=u,cc._RF.pop()},{"../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/ui/UIView":"UIView"}],AttractRecordView:[function(e,t,n){"use strict";cc._RF.push(t,"72fa8J1mAhLFob2IyE5ejTO","AttractRecordView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ListView")),r=i(e("../common/item/NoneItem")),s=e("../common/manager/Manager"),c=e("../common/net/LobbyService"),l=i(e("../common/utils/TypeUtils")),d=i(e("../data/AppData")),h=e("../framework/base/Defines"),u=e("../framework/decorator/Decorators"),p=e("../framework/event/EventApi"),g=e("../framework/external/protoc"),m=i(e("../framework/ui/UIView")),f=i(e("../msgbox/PanelHelp")),{ccclass:b,property:y}=cc._decorator;let _=class extends m.default{constructor(){super(...arguments),this.labDate=null,this.labBankCode=null,this.labAmount=null,this.lsvRecord=null,this.titleItem=null,this.noneItem=null,this._appData=null,this._isLastPage=!1,this._dataList=null,this.currentIndexPage=0}static getPrefabUrl(){return"wallet/prefabes/AttractRecordView"}onLoad(){super.onLoad(),this.initData(),this.initView(),this.C2S_MyRecord()}start(){}show(e){super.show(e),this.onLanguageChange()}initData(){this._appData=G.DataMgr.get(d.default),this._isLastPage=!1,this._dataList=[]}initView(){}bindingEvents(){super.bindingEvents(),h.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(p.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("Event_L2C_WithdrawRecord",this.onEvent_L2C_WithdrawRecord)}onLanguageChange(){}getLastRecordId(){return this.currentIndexPage+10}C2S_MyRecord(e){l.default.isNull(e)&&(e=0);let t={RpcId:s.Manager.netManager.getNewSeqId(),index:e,limit:10};console.log("C2S_MyRecord ->index :"+e);let n=g.MST.C2L_GetWithdrawReocrds_Req.create(t),o=g.MST.C2L_GetWithdrawReocrds_Req.encode(n).finish();this.service.sendMsg(g.MST.C2L_GetWithdrawReocrds_Req,g.MST.OuterOpcode_Lobby.C2L_GetWithdrawReocrds_Req,o)}onEvent_L2C_WithdrawRecord(e){0===e.Error?(this.currentIndexPage=e.index,e.records.length<=0?(this.noneItem.node.active=!0,this.lsvRecord.node.active=!1):(this.noneItem.node.active=!1,this.lsvRecord.node.active=!0),this._isLastPage=e.records.length<10,this._dataList=this._dataList.concat(e.records),this.lsvRecord.insert(e.records)):f.default.showErrTip(e.Error)}onClick(e,t,n){switch(e){case"btnClose":this.close()}}onPullTop(e){this.C2S_MyRecord(0)}onPullBottom(e){this._isLastPage?G.Logger.log("Crash \u6d4f\u89c8\u4e2a\u4eba\u5386\u53f2\u8bb0\u5f55 \u5df2\u662f\u6700\u540e\u4e00\u9875 \u65e0\u9700\u8bf7\u6c42\u7ffb\u9875"):this.C2S_MyRecord(this.getLastRecordId())}};o([y(cc.Label)],_.prototype,"labDate",void 0),o([y(cc.Label)],_.prototype,"labBankCode",void 0),o([y(cc.Label)],_.prototype,"labAmount",void 0),o([y(a.default)],_.prototype,"lsvRecord",void 0),o([y(cc.Node)],_.prototype,"titleItem",void 0),o([y(r.default)],_.prototype,"noneItem",void 0),_=o([b,u.injectService(c.LobbyService.instance)],_),n.default=_,cc._RF.pop()},{"../common/component/ListView":"ListView","../common/item/NoneItem":"NoneItem","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../common/utils/TypeUtils":"TypeUtils","../data/AppData":"AppData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],AudioComponent:[function(e,t,n){"use strict";cc._RF.push(t,"6451cIgDeNA9o01kVKFNVnI","AudioComponent");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./Defines"),a=e("../Framework"),{ccclass:r,property:s,menu:c}=cc._decorator;class l{constructor(){this.musicVolume=100,this.effectVolume=100,this.isEffectOn=!0,this.isMusicOn=!0,this.curMusicUrl="",this.curEffectId=-1,this.curBundle=null,this._storeMusicKey="default_save_music",this._storeEffectKey="default_save_effect",this._storeMusicVolumeKey="default_save_music_volume_key",this._storeEffectVolumeKey="default_save_effect_volume_key"}static get instance(){return null==this._instance&&(this._instance=new l,this._instance.init()),this._instance}init(){this.isMusicOn=a.Manager.localStorage.getItem(this._storeMusicKey,this.isMusicOn),this.isEffectOn=a.Manager.localStorage.getItem(this._storeEffectKey,this.isEffectOn),this.musicVolume=a.Manager.localStorage.getItem(this._storeMusicVolumeKey,this.musicVolume),this.effectVolume=a.Manager.localStorage.getItem(this._storeEffectVolumeKey,this.effectVolume)}save(){try{a.Manager.localStorage.setItem(this._storeMusicKey,this.isMusicOn),a.Manager.localStorage.setItem(this._storeMusicVolumeKey,this.musicVolume),a.Manager.localStorage.setItem(this._storeEffectKey,this.isEffectOn),a.Manager.localStorage.setItem(this._storeEffectVolumeKey,this.effectVolume)}catch(e){}}}l._instance=null;let d=class extends cc.Component{constructor(){super(...arguments),this.audioData=l.instance,this.owner=null,this.effectMap=new Map}get musicVolume(){return this.audioData.musicVolume}set musicVolume(e){let t=e/100;cc.audioEngine.setMusicVolume(t),e<=0&&this.stopMusic(),this.audioData.musicVolume=e}get effectVolume(){return this.audioData.effectVolume}set effectVolume(e){let t=e/100;cc.audioEngine.setEffectsVolume(t),e<=0&&this.stopEffect(),this.audioData.effectVolume=e}get isEffectOn(){return this.audioData.isEffectOn}set isEffectOn(e){this.audioData.isEffectOn=e,this.save(),e||this.stopEffect()}get isMusicOn(){return this.audioData.isMusicOn}setMusicEnabled(e,t=!0){if(this.audioData.isMusicOn=e,this.save(),this.audioData.isMusicOn){if(!this.curMusicUrl)return;t&&this.playMusic(this.curMusicUrl,this.curBundle,!0)}else this.stopMusic()}get curMusicUrl(){return this.audioData.curMusicUrl}set curMusicUrl(e){this.audioData.curMusicUrl=e}get curBundle(){return this.audioData.curBundle}set curBundle(e){this.audioData.curBundle=e}save(){this.audioData.save()}stopEffect(e=null){if(null==e){if(this.audioData.curEffectId<0)return;cc.audioEngine.stopEffect(this.audioData.curEffectId),this.audioData.curEffectId=-1}else cc.audioEngine.stopEffect(e)}stopEffectByPath(e){let t=this.effectMap.get(e);null!=t&&(this.stopEffect(t),this.effectMap.delete(e))}stopAllEffects(){this.effectMap.clear(),cc.audioEngine.stopAllEffects()}stopMusic(){cc.audioEngine.stopMusic()}playMusic(e,t,n=!0,o=!1){return new Promise(r=>{this.audioData.curMusicUrl=e,this.audioData.curBundle=t,this.audioData.isMusicOn&&a.Manager.cacheManager.getCacheByAsync(e,cc.AudioClip,t).then(s=>{if(s&&this.owner){let c=new i.ResourceInfo;c.url=e,c.type=cc.AudioClip,c.data=s,c.bundle=t,o||(this.owner?a.Manager.uiManager.addLocal(c,this.owner.className):a.Manager.uiManager.garbage.addLocal(c)),this.stopMusic(),cc.audioEngine.playMusic(s,n),r({url:e,isSuccess:!0})}else r({url:e,isSuccess:!1})})})}playEffect(e,t,n=!1){return new Promise(o=>{this.audioData.isEffectOn?a.Manager.cacheManager.getCacheByAsync(e,cc.AudioClip,t).then(r=>{if(this.audioData){if(r){let o=new i.ResourceInfo;o.url=e,o.type=cc.AudioClip,o.data=r,o.bundle=t,this.owner?a.Manager.uiManager.addLocal(o,this.owner.className):a.Manager.uiManager.garbage.addLocal(o),this.audioData.curEffectId=cc.audioEngine.playEffect(r,n)}this.effectMap.set(e,this.audioData.curEffectId),o(this.audioData.curEffectId)}}):(this.audioData.curEffectId=-1,o(-1))})}onEnterBackground(){cc.audioEngine.pauseMusic(),cc.audioEngine.pauseAllEffects()}onEnterForgeground(e){cc.audioEngine.resumeMusic(),cc.audioEngine.resumeAllEffects()}};d=o([r,c("framework/base/AudioComponent")],d),n.default=d,cc._RF.pop()},{"../Framework":"Framework","./Defines":"Defines"}],AwardWinningView:[function(e,t,n){"use strict";cc._RF.push(t,"6fd8djJ9BZLZbFUQbeiEecx","AwardWinningView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=e("../framework/base/Defines"),s=e("../framework/decorator/Decorators"),c=e("../framework/Framework"),l=i(e("../framework/ui/UIView")),d=e("../global/User"),h=e("../platform/android"),u=i(e("./AddressView")),{ccclass:p,property:g}=cc._decorator;let m=class extends l.default{constructor(){super(...arguments),this.btn_share=null,this.btn_spinAgain=null,this.btn_address=null,this.spr_Prize=null,this.winNode=null,this.loseNode=null,this.prizeName=null,this.awardData=null,this.prizeData=null}static getPrefabUrl(){return"turntable/prefab/AwardWinningView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){this.updateView()}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this.awardData=e[0]),e&&e[1]&&(this.prizeData=e[1])}bindingEvents(){super.bindingEvents(),this.registerEvent("UPDATE_PRIZE_RECORD",this.changeBtnStuate)}onClick(e,t){switch(e){case"mask":case"close":this.closeWithAction();break;case"btn_share":this.shareToFacebook();break;case"btn_spinAgain":this.closeWithAction();break;case"btn_address":c.Manager.uiManager.open({type:u.default,bundle:r.BUNDLE_RESOURCES,args:[this.awardData.id]});break;default:G.Logger.error("no find button name -> %s",e)}}shareToFacebook(){window.platformUtil.shareToFacebook(h.shareType.PHOTO,d.User._promoteUrl,d.User._shareImgUrl)}updateView(){if(this.awardData){switch(this.btn_address.active=!1,this.btn_share.active=!1,this.btn_spinAgain.active=!1,this.awardData.rewardType){case 1:this.btn_address.active=!0,this.btn_share.active=!0;break;case 2:this.btn_share.active=!0;break;case 4:this.btn_spinAgain.active=!0}this.spr_Prize.loadRemoteImage({url:this.prizeData.picUrl,view:this,defaultSpriteFrame:"turntable/image/10",bundle:r.BUNDLE_RESOURCES}),this.prizeName.string=this.prizeData.goodsName,this.loseNode.active=3==this.awardData.rewardType,this.winNode.active=!this.loseNode.active}}changeBtnStuate(){this.btn_address.active=!1}onDestroy(){super.onDestroy()}};o([g(cc.Node)],m.prototype,"btn_share",void 0),o([g(cc.Node)],m.prototype,"btn_spinAgain",void 0),o([g(cc.Node)],m.prototype,"btn_address",void 0),o([g(cc.Sprite)],m.prototype,"spr_Prize",void 0),o([g(cc.Node)],m.prototype,"winNode",void 0),o([g(cc.Node)],m.prototype,"loseNode",void 0),o([g(cc.Label)],m.prototype,"prizeName",void 0),m=o([p,s.injectService(a.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/net/LobbyService":"LobbyService","../framework/Framework":"Framework","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../platform/android":"android","./AddressView":"AddressView"}],BankItemView:[function(e,t,n){"use strict";cc._RF.push(t,"5175ao844pLj7GPd38Ss7MR","BankItemView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.gouNode=null,this.BankIcon=null,this.BankName=null,this.choosed=null,this.choosedImg=null,this.iconHot=null,this._itemClickCallback=null,this._itemId=0}onLoad(){super.onLoad()}updateItem(e,t,n,o){this._itemId=t,this.parent=o,this._itemClickCallback=n,this.updateData(e)}onItemClick(e,t){this._itemClickCallback&&this._itemClickCallback(this._itemId,this.parent)}updateData(e){this.BankName.string=e.bankCode}onClick(e){console.log(e)}};o([s(cc.Node)],c.prototype,"gouNode",void 0),o([s(cc.Node)],c.prototype,"BankIcon",void 0),o([s(cc.Label)],c.prototype,"BankName",void 0),o([s(cc.Node)],c.prototype,"choosed",void 0),o([s(cc.Node)],c.prototype,"choosedImg",void 0),o([s(cc.Node)],c.prototype,"iconHot",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],BannerView:[function(e,t,n){"use strict";cc._RF.push(t,"a521d64X5BE1on2bjdVkVac","BannerView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/UtilMgr"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.pageView=null,this.pageSpriteNode=null}static getPrefabUrl(){return"common/prefabs/BannerView"}onLoad(){super.onLoad(),this.content=cc.find("content",this.node),this.pageIndex=0}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&this.loadUI(e[0])}loadUI(e){if(e)for(let t=0;t<e.length;t++){let n=e[t],o=cc.instantiate(this.pageSpriteNode);o.active=!0,o.getComponent(cc.Sprite).loadRemoteImage({url:n.imgUrl,view:this}),this.pageView.addPage(o)}}onClick(e,t){switch(e){case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}onPageScorllEvents(e,t,n){t==cc.PageView.EventType.PAGE_TURNING&&(this.pageIndex=e.getCurrentPageIndex())}start(){this.pageView.getPages().length>1&&this.schedule(()=>{this.pageView.isScrolling()||(this.pageIndex++,this.pageIndex>=this.pageView.getPages().length?(this.pageIndex=0,this.pageView.scrollToPage(this.pageIndex,0)):this.pageView.scrollToPage(this.pageIndex,1))},5)}onDestroy(){super.onDestroy(),r.UtilMgr.popWindows()}};o([c(cc.PageView)],l.prototype,"pageView",void 0),o([c(cc.Node)],l.prototype,"pageSpriteNode",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],Base64:[function(e,t){"use strict";function n(){this._arrayBufferToBase64=function(e){for(var t="",n=new Uint8Array(e),o=n.byteLength,i=0;i<o;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)},this.stringToByte=function(e){var t,n,o=new Array;t=e.length;for(var i=0;i<t;i++)(n=e.charCodeAt(i))>=65536&&n<=1114111?(o.push(n>>18&7|240),o.push(n>>12&63|128),o.push(n>>6&63|128),o.push(63&n|128)):n>=2048&&n<=65535?(o.push(n>>12&15|224),o.push(n>>6&63|128),o.push(63&n|128)):n>=128&&n<=2047?(o.push(n>>6&31|192),o.push(63&n|128)):o.push(255&n);return o},this.encode=function(e,t){for(var n=this.stringToByte(t),o=(e=this.stringToByte(e),0);o<n.length;o++)n[o]=n[o]^e[o%e.length];return this._arrayBufferToBase64(n)}}cc._RF.push(t,"ad8b2nPoztJoK0ijcGhOnO+","Base64"),window.base64Encode=function(e){return(new n).encode("btgame^&*!@#123Abc",e)},cc._RF.pop()},{}],BaseData:[function(e,t,n){"use strict";cc._RF.push(t,"73b74M7g2hBFJlsMJ9MPw5v","BaseData");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});let a=class{constructor(){}destroy(){}};a=o([i(e("../framework/decorator/ClassDecorator")).default.classname],a),n.default=a,cc._RF.pop()},{"../framework/decorator/ClassDecorator":"ClassDecorator"}],BaseManager:[function(e,t,n){"use strict";cc._RF.push(t,"e92c60nABdDA5N9zlZUGiRo","BaseManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{constructor(){}destroy(){}},cc._RF.pop()},{}],BaseWaitPanelEnter:[function(e,t,n){"use strict";cc._RF.push(t,"49143H/s7pAfpM9B/0Hhdo3","BaseWaitPanelEnter");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../msgbox/PanelHelp")),r=e("../manager/Manager"),{ccclass:s,property:c}=cc._decorator;let l=class extends cc.Component{onLoad(){}timeoutAction(){cc.tween(this.node).delay(5).call(()=>{null!=this.timeoutCb?this.timeoutCb():a.default.showTip(r.Manager.makeLanguage("TIPS.NETWAITTIMEOUT"));let e=this.node.name;r.Manager.uiManager.close(e),this.node.destroy(),cc.warn("\u7b49\u5f85\u8d85\u65f6\u5904\u7406")}).start()}registerTimeoutCb(e){this.timeoutCb=e}};l=o([s],l),n.default=l,cc._RF.pop()},{"../../msgbox/PanelHelp":"PanelHelp","../manager/Manager":"Manager"}],BindEmailView:[function(e,t,n){"use strict";cc._RF.push(t,"d3fb5g5RlVMYYq1sOvyyIyd","BindEmailView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../data/UserData")),r=e("../../framework/external/protoc"),s=i(e("../../framework/ui/UIView")),c=i(e("../../login/Validator")),l=i(e("../../msgbox/PanelHelp")),d=i(e("../component/CountDownCode")),h=e("../language/LanguageImpl"),u=e("../manager/Manager"),p=e("../net/LobbyService"),{ccclass:g,property:m}=cc._decorator;let f=class extends s.default{constructor(){super(...arguments),this.emailEditBox=null,this.m_emailStr="",this.btnCountDown=null,this.codeEditBox=null,this.m_codeStr="",this._userData=null}static getPrefabUrl(){return"common/prefabs/BindEmailView"}onLoad(){super.onLoad(),this.bindEvents(),this.initData(),this.btnCountDown.active=!1}start(){}show(e){this.requestGetRewardConfig()}bindEvents(){this.emailEditBox.node.on("editing-did-began",this.onEmailBegan,this),this.emailEditBox.node.on("editing-did-ended",this.onEmailEnded,this),this.emailEditBox.node.on("editing-return",this.onEmailEnded,this),this.emailEditBox.node.on("text-changed",this.onEmailChanged,this),this.codeEditBox.node.on("editing-did-began",this.onCodeBegan,this),this.codeEditBox.node.on("editing-did-ended",this.onCodeEnded,this),this.codeEditBox.node.on("editing-return",this.onCodeEnded,this),this.codeEditBox.node.on("text-changed",this.onCodeChanged,this)}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_S2C_BindEmail",this.onEvent_S2C_BindEmail),this.registerEvent("Event_S2C_GetCheckCode",this.onEvent_S2C_GetCheckCode)}initData(){this._userData=G.DataMgr.get(a.default)}requestGetRewardConfig(){let e=r.MST.C2S_GetRegisterRewardConfig.create({serial:u.Manager.netManager.getNewSeqId()}),t=r.MST.C2S_GetRegisterRewardConfig.encode(e).finish();p.LobbyService.instance.sendMsg(r.MST.C2S_GetRegisterRewardConfig,r.MST.OuterOpcode_Lobby.C2S_GetRegisterRewardConfig,t)}onEmailBegan(e){this.emailEditBox.string=this.m_emailStr}onEmailEnded(e){this.m_emailStr.length<=0||(this.emailEditBox.string=this.m_emailStr)}onEmailChanged(e){this.m_emailStr=e.string}onCodeBegan(e){this.codeEditBox.string=this.m_codeStr}onCodeEnded(e){this.m_codeStr.length<=0||(this.codeEditBox.string=this.m_codeStr)}onCodeChanged(e){this.m_codeStr=e.string}onClick(e){switch(e){case"btnClose":this.close();break;case"btnBind":this.clickBtnBind();break;case"btnGetCode":this.clickGetCode()}}clickGetCode(){let e=this.m_emailStr,t=new c.default;t.add(e,[{strategy:"isNonEmpty",errorMsg:h.i18n.REGISTER.EMAILINFORMATIONEMPTY}]);let n=t.start();if(n)return void l.default.showTip(n);this.startCountDown();let o=r.MST.C2S_GetCheckCode.create({serial:u.Manager.netManager.getNewSeqId(),username:e}),i=r.MST.C2S_GetCheckCode.encode(o).finish();p.LobbyService.instance.sendMsg(r.MST.C2S_GetCheckCode,r.MST.OuterOpcode_Lobby.C2S_GetCheckCode,i)}startCountDown(){this.btnCountDown.getComponent(d.default)._doStartTime()}clickBtnBind(){let e=this.m_emailStr,t=new c.default,n=this.m_codeStr;t.add(n,[{strategy:"isNonEmpty",errorMsg:h.i18n.REGISTER.CODEINFORMATIONEMPTY}]),t.add(e,[{strategy:"isNonEmpty",errorMsg:h.i18n.REGISTER.EMAILINFORMATIONEMPTY}]),t.add(e,[{strategy:"isEmail",errorMsg:h.i18n.REGISTER.EMAILWRONG}]);let o=t.start();o?l.default.showTip(o):this.requestBindEmail()}requestBindEmail(){let e=this.m_emailStr,t=this.m_codeStr,n=r.MST.C2S_BindEmail.create({serial:u.Manager.netManager.getNewSeqId(),email:e,checkCode:t}),o=r.MST.C2S_BindEmail.encode(n).finish();p.LobbyService.instance.sendMsg(r.MST.C2S_BindEmail,r.MST.OuterOpcode_Lobby.C2S_BindEmail,o)}onEvent_S2C_BindEmail(){l.default.showTip(h.i18n.REGISTER.BINDSUCCESS),this.close()}onEvent_S2C_GetCheckCode(){l.default.showTip(h.i18n.TIPS.SENDCHECK)}};o([m(cc.EditBox)],f.prototype,"emailEditBox",void 0),o([m(cc.Node)],f.prototype,"btnCountDown",void 0),o([m(cc.EditBox)],f.prototype,"codeEditBox",void 0),f=o([g],f),n.default=f,cc._RF.pop()},{"../../data/UserData":"UserData","../../framework/external/protoc":"protoc","../../framework/ui/UIView":"UIView","../../login/Validator":"Validator","../../msgbox/PanelHelp":"PanelHelp","../component/CountDownCode":"CountDownCode","../language/LanguageImpl":"LanguageImpl","../manager/Manager":"Manager","../net/LobbyService":"LobbyService"}],BindPhoneView:[function(e,t,n){"use strict";cc._RF.push(t,"9e30aKf/u1MU5cUxtHqVG0t","BindPhoneView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../data/UserData")),r=e("../../framework/external/protoc"),s=i(e("../../framework/ui/UIView")),c=i(e("../../login/Validator")),l=i(e("../../msgbox/PanelHelp")),d=i(e("../component/CountDownCode")),h=e("../language/LanguageImpl"),u=e("../manager/Manager"),p=e("../net/LobbyService"),{ccclass:g,property:m}=cc._decorator;let f=class extends s.default{constructor(){super(...arguments),this.labRegister=null,this.labFirstRecharge=null,this.firstRecharIcon=null,this.btnCountDown=null,this.phoneEditBox=null,this.m_phoneStr="",this.emailEditBox=null,this.m_emailStr="",this.codeEditBox=null,this.m_codeStr="",this._userData=null}static getPrefabUrl(){return"common/prefabs/BindPhoneView"}onLoad(){super.onLoad(),this.bindEvents(),this.initData(),this.btnCountDown.active=!1}start(){}show(e){this.requestGetRewardConfig()}bindEvents(){this.emailEditBox.node.on("editing-did-began",this.onEmailBegan,this),this.emailEditBox.node.on("editing-did-ended",this.onEmailEnded,this),this.emailEditBox.node.on("editing-return",this.onEmailEnded,this),this.emailEditBox.node.on("text-changed",this.onEmailChanged,this),this.codeEditBox.node.on("editing-did-began",this.onCodeBegan,this),this.codeEditBox.node.on("editing-did-ended",this.onCodeEnded,this),this.codeEditBox.node.on("editing-return",this.onCodeEnded,this),this.codeEditBox.node.on("text-changed",this.onCodeChanged,this),this.phoneEditBox.node.on("editing-did-began",this.onPhoneBegan,this),this.phoneEditBox.node.on("editing-did-ended",this.onPhoneEnded,this),this.phoneEditBox.node.on("editing-return",this.onPhoneEnded,this),this.phoneEditBox.node.on("text-changed",this.onPhoneChanged,this)}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_S2C_BindPhone",this.onEvent_S2C_BindPhone),this.registerEvent("Event_S2C_GetRegisterRewordConfig",this.onEvent_S2C_GetRegisterRewordConfig),this.registerEvent("Event_S2C_GetCheckCode",this.onEvent_S2C_GetCheckCode)}initData(){this._userData=G.DataMgr.get(a.default)}requestGetRewardConfig(){let e=r.MST.C2S_GetRegisterRewardConfig.create({serial:u.Manager.netManager.getNewSeqId()}),t=r.MST.C2S_GetRegisterRewardConfig.encode(e).finish();p.LobbyService.instance.sendMsg(r.MST.C2S_GetRegisterRewardConfig,r.MST.OuterOpcode_Lobby.C2S_GetRegisterRewardConfig,t)}onEmailBegan(e){this.emailEditBox.string=this.m_emailStr}onEmailEnded(e){this.m_emailStr.length<=0||(this.emailEditBox.string=this.m_emailStr)}onEmailChanged(e){this.m_emailStr=e.string}onCodeBegan(e){this.codeEditBox.string=this.m_codeStr}onCodeEnded(e){this.m_codeStr.length<=0||(this.codeEditBox.string=this.m_codeStr)}onCodeChanged(e){this.m_codeStr=e.string}onPhoneBegan(e){this.phoneEditBox.string=this.m_phoneStr}onPhoneEnded(e){this.m_phoneStr.length<=0||(this.phoneEditBox.string=this.m_phoneStr)}onPhoneChanged(e){this.m_phoneStr=e.string}onClick(e){switch(e){case"btnClose":this.close();break;case"btnBind":this.clickBtnBind();break;case"btnGetCode":this.clickGetCode()}}startCountDown(){this.btnCountDown.getComponent(d.default)._doStartTime()}clickGetCode(){let e=new c.default,t=this.m_phoneStr;e.add(t,[{strategy:"isNonEmpty",errorMsg:h.i18n.REGISTER.EMAILINFORMATIONEMPTY}]);let n=e.start();if(n)return void l.default.showTip(n);this.startCountDown();let o=r.MST.C2S_GetCheckCode.create({serial:u.Manager.netManager.getNewSeqId(),username:t}),i=r.MST.C2S_GetCheckCode.encode(o).finish();p.LobbyService.instance.sendMsg(r.MST.C2S_GetCheckCode,r.MST.OuterOpcode_Lobby.C2S_GetCheckCode,i)}clickBtnBind(){let e=this.m_phoneStr,t=new c.default,n=this.m_codeStr;t.add(n,[{strategy:"isNonEmpty",errorMsg:h.i18n.REGISTER.CODEINFORMATIONEMPTY}]),t.add(e,[{strategy:"isNonEmpty",errorMsg:h.i18n.REGISTER.EMAILINFORMATIONEMPTY}]);let o=t.start();o?l.default.showTip(o):this.requestBindPhone()}requestBindPhone(){let e=this.m_phoneStr,t=this.m_codeStr,n=r.MST.C2S_BindPhone.create({serial:u.Manager.netManager.getNewSeqId(),phoneNo:e,checkCode:t}),o=r.MST.C2S_BindPhone.encode(n).finish();p.LobbyService.instance.sendMsg(r.MST.C2S_BindPhone,r.MST.OuterOpcode_Lobby.C2S_BindPhone,o)}onEvent_S2C_BindPhone(){l.default.showTip(h.i18n.REGISTER.BINDSUCCESS),this.close()}onEvent_S2C_GetRegisterRewordConfig(e){if(!e.firstDepositReward||!e.chips)return;this.labFirstRecharge.string=`+${e.chips}%`,this.labRegister.string=`+Rp ${e.firstDepositReward}`;let t=e.isGetFirstDepositReward;this.firstRecharIcon.getChildByName("done").active=t}onEvent_S2C_GetCheckCode(){l.default.showTip(h.i18n.TIPS.SENDCHECK)}};o([m(cc.Label)],f.prototype,"labRegister",void 0),o([m(cc.Label)],f.prototype,"labFirstRecharge",void 0),o([m(cc.Node)],f.prototype,"firstRecharIcon",void 0),o([m(cc.Node)],f.prototype,"btnCountDown",void 0),o([m(cc.EditBox)],f.prototype,"phoneEditBox",void 0),o([m(cc.EditBox)],f.prototype,"emailEditBox",void 0),o([m(cc.EditBox)],f.prototype,"codeEditBox",void 0),f=o([g],f),n.default=f,cc._RF.pop()},{"../../data/UserData":"UserData","../../framework/external/protoc":"protoc","../../framework/ui/UIView":"UIView","../../login/Validator":"Validator","../../msgbox/PanelHelp":"PanelHelp","../component/CountDownCode":"CountDownCode","../language/LanguageImpl":"LanguageImpl","../manager/Manager":"Manager","../net/LobbyService":"LobbyService"}],BitEncrypt:[function(e,t,n){"use strict";cc._RF.push(t,"714809p2/BN/rqgBK9MkiIN","BitEncrypt"),Object.defineProperty(n,"__esModule",{value:!0}),n.BitEncrypt=void 0,n.BitEncrypt=new class{constructor(){this.logTag="[BitEncrypt]:",this._encryptKey="EskKbMvzZBILhcTv"}set encryptKey(e){this._encryptKey=e}get encryptKey(){return this._encryptKey}decode(e,t){return this._code(e,t)}encode(e,t){return this._code(e,t)}_code(e,t){let n=this._check(e,t);if(n.isOK){let t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));let o=0,i="",a=/[\w\d_-`~#!$%^&*(){}=+;:'"<,>,/?|\\\u4e00-\u9fa5]/g;for(let s=0;s<t.length;s++){let r=e[s].match(a);r&&r.length>0&&(t[s]^=n.key.charCodeAt(o),(r=(i=String.fromCharCode(t[s])).match(a))&&r.length||(t[s]^=n.key.charCodeAt(o)),++o>=n.key.length&&(o=0))}let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}return e}_check(e,t){return e&&e.length>0?t&&t.length>0?{isOK:!0,key:t}:this.encryptKey&&this.encryptKey.length>0?{isOK:!0,key:this.encryptKey}:{isOK:!1,key:t}:{isOK:!1,key:t}}},cc._RF.pop()},{}],CacheManager:[function(e,t,n){"use strict";cc._RF.push(t,"b4bfajBspdK6rFm4JM2XHck","CacheManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.CacheManager=void 0;const o=e("../base/Defines"),i=e("../Framework");class a{constructor(e){this._caches=new Map,this.name="unknown",this.name=e}isInvalid(e){return e.isLoaded&&e.data&&!cc.isValid(e.data)}get(e,t){if(this._caches.has(e)){let n=this._caches.get(e);return t&&this.isInvalid(n)?(cc.warn(`\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff0c\u4f46\u5df2\u7ecf\u88ab\u91ca\u653e , \u91cd\u65b0\u52a0\u8f7d\u8d44\u6e90 : ${e}`),this.remove(e),null):this._caches.get(e)}return null}set(e,t){this._caches.set(e,t)}remove(e){return this._caches.delete(e)}}class r{constructor(){this.refCount=0,this.url="",this.retain=!1}}class s{constructor(){this._caches=new Map,this._spriteFrameCaches=new Map,this._resMap=new Map}get(e){let t="";if("string"==typeof e){let n=parseRemoteUrl(e);t=makeRemoteUrl(n)}else t=makeRemoteUrl(e);return this._caches.has(t)?this._caches.get(t):null}getSpriteFrame(e){let t="";if("string"==typeof e){let n=parseRemoteUrl(e);t=makeRemoteUrl(n)}else t=makeRemoteUrl(e);if(this._spriteFrameCaches.has(t)){let n=this._spriteFrameCaches.get(t);return this.get(e)?n:(this.remove(e),null)}return null}setSpriteFrame(e,t){let n="";if("string"==typeof e){let t=parseRemoteUrl(e);n=makeRemoteUrl(t)}else n=makeRemoteUrl(e);if(t&&t instanceof cc.Texture2D){let i=this.getSpriteFrame(e);if(i)return i.data;let a=new o.ResourceCacheData;return a.data=new cc.SpriteFrame(t),a.isLoaded=!0,a.url=n,this._spriteFrameCaches.set(n,a),a.data}return null}set(e,t){let n="";if("string"==typeof e){let t=parseRemoteUrl(e);n=makeRemoteUrl(t)}else n=makeRemoteUrl(e);t.url=n,this._caches.set(n,t)}_getCacheInfo(e,t=!0){if(e&&e.url&&e.url.length>0){let n=parseRemoteUrl(e.url),o=makeRemoteUrl(n);if(!this._resMap.has(o)){if(!t)return null;{let t=new r;t.url=e.url,this._resMap.set(o,t)}}return this._resMap.get(o)}return null}retainAsset(e){if(e&&e.data){let t=this._getCacheInfo(e);t&&(t.retain?e.retain:t.retain=e.retain,t.refCount++,t.retain&&(t.refCount=999999))}}releaseAsset(e){if(e&&e.data){let t=this._getCacheInfo(e,!1);if(t){if(t.retain)return;t.refCount--,t.refCount<=0&&this.remove(t.url)}}}remove(e){let t="";if("string"==typeof e){let n=parseRemoteUrl(e);t=makeRemoteUrl(n)}else t=makeRemoteUrl(e);this._resMap.delete(t),this._spriteFrameCaches.has(t)&&this._spriteFrameCaches.delete(t);let n=this._caches.has(t)?this._caches.get(t):null;return n&&n.data instanceof sp.SkeletonData&&(this.remove(`${n.url}.atlas`),this.remove(`${n.url}.png`),this.remove(`${n.url}.json`)),this._caches.delete(t)}showCaches(){cc.log("---- [RemoteCaches] showCaches ----");let e=[],t=[];this._spriteFrameCaches.forEach((n,o)=>{let i={url:o,data:{url:n.url,isLoaded:n.isLoaded,isValid:cc.isValid(n.data),assetType:cc.js.getClassName(n.assetType),data:n.data?cc.js.getClassName(n.data):null,status:n.status}};n.isLoaded&&(n.data&&!cc.isValid(n.data)||!n.data)?t.push(i):e.push(i)}),e.length>0&&(cc.log("----------------Current valid spriteFrame Caches------------------"),cc.log(JSON.stringify(e))),t.length>0&&(cc.log("----------------Current invalid spriteFrame Caches------------------"),cc.log(JSON.stringify(t))),e=[],t=[],this._caches.forEach((n,o)=>{let i={url:o,data:{url:n.url,isLoaded:n.isLoaded,isValid:cc.isValid(n.data),assetType:cc.js.getClassName(n.assetType),data:n.data?cc.js.getClassName(n.data):null,status:n.status}};n.isLoaded&&n.data&&!cc.isValid(n.data)?t.push(i):e.push(i)}),e.length>0&&(cc.log("----------------Current valid Caches------------------"),cc.log(JSON.stringify(e))),t.length>0&&(cc.log("----------------Current invalid Caches------------------"),cc.log(JSON.stringify(t))),this._resMap.size>0&&(cc.log("----------------Current resource reference Caches------------------"),e=[],this._resMap.forEach((t,n)=>{let o={url:n,data:{refCount:t.refCount,url:t.url,retain:t.retain}};e.push(o)}),cc.log(JSON.stringify(e)))}}class c{constructor(){this.logTag="[CacheManager]: ",this._bundles=new Map,this._remoteCaches=new s}static Instance(){return this._instance||(this._instance=new c)}get remoteCaches(){return this._remoteCaches}getBundleName(e){return"string"==typeof e?e:e?e.name:null}get(e,t,n=!0){let o=this.getBundleName(e);return o&&this._bundles.has(o)?this._bundles.get(o).get(t,n):null}set(e,t,n){let o=this.getBundleName(e);if(o)if(this._bundles.has(o))this._bundles.get(o).set(t,n);else{let e=new a(o);e.set(t,n),this._bundles.set(o,e)}}remove(e,t){let n=this.getBundleName(e);return!(!n||!this._bundles.has(n))&&this._bundles.get(n).remove(t)}_getGetCacheByAsyncArgs(){return arguments.length<3?null:"string"!=typeof arguments[0]?null:cc.js.isChildClassOf(arguments[1],cc.Asset)?{url:arguments[0],type:arguments[1],bundle:arguments[2]}:null}getCache(){let e=arguments,t=this;return new Promise(n=>{let o=t._getGetCacheByAsyncArgs.apply(t,e);if(!o)return void n(null);let i=t.get(o.bundle,o.url);i?i.isLoaded?o.type?i.data instanceof o.type?n(i.data):n(null):n(i.data):i.getCb.push(n):n(null)})}getCacheByAsync(){let e=this,t=this._getGetCacheByAsyncArgs.apply(this,arguments);return new Promise(n=>{t?e.getCache(t.url,t.type,t.bundle).then(e=>{e&&e instanceof t.type?n(e):i.Manager.assetManager.load(t.bundle,t.url,t.type,null,e=>{e&&e.data&&e.data instanceof t.type?n(e.data):(cc.error(`${this.logTag}\u52a0\u8f7d\u5931\u8d25 : ${t.url}`),n(null))})}):n(null)})}getSpriteFrameByAsync(e,t,n,a,r){let s=this;return new Promise(c=>{let l=0,d=h=>{s.getCacheByAsync(h,cc.SpriteAtlas,r).then(s=>{let u=new o.ResourceInfo;if(u.url=h,u.type=cc.SpriteAtlas,u.data=s,u.bundle=r,a(n,u),s){let n=s.getSpriteFrame(t);n?cc.isValid(n)?c({url:h,spriteFrame:n}):(cc.error(`\u7cbe\u7075\u5e27\u88ab\u91ca\u653e\uff0c\u91ca\u653e\u5f53\u524d\u65e0\u6cd5\u7684\u56fe\u96c6\u8d44\u6e90 url \uff1a${h} key : ${t}`),i.Manager.assetManager.releaseAsset(u),c({url:h,spriteFrame:null,isTryReload:!0})):++l>=e.length?c({url:h,spriteFrame:null}):d(e[l])}else c({url:h,spriteFrame:null})})};d(e[l])})}}n.CacheManager=c,c._instance=null,cc._RF.pop()},{"../Framework":"Framework","../base/Defines":"Defines"}],CaptureUtil:[function(e,t,n){"use strict";cc._RF.push(t,"62514iiX+1P77Y8x+CP7v6o","CaptureUtil");var o,i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=a(e("../../msgbox/PanelHelp")),s=e("../language/LanguageImpl"),{ccclass:c,property:l}=cc._decorator;let d=o=class{constructor(){this.camera=null,this.texture=null,this._canvas=null}static Instance(){return this._instance||(this._instance=new o)}inint(e){if(!this.camera){let t=new cc.Node,n=cc.director.getScene().getChildByName("Canvas");t.parent=n,t.zIndex=1e4,this.camera=t.addComponent(cc.Camera),this.camera.backgroundColor=cc.Color.TRANSPARENT,this.camera.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL||cc.Camera.ClearFlags.COLOR,this.camera.cullingMask=-4,this.camera.alignWithScreen=!1,this.camera.alignWithScreen=!1,this.camera.orthoSize=e.height/2,this.camera.node.y=e.y;let o=new cc.RenderTexture;o.initWithSize(e.width,e.height,cc.RenderTexture.DepthStencilFormat.RB_FMT_S8),this.camera.targetTexture=o,this.texture=o,this.camera.enabled=!0}}capture(e){if(e)if(this.inint(e),e.groupIndex=2,cc.sys.isNative)setTimeout(()=>{let e=this.initImage();this.saveFile(e),this.camera.enabled=!1,this.camera.node.destroy(),this.camera=null},1e3);else if(cc.sys.isBrowser){this.createCanvasWeb();let e=this.createImg();setTimeout(()=>{this.downloadFile_web("share_redPacke_image.png",e.src),dispatch("handleSaveImageToLocal",!0)},1e3)}}base64Img2Blob_web(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],o=window.atob(t[1]),i=o.length,a=new Uint8Array(i),r=0;r<i;++r)a[r]=o.charCodeAt(r);return new Blob([a],{type:n})}downloadFile_web(e,t){var n=document.createElement("a"),o=this.base64Img2Blob_web(t),i=document.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.download=e,n.href=URL.createObjectURL(o),r.default.showTip(s.i18n.REDPAKGE.saveSuccess),n.dispatchEvent(i),this.camera.node.destroy(),this.camera=null}createCanvasWeb(){let e=this.texture.width,t=this.texture.height;this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=e,this._canvas.height=t);let n=this._canvas.getContext("2d");this.camera.render();let o=this.texture.readPixels(),i=4*e;for(let a=0;a<t;a++){let r=t-1-a,s=n.createImageData(e,1),c=r*e*4;for(let e=0;e<i;e++)s.data[e]=o[c+e];n.putImageData(s,0,a)}return this._canvas}createImg(){var e=this._canvas.toDataURL("share_redPacke_image/png"),t=document.createElement("img");return t.src=e,t}showImage(e){let t=new cc.Texture2D;t.initWithElement(e);let n=new cc.SpriteFrame;n.setTexture(t);let o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=n,o.zIndex=cc.macro.MAX_ZINDEX,o.parent=cc.director.getScene();let i=cc.winSize.width,a=cc.winSize.height;o.x=i/2,o.y=a/2,o.on(cc.Node.EventType.TOUCH_START,()=>{o.parent=null,o.destroy()}),this.captureAction(o,i,a)}clearCanvas(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)}initImage(){this.camera.render();let e=this.texture.readPixels();return this.filpYImage(e,this.texture.width,this.texture.height)}createCanvas(e){let t=new cc.Texture2D;t.initWithData(e,32,this.texture.width,this.texture.height);let n=new cc.SpriteFrame;n.setTexture(t);let o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=n,o.zIndex=cc.macro.MAX_ZINDEX,o.parent=cc.director.getScene();let i=cc.winSize.width,a=cc.winSize.height;o.x=i/2,o.y=a/2,o.on(cc.Node.EventType.TOUCH_START,()=>{o.parent=null,o.destroy()}),this.captureAction(o,i,a)}filpYImage(e,t,n){let o=new Uint8Array(t*n*4),i=4*t;for(let a=0;a<n;a++){let r=(n-1-a)*t*4,s=a*t*4;for(let t=0;t<i;t++)o[s+t]=e[r+t]}return o}saveFile(e){}captureAction(e,t,n){let o=cc.scaleTo(1,.3),i=cc.v2(t-t/6,n/4),a=cc.moveTo(1,i),r=cc.spawn(o,a);e.runAction(r)}};d._instance=null,d=o=i([c],d),n.default=d,cc._RF.pop()},{"../../msgbox/PanelHelp":"PanelHelp","../language/LanguageImpl":"LanguageImpl"}],ClassDecorator:[function(e,t,n){"use strict";cc._RF.push(t,"3ccabKr9QZAQ6Xp/dPAvykm","ClassDecorator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{static get classname(){return function(e){let t=cc._RF.peek().script;cc.js.setClassName(t,e)}}},cc._RF.pop()},{}],ClickPlayEffets:[function(e,t,n){"use strict";cc._RF.push(t,"3dc6f63JrZALoHMzrjf3sUI","ClickPlayEffets");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.liziPrefab=null,this.liziPool=new cc.NodePool}onLoad(){this.node.on(cc.Node.EventType.TOUCH_START,this.toTouchHandel,this),this.node.zIndex=9999}toTouchHandel(e){let t=e.getLocation();t=this.node.convertToNodeSpaceAR(t);let n=this.getLizi();n.setPosition(t),n.active=!0,n.getComponent(cc.ParticleSystem).resetSystem(),this.scheduleOnce(()=>{this.receive(n)},1),dispatch("onTouchHand")}receive(e){e.removeFromParent(),this.liziPool.put(e)}getLizi(){let e=this.liziPool.get()||cc.instantiate(this.liziPrefab);return this.node.addChild(e),e}onDestroy(){this.node.off(cc.Node.EventType.TOUCH_START,this.toTouchHandel,this)}};o([a(cc.Prefab)],r.prototype,"liziPrefab",void 0),r=o([i],r),n.default=r,cc._RF.pop()},{}],CmdResStruct:[function(e,t,n){"use strict";cc._RF.push(t,"b747cW1mARDOoDAlSDr6quX","CmdResStruct"),Object.defineProperty(n,"__esModule",{value:!0}),n.CmdResStruct=void 0;const o=e("../../framework/external/protoc");n.CmdResStruct=new class{constructor(){this.resMsg={},this.resGameMsg={},this.resMsg={},this.resGameMsg={},this.registerHall()}registerHall(){this.resMsg[o.MST.OuterOpcode_Gate.G2C_EnterMap_Res]=o.MST.G2C_EnterMap_Res,this.resMsg[o.MST.OuterOpcode_Gate.G2C_Ping_Res]=o.MST.G2C_Ping_Res,this.resMsg[o.MST.OuterOpcode_Gate.G2C_LoginGate_Res]=o.MST.G2C_LoginGate_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_BindMailBox_Res]=o.MST.L2C_BindMailBox_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_BindPhone_Res]=o.MST.L2C_BindPhone_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GoldRankDay_Res]=o.MST.L2C_GoldRankDay_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_WinDayRank_Res]=o.MST.L2C_WinDayRank_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_WinWeekRank_Res]=o.MST.L2C_WinWeekRank_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_WinMonthRank_Res]=o.MST.L2C_WinMonthRank_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GetGameList_Res]=o.MST.L2C_GetGameList_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_BetRank_Res]=o.MST.L2C_BetRank_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_Deposit_Res]=o.MST.L2C_Deposit_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_ChipsChange_Mes]=o.MST.L2C_ChipsChange_Mes,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_Withdraw_Res]=o.MST.L2C_Withdraw_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GetStoreList_Res]=o.MST.L2C_GetStoreList_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GetDepositLimit_Res]=o.MST.L2C_GetDepositLimit_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GetWithdrawLimit_Res]=o.MST.L2C_GetWithdrawLimit_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GetBankList_Res]=o.MST.L2C_GetBankList_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GetBankCardInfo_Res]=o.MST.L2C_GetBankCardInfo_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_BindBankCard_Res]=o.MST.L2C_BindBankCard_Res,this.resMsg[o.MST.OuterOpcode_Lobby.L2C_GetWithdrawRecords_Res]=o.MST.L2C_GetWithdrawRecords_Res,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_GetDepositList]=o.MST.S2C_GetDepositList,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_MinigameInfo]=o.MST.S2C_MinigameInfo,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_MinigameLottery]=o.MST.S2C_MinigameLottery,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_GetSignedInfo]=o.MST.S2C_GetSignedInfo,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_Signed]=o.MST.S2C_Signed,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_GetCheckCode]=o.MST.S2C_GetCheckCode,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_Register]=o.MST.S2C_Register,this.resMsg[o.MST.OuterOpcode_Lobby.C2S_BindPhone]=o.MST.C2S_BindPhone,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_BindEmail]=o.MST.S2C_BindEmail,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_ResetPassword]=o.MST.S2C_ResetPassword,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_BindPhone]=o.MST.S2C_BindPhone,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_GetRegisterRewordConfig]=o.MST.S2C_GetRegisterRewordConfig,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_ModifyAvartar]=o.MST.S2C_ModifyAvartar,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_PromotionInfo]=o.MST.S2C_PromotionInfo,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_GetMissionList]=o.MST.S2C_GetMissionList,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_MissionClaim]=o.MST.S2C_MissionClaim,this.resMsg[o.MST.OuterOpcode_Lobby.S2C_MessageNotify]=o.MST.S2C_MessageNotify,this.resMsg[o.MST.OuterOpcode_Map.M2C_CreateMyUnit_Mes]=o.MST.M2C_CreateMyUnit_Mes,this.resMsg[o.MST.OuterOpcode_Map.M2C_RemoveUnits_Mes]=o.MST.M2C_RemoveUnits_Mes,this.resMsg[o.MST.OuterOpcode_Map.M2C_TransferMap_Res]=o.MST.M2C_TransferMap_Res,this.resMsg[o.MST.OuterOpcode_Map.M2C_Auth_Res]=o.MST.M2C_Auth_Res,this.resMsg[o.MST.OuterOpcode_Map.M2C_AuthOut_Res]=o.MST.M2C_AuthOut_Res,this.resMsg[o.MST.OuterOpcode_Map.M2C_KickOut_Mes]=o.MST.M2C_KickOut_Mes,this.resMsg[o.MST.OuterOpcode_Map.M2C_GoldChange_Mes]=o.MST.M2C_GoldChange_Mes}register(e,t){this.resGameMsg[e]||(this.resGameMsg[e]=t)}decode(e){return this.resMsg[e]?this.resMsg[e]:this.resGameMsg[e]?this.resGameMsg[e]:null}},cc._RF.pop()},{"../../framework/external/protoc":"protoc"}],CocosExtention:[function(e,t,n){"use strict";cc._RF.push(t,"d04cfrIH9pOMoFQB4kwLaeF","CocosExtention"),n.__esModule=!0,n.CocosExtentionInit=function(){},(o=e("./WebEditBoxImpl"))&&o.__esModule;var o,i=e("../base/Defines"),a=e("./Utils"),r=e("../event/EventApi"),s=e("../Framework");if("object"==typeof Reflect?Reflect.defineProperty(cc.Node.prototype,"userData",{value:null,writable:!0}):cc.Node.prototype.userData=null,cc.Sprite.prototype.loadRemoteImage=function(e){var t=this;null!=e.isNeedCache&&null!=e.isNeedCache||(e.isNeedCache=!0);var n=!1;e.retain&&(n=!0);var o=(0,a.getBundle)(e);s.Manager.assetManager.remote.loadImage(e.url,e.isNeedCache).then(function(r){r?(0,a.setSpriteSpriteFrame)(e.view,e.url,t,r,e.completeCallback,o,i.ResourceType.Remote,n):e.defaultSpriteFrame&&"string"==typeof e.defaultSpriteFrame&&s.Manager.cacheManager.getCacheByAsync(e.defaultSpriteFrame,cc.SpriteFrame,i.BUNDLE_RESOURCES).then(function(n){(0,a.setSpriteSpriteFrame)(e.view,e.defaultSpriteFrame,t,n,e.completeCallback,o)}),e.completeCallback&&cc.isValid(t)&&e.completeCallback(r)})},cc.Sprite.prototype.loadImage=function(e){var t=this,n=e.view,o=e.url,r=e.completeCallback,c=(0,a.getBundle)(e);"string"==typeof o?s.Manager.cacheManager.getCacheByAsync(o,cc.SpriteFrame,c).then(function(e){(0,a.setSpriteSpriteFrame)(n,o,t,e,r,c,i.ResourceType.Remote,!0)}):s.Manager.cacheManager.getSpriteFrameByAsync(o.urls,o.key,n,a.addExtraLoadResource,c).then(function(e){e&&e.isTryReload||(0,a.setSpriteSpriteFrame)(n,e.url,t,e.spriteFrame,r,c,i.ResourceType.Local,!1,!0)})},cc.createPrefab=function(e){var t=e.url,n=(0,a.getBundle)(e);s.Manager.cacheManager.getCacheByAsync(t,cc.Prefab,n).then(function(t){(0,a.createNodeWithPrefab)(e,t)})},sp.Skeleton.prototype.loadRemoteSkeleton=function(e){var t=this;null!=e.isNeedCache&&null!=e.isNeedCache||(e.isNeedCache=!0),s.Manager.assetManager.remote.loadSkeleton(e.path,e.name,e.isNeedCache).then(function(n){(0,a.setSkeletonSkeletonData)(t,e,n,i.ResourceType.Remote)})},sp.Skeleton.prototype.loadSkeleton=function(e){var t=this,n=e.url,o=(0,a.getBundle)(e);s.Manager.cacheManager.getCacheByAsync(n,sp.SkeletonData,o).then(function(n){(0,a.setSkeletonSkeletonData)(t,e,n)})},cc.Button.prototype.loadButton=function(e){(0,a.setButtonSpriteFrame)(this,e)},cc.Label.prototype.loadFont=function(e){var t=e.font,n=this,o=(0,a.getBundle)(e);s.Manager.cacheManager.getCacheByAsync(t,cc.Font,o).then(function(t){(0,a.setLabelFont)(n,e,t)})},cc.Label.prototype.forceDoLayout=function(){this._forceUpdateRenderData?this._forceUpdateRenderData():this._updateRenderData&&this._updateRenderData(!0)},cc.ParticleSystem.prototype.loadFile=function(e){var t=this,n=e.url,o=(0,a.getBundle)(e);s.Manager.cacheManager.getCacheByAsync(n,cc.ParticleAsset,o).then(function(n){(0,a.setParticleSystemFile)(t,e,n)})},cc.updateAlignment=function(e){if(e){var t=cc;t._widgetManager&&t._widgetManager.updateAlignment(e)}},cc.sys.isBrowser&&(cc.sys.os,cc.sys.OS_WINDOWS),Reflect.defineProperty(cc.Label.prototype,"language",{get:function(){return this._language},set:function(e){var t=this,n=function(e,n){if(e&&(Array.isArray(e)&&e.length>0||e)){var o;o=Array.isArray(e)?e:[e],n&&n(!0),t._language=[].concat(o),t.string=s.Manager.language.get(o)}else n&&n(!1),t._language=null,t.string=""};i.ENABLE_CHANGE_LANGUAGE?t.isValid&&n(e,function(e){e?t._isUsinglanguage||(t._isUsinglanguage=!0,s.Manager.eventDispatcher.addEventListener(r.EventApi.CHANGE_LANGUAGE,t._onChangeLanguage,t)):t._language&&s.Manager.eventDispatcher.removeEventListener(r.EventApi.CHANGE_LANGUAGE,t)}):n(e,null)}}),i.ENABLE_CHANGE_LANGUAGE){cc.Label.prototype._onChangeLanguage=function(){this.language=this.language};var c=cc.Label.prototype.onDestroy;cc.Label.prototype.onDestroy=function(){this._isUsinglanguage&&s.Manager.eventDispatcher.removeEventListener(r.EventApi.CHANGE_LANGUAGE,this),c&&c.call(this)};var l=cc.Label.prototype.onLoad;cc.Label.prototype.onLoad=function(){this.string.indexOf(i.USING_LAN_KEY)>-1&&(this.language=[this.string]),l&&l.call(this)}}cc._RF.pop()},{"../Framework":"Framework","../base/Defines":"Defines","../event/EventApi":"EventApi","./Utils":"Utils","./WebEditBoxImpl":"WebEditBoxImpl"}],CommonDefine:[function(e,t,n){"use strict";cc._RF.push(t,"584a4vkQ3ZDOojxkkEI6bMJ","CommonDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonDefine=void 0,function(e){let t;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(t=e.Direction||(e.Direction={}))}(n.CommonDefine||(n.CommonDefine={})),cc._RF.pop()},{}],CommonInterface:[function(e,t){"use strict";cc._RF.push(t,"78f4fNI6yRPmK9V6KKQSRop","CommonInterface"),cc._RF.pop()},{}],CommonService:[function(e,t,n){"use strict";cc._RF.push(t,"cdac79M5PhBeIG696a7Pj9/","CommonService");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.CommonService=n.CommonMessage=n.protoPackage=n.serverType=void 0;const i=e("../../framework/base/Service"),a=e("../../framework/net/JsonMessage"),r=e("../config/Config"),s=o(e("../../msgbox/PanelHelp")),c=e("../language/LanguageImpl"),l=e("../manager/Manager"),d=e("../../framework/external/protoc");n.serverType={GateWay:1001,Lobby:2001,Crash:3016},n.protoPackage={hall:d.MST,crash:d.MST};class h extends a.JsonMessage{}n.CommonMessage=h;class u extends i.Service{static get instance(){return this._instance||(this._instance=new u)}get commonMessageType(){return h}sendHeartbeat(){let e=d.MST.C2G_Ping_Req.create({RpcId:l.Manager.netManager.getNewSeqId()}),t=d.MST.C2G_Ping_Req.encode(e).finish();this.sendMsg(d.MST.C2G_Ping_Req,d.MST.OuterOpcode_Gate.C2G_Ping_Req,t)}getMaxHeartbeatTimeOut(){return super.getMaxHeartbeatTimeOut()}getHeartbeatInterval(){return super.getHeartbeatInterval()}onHeartbeatTimeOut(){super.onHeartbeatTimeOut(),cc.warn("\u5fc3\u8df3\u8d85\u65f6\uff0c\u60a8\u5df2\u7ecf\u65ad\u5f00\u7f51\u7edc"),s.default.showMsgBox("",c.i18n.WAIT.NETERROR,()=>{l.Manager.uiManager.closeExcept(null),cc.audioEngine.stopAll(),super.close(),super.reset(),cc.game.restart(),cc.sys.garbageCollect()})}isHeartBeat(e){return e.mainCmd==d.MST.OuterOpcode_Gate.G2C_Ping_Res||e.mainCmd==d.MST.OuterOpcode_Gate.C2G_Ping_Req}onEnterBackground(){}onEnterForgeground(e){}sendMsg(e,t,n,o){let i=new h;i.mainCmd=t,i.databuffer=n,o&&(i.serverId=o),this.isHeartBeat(i)||(G.Logger.color("\u53d1\u9001\u6d88\u606f\uff1a",`${t}`),G.Logger.log(e.decode(n))),this.send(i)}disconnect(){G.Logger.log("\u91cd\u8fde",r.Config.webServiceCfg),r.Config.webServiceCfg&&this.connect(r.Config.webServiceCfg.ip,r.Config.webServiceCfg.wsPort,r.Config.webServiceCfg.protocol)}onlyServerSendMsg(e){return super.onlyServerSendMsg(e),!1}}n.CommonService=u,u._instance=null,cc._RF.pop()},{"../../framework/base/Service":"Service","../../framework/external/protoc":"protoc","../../framework/net/JsonMessage":"JsonMessage","../../msgbox/PanelHelp":"PanelHelp","../config/Config":"Config","../language/LanguageImpl":"LanguageImpl","../manager/Manager":"Manager"}],ComponentDefine:[function(e,t,n){"use strict";cc._RF.push(t,"7e9b1QxYfdLk6fTX5RRU/Kd","ComponentDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.ListViewLoadMode=n.DirectionType=void 0,function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(n.DirectionType||(n.DirectionType={})),function(e){e[e.NONE=0]="NONE",e[e.FRAME=1]="FRAME",e[e.ENDLESS=2]="ENDLESS"}(n.ListViewLoadMode||(n.ListViewLoadMode={})),cc._RF.pop()},{}],ComponentInterface:[function(e,t,n){"use strict";cc._RF.push(t,"58abevK9r1A7KU7RFnKexan","ComponentInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],Config:[function(e,t,n){"use strict";cc._RF.push(t,"df6483YRVVPlodAQqnkAnjN","Config"),Object.defineProperty(n,"__esModule",{value:!0}),n.ViewZOrder=n.Config=void 0,function(e){e.isShowDebugButton=!1,e.isOpenHotUpdate=!1,e.assetBundle={},e.webServiceCfg=null,e.WS_URL="game.sultan777.io:8443",e.avatar_path="akun/images/tx",e.headImage_default="akun/images/tx1",e.headImageURL="",e.TelegramURL="https://t.me/+qnWMhBQWEsIxZWQ1",e.games={Crash:{name:"Crash",subName:"crash",disName:"crash"},Roulette:{name:"Roulette",subName:"roulette",disName:"roulette"},Wingo:{name:"Wingo",subName:"wingo",disName:"wingo"}},e.GameId={Lobby:"Lobby",Crash:"Crash",Roulette:"Roulette",Wingo:"Wingo"}}(n.Config||(n.Config={})),function(e){e.zero=0,e.Horn=10,e.UI=100,e.Tips=300,e.Alert=299,e.Toast=288,e.Loading=600,e.UILoading=700}(n.ViewZOrder||(n.ViewZOrder={})),cc._RF.pop()},{}],ConfirmBox:[function(e,t,n){"use strict";cc._RF.push(t,"a0e38G90gxL8aXstNSabbuQ","ConfirmBox");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmBoxBtnSprite=void 0;const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;n.ConfirmBoxBtnSprite={btn_Cancel:"btn_Cancel",btn_Confirm:"btn_Confirm",btn_Reset:"btn_Reset",btn_OK:"btn_OK",Go_to_bind_phone:"Go-to-bind-phone",btn_yes:"btn_yes",btn_no:"btn_no",btn_Recharge:"btn_Recharge",Update:"Update"},n.ConfirmBoxBtnSprite.Update,n.ConfirmBoxBtnSprite.Go_to_bind_phone,n.ConfirmBoxBtnSprite.btn_Cancel,n.ConfirmBoxBtnSprite.btn_Reset,n.ConfirmBoxBtnSprite.btn_OK,n.ConfirmBoxBtnSprite.btn_yes,n.ConfirmBoxBtnSprite.btn_no,n.ConfirmBoxBtnSprite.btn_Confirm,n.ConfirmBoxBtnSprite.btn_Recharge;let c=class extends a.default{constructor(){super(...arguments),this.label=null,this.title=null,this.title_default=null,this.cancel_label=null,this.confirm_label=null,this.cancel=null,this.confirm=null}static getPrefabUrl(){return"msgbox/prefabs/ConfirmBox"}onLoad(){super.onLoad(),this.content=cc.find("content",this.node),this.okCall=null}onEnable(){dispatch("showTipPop")}onDisable(){dispatch("hideTipPop")}show(e){if(super.show(e),this.showWithAction(!0),this.args.length>0){let e=this.args[0],t=e.title,n=e.content,o=e.isSingle,i=e.next||function(){},a=e.cancel||function(){},r=e.cancel_label,s=e.confirm_label;this.showMsg(t,n,o,i,a,r,s),this.autoclose=e.autoclose}else G.Logger.log("\u53c2\u6570\u4e3a\u7a7a")}showMsg(e,t,n,o,i,a,r){console.log("text",a,r),this.okCall=o,this.cannelCall=i,n&&(this.cancel.node.active=!1),e&&(this.title.language=e,this.title.node.active=!0,this.title_default.active=!1),t&&(this.label.language=t),a&&(this.cancel_label.language=a,this.cancel_label.node.active=!0),r&&(this.confirm_label.language=r,this.confirm_label.node.active=!0)}onClick(e,t){switch(e){case"cancel":this.cannelCall();break;case"confirm":this.okCall();break;default:G.Logger.error("no find button name -> %s",e)}this.autoclose&&this.closeWithAction()}};o([s(cc.Label)],c.prototype,"label",void 0),o([s(cc.Label)],c.prototype,"title",void 0),o([s(cc.Node)],c.prototype,"title_default",void 0),o([s(cc.Label)],c.prototype,"cancel_label",void 0),o([s(cc.Label)],c.prototype,"confirm_label",void 0),o([s(cc.Button)],c.prototype,"cancel",void 0),o([s(cc.Button)],c.prototype,"confirm",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],ConfirmCreateTournament:[function(e,t,n){"use strict";cc._RF.push(t,"4afeeWYetZPmIY5xxh5E4D9","ConfirmCreateTournament");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/config/Config"),r=e("../common/language/LanguageImpl"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=e("../global/UtilMgr"),u=i(e("../msgbox/PanelHelp")),p=i(e("./TournamentData")),{ccclass:g,property:m}=cc._decorator;let f=class extends d.default{constructor(){super(...arguments),this.gameName=null,this.password=null,this.people=null,this.bonusSource=null,this.jackPot=null,this.rewards=[],this.confirmNode=null,this.createGold=null}static getPrefabUrl(){return"tournament/prefabs/ConfirmCreateTournament"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){this.updateView()}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this.data=e[0]),console.log("create room info",this.data)}bindingEvents(){super.bindingEvents(),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_CreateTournament),this.onNetCreateTournament)}onClick(e,t){switch(e){case"returnBtn":case"close":this.closeWithAction();break;case"confirmBtn":this.reqCreateTournament();break;default:G.Logger.error("no find button name -> %s",e)}}reqCreateTournament(){u.default.showLoading(r.i18n.WAIT.LOGIN);let e=s.protoPackage.hall.CreateTournamentReq.create(this.data),t=s.protoPackage.hall.CreateTournamentReq.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_CreateTournament,t)}onNetCreateTournament(e){0==e.statusMsg.status?(this.closeWithAction(),dispatch("close_createTournamentView"),p.default.getInstance().flushItmeID=e.tournamentId,dispatch("UpdateTournamentList"),this.reqTournamentDetail(e.tournamentId)):251==e.statusMsg.status?u.default.showMsgBox("",r.i18n.FRIENDROOM.ToRecharge,()=>{dispatch("openRechargeView")},"btn_Recharge"):u.default.showTip(r.i18n.ERRORCODE[e.statusMsg.status]),u.default.hideLoading()}reqTournamentDetail(e){let t={tournamentId:e},n=s.protoPackage.hall.TournamentDetailReq.create(t),o=s.protoPackage.hall.TournamentDetailReq.encode(n).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_TournamentDetail,o)}updateView(){this.gameName.string=a.Config.games[this.data.gameId].disName,this.password.string=0==this.data.password.length?"No Password":this.data.password,this.people.string=this.data.numberOfParticipants+"-people",this.bonusSource.string=0==this.data.bonusSource?"Pay by myself":"Pay by participant",0==this.data.bonusSource?this.jackPot.string=h.UtilMgr.changeMoney(this.data.createFee*(100-p.default.getInstance().serviceFee)*.01,!1):this.jackPot.string=h.UtilMgr.changeMoney(this.data.joinFee*(100-p.default.getInstance().serviceFee)*this.data.numberOfParticipants*.01,!1),this.createGold.string=h.UtilMgr.changeMoney(this.data.createFee);let e=this.data.rewardPercent.split(",");this.rewards.forEach((t,n)=>{e[n]&&(t.string=h.UtilMgr.changeMoney(+this.jackPot.string*e[n]*100,!1)),t.node.parent.active=n<e.length}),this.createGold.node.parent.active=0==this.data.bonusSource}onDestroy(){super.onDestroy()}};o([m(cc.Label)],f.prototype,"gameName",void 0),o([m(cc.Label)],f.prototype,"password",void 0),o([m(cc.Label)],f.prototype,"people",void 0),o([m(cc.Label)],f.prototype,"bonusSource",void 0),o([m(cc.Label)],f.prototype,"jackPot",void 0),o([m(cc.Label)],f.prototype,"rewards",void 0),o([m(cc.Node)],f.prototype,"confirmNode",void 0),o([m(cc.Label)],f.prototype,"createGold",void 0),f=o([g,l.injectService(c.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/config/Config":"Config","../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./TournamentData":"TournamentData"}],Controller:[function(e,t,n){"use strict";cc._RF.push(t,"5d639ZnlvBGGphwAhPfsbs/","Controller");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../event/EventApi"),r=i(e("../base/EventComponent")),{ccclass:s,property:c}=cc._decorator;let l=class extends r.default{get service(){return this._service}set service(e){this._service=e}bindingEvents(){super.bindingEvents(),this.registerEvent(a.EventApi.NetEvent.ON_OPEN,this.onNetOpen),this.registerEvent(a.EventApi.NetEvent.ON_CLOSE,this.onNetClose),this.registerEvent(a.EventApi.NetEvent.ON_ERROR,this.onNetError)}onNetOpen(){}onNetClose(e){}onNetError(e){}};l=o([s],l),n.default=l,cc._RF.pop()},{"../base/EventComponent":"EventComponent","../event/EventApi":"EventApi"}],CountDownCode:[function(e,t,n){"use strict";cc._RF.push(t,"d41a7BOaSRJ1JgIyG+GE6lY","CountDownCode");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.VerificationCodeType=void 0;const a=e("../../framework/decorator/Decorators"),r=i(e("../../framework/ui/UIView")),s=e("../net/LobbyService");var c;(function(e){e[e.none=0]="none",e[e.resetPwd=1]="resetPwd"})(c=n.VerificationCodeType||(n.VerificationCodeType={}));const{ccclass:l,property:d}=cc._decorator;let h=class extends r.default{constructor(){super(...arguments),this.label=null,this.btnGetCode=null,this.service=null,this.verificationCodeType=c.none}onLoad(){}bindingEvents(){super.bindingEvents()}_doStartTime(){this.node.active=!0,this.btnGetCode.enabled=!1,this.verifiCD=60,this.node.getComponent(cc.Button)&&(this.node.getComponent(cc.Button).interactable=!1),this.label.string=this.verifiCD+"s",this.verifiCD-=1,this.updateVerifiCD=setInterval(()=>{this.verifiCD<0?(clearInterval(this.updateVerifiCD),this.verifiCD=60,this.countDownEnd(),this.node.getComponent(cc.Button)&&(this.node.getComponent(cc.Button).interactable=!0)):null==this.label?(clearInterval(this.updateVerifiCD),cc.isValid(this.node)&&this.onDestroy()):(this.label.string=this.verifiCD+"s",this.verifiCD--)},1e3)}countDownEnd(){this.node.active=!1,this.btnGetCode.enabled=!0}};o([d(cc.Label)],h.prototype,"label",void 0),o([d(cc.Button)],h.prototype,"btnGetCode",void 0),h=o([l,a.injectService(s.LobbyService.instance)],h),n.default=h,cc._RF.pop()},{"../../framework/decorator/Decorators":"Decorators","../../framework/ui/UIView":"UIView","../net/LobbyService":"LobbyService"}],CreateAccountView:[function(e,t,n){"use strict";cc._RF.push(t,"078cbr9UWlO8agc1uapT2ql","CreateAccountView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("../msgbox/PanelHelp")),h=e("../framework/external/protoc"),u=i(e("../data/RechargeData")),{ccclass:p,property:g}=cc._decorator;let m=class extends l.default{constructor(){super(...arguments),this.moreBankNode=null,this.iconDown=null,this.iconUp=null,this.bankItemTop0=null,this.bankItemTop1=null,this.bankItemTop2=null,this.bankItemTop3=null,this.bankItemTop4=null,this.bankItemTop5=null,this.bankItemMore0=null,this.bankItemMore1=null,this.bankItemMore2=null,this.bankItemMore3=null,this.bankItemMore4=null,this.bankItemMore5=null,this.bankNumEditBox=null,this.bankNameEditBox=null,this.labBankCode=null,this.bankNumStr="",this.bankNameStr="",this.bankCodeStr=null,this.bankChoosedIndex=null,this.currentMoreIndex=0}static getPrefabUrl(){return"wallet/prefabes/CreateAccountView"}onLoad(){super.onLoad(),this.bindEvents()}bindEvents(){this.bankNumEditBox.node.on("editing-did-began",this.onBankNumBegan,this),this.bankNumEditBox.node.on("editing-did-ended",this.onBankEnterEnd,this),this.bankNumEditBox.node.on("editing-return",this.onBankEnterEnd,this),this.bankNumEditBox.node.on("text-changed",this.onBankNumTxtChanged,this),this.bankNameEditBox.node.on("editing-did-began",this.onBankNameBegan,this),this.bankNameEditBox.node.on("editing-did-ended",this.onBankNameEnterEnd,this),this.bankNameEditBox.node.on("editing-return",this.onBankNameEnterEnd,this),this.bankNameEditBox.node.on("text-changed",this.onBankNameTxtChanged,this)}bindingEvents(){super.bindingEvents(),this.registerEvent("L2C_BindBankCard_Res",this.onL2C_BindBankCard_Res),this.registerEvent("L2C_GetBankList_Res",this.onL2C_GetBankList_Res)}show(){this.initData(),this.refreshBankTopInfo()}initData(){this.currentMoreIndex=0}requestGetBankList(e,t){let n=h.MST.C2L_GetBankList_Req.create({RpcId:r.Manager.netManager.getNewSeqId(),index:e,limit:t}),o=h.MST.C2L_GetBankList_Req.encode(n).finish();s.LobbyService.instance.sendMsg(h.MST.C2L_GetBankList_Req,h.MST.OuterOpcode_Lobby.C2L_GetBankList_Req,o)}onClick(e,t){switch(e){case"btnClose":this.close();break;case"btnSave":this.saveBankHanlder();break;case"btnMoreBank":this.clickMoreBank();break;case"btnLast":this.clickBtnLastHandler();break;case"btnNext":this.clickBtnNextHandler()}}clickBtnLastHandler(){if(this.currentMoreIndex--,this.currentMoreIndex<=0)return void(this.currentMoreIndex=0);let e=this.currentMoreIndex;this.requestGetBankList(6*e,6)}clickBtnNextHandler(){this.currentMoreIndex++;let e=this.currentMoreIndex;this.requestGetBankList(6*e,6)}saveBankHanlder(){let e=this.bankChoosedIndex;if(null==e)return void d.default.showTip(a.i18n.TIPS.SELECTBANk);let t=G.DataMgr.get(u.default).bankInfoList[e];if(!t)return;let n=t.bankName,o=this.bankNumStr,i=t.bankCode;if(!n||!o||!i)return void d.default.showTip(a.i18n.TIPS.BANDBANKINFOFAIL);let c=h.MST.C2L_BindBankCard_Req.create({RpcId:r.Manager.netManager.getNewSeqId(),bankNo:o,bankCode:i,name:n}),l=h.MST.C2L_BindBankCard_Req.encode(c).finish();s.LobbyService.instance.sendMsg(h.MST.C2L_BindBankCard_Req,h.MST.OuterOpcode_Lobby.C2L_BindBankCard_Req,l)}onL2C_BindBankCard_Res(){d.default.showTip(a.i18n.TIPS.BINDBANKSUCCESS),this.close(),dispatch("Event_L2C_BindBankCard_Res")}clickMoreBank(){let e=this.moreBankNode;e.active=!e.active,this.iconDown.active=!1,this.iconUp.active=!1,this.iconDown.active=e.active,this.iconUp.active=!e.active,e.active&&this.requestGetBankList(0,6)}refreshBankTopInfo(){let e=G.DataMgr.get(u.default).bankInfoList;if(!(e&&e.length<=0))for(let t=0;t<6;t++){const n=e[t],o=this[`bankItemTop${t}`],i=o.getChildByName("choosed");o.active=!1,n&&(t<=e.length&&(o.active=!0,o.getChildByName("labBank").getComponent(cc.Label).string=n.bankCode),o.on(cc.Node.EventType.TOUCH_END,()=>{this.bankChoosedIndex=t,this.hideChoosedHanlder(),i.active=!0,this.refreshChoosedHandler()}))}}refreshBankMoreInfo(){let e=G.DataMgr.get(u.default).bankInfoList;if(e&&e.length<=0)this.currentMoreIndex--;else for(let t=0;t<6;t++){const n=e[t],o=this[`bankItemMore${t}`],i=o.getChildByName("choosed");o.active=!1,n&&(t<=e.length&&(o.active=!0,o.getChildByName("labBank").getComponent(cc.Label).string=n.bankName),o.on(cc.Node.EventType.TOUCH_END,()=>{this.bankChoosedIndex=t,this.hideChoosedHanlder(),i.active=!0,this.refreshChoosedHandler()}))}}hideChoosedHanlder(){for(let e=0;e<6;e++){const t=this[`bankItemTop${e}`],n=this[`bankItemMore${e}`],o=t.getChildByName("choosed"),i=n.getChildByName("choosed");o.active=!1,i.active=!1}}refreshChoosedHandler(){let e=this.bankChoosedIndex,t=G.DataMgr.get(u.default).bankInfoList[e].bankCode;this.labBankCode.string=t}onL2C_GetBankList_Res(){this.refreshBankMoreInfo()}onBankNumBegan(e){this.bankNumEditBox.string=this.bankNumStr}onBankEnterEnd(e){this.bankNumStr.length<=0||(this.bankNumEditBox.string=this.bankNumStr)}onBankNumTxtChanged(e){this.bankNumStr=e.string}onBankNameBegan(e){this.bankNumEditBox.string=this.bankNameStr}onBankNameEnterEnd(e){this.bankNameStr.length<=0||(this.bankNumEditBox.string=this.bankNameStr)}onBankNameTxtChanged(e){this.bankNameStr=e.string}onDestroy(){super.onDestroy()}};o([g(cc.Node)],m.prototype,"moreBankNode",void 0),o([g(cc.Node)],m.prototype,"iconDown",void 0),o([g(cc.Node)],m.prototype,"iconUp",void 0),o([g(cc.Node)],m.prototype,"bankItemTop0",void 0),o([g(cc.Node)],m.prototype,"bankItemTop1",void 0),o([g(cc.Node)],m.prototype,"bankItemTop2",void 0),o([g(cc.Node)],m.prototype,"bankItemTop3",void 0),o([g(cc.Node)],m.prototype,"bankItemTop4",void 0),o([g(cc.Node)],m.prototype,"bankItemTop5",void 0),o([g(cc.Node)],m.prototype,"bankItemMore0",void 0),o([g(cc.Node)],m.prototype,"bankItemMore1",void 0),o([g(cc.Node)],m.prototype,"bankItemMore2",void 0),o([g(cc.Node)],m.prototype,"bankItemMore3",void 0),o([g(cc.Node)],m.prototype,"bankItemMore4",void 0),o([g(cc.Node)],m.prototype,"bankItemMore5",void 0),o([g(cc.EditBox)],m.prototype,"bankNumEditBox",void 0),o([g(cc.EditBox)],m.prototype,"bankNameEditBox",void 0),o([g(cc.Label)],m.prototype,"labBankCode",void 0),m=o([p,c.injectService(s.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/RechargeData":"RechargeData","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],CreateTournamentView:[function(e,t,n){"use strict";cc._RF.push(t,"349c0JyKZNJ7a3wZ9UBpIDm","CreateTournamentView");var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const c=e("../common/config/Config"),l=e("../common/language/LanguageImpl"),d=e("../common/net/CommonService"),h=e("../common/net/LobbyService"),u=e("../framework/base/Defines"),p=e("../framework/decorator/Decorators"),g=e("../framework/Framework"),m=s(e("../framework/ui/UIView")),f=e("../global/UtilMgr"),b=s(e("../msgbox/PanelHelp")),y=s(e("./ConfirmCreateTournament")),_=r(e("./TournamentData")),{ccclass:v,property:w}=cc._decorator;let C=class extends m.default{constructor(){super(...arguments),this.setRulesNode=null,this.createBasicInformationNode=null,this.setRewardNode=null,this.gameEditbox=null,this.passwordEditbox=null,this.gameListNode=null,this.passwordTipNode=null,this.modeTipNode=null,this.createStepNode=[],this.createStepJTNode=[],this.peopleToggleNode=null,this.bonusSourceToggleNode=null,this.awardsToggleNode=null,this.serviceFeeNode=null,this.serviceFeeLabel=null,this.jackpotLabel=null,this.setAmountEdit=null,this.setAmountTips=null,this.awardsNodes=[],this.scrollViewNode=null,this.viewMaskNode=null,this.toutnamentData=null}static getPrefabUrl(){return"tournament/prefabs/CreateTournamentView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.toutnamentData=_.default.getInstance()}start(){this.setAmountEdit.node.on("editing-did-ended",this.updateJackPot,this),this.reqTournamentConfig(),this.onEventHandlerAward()}show(e){super.show(e),this.showWithAction(!0)}bindingEvents(){super.bindingEvents(),this.registerEvent(p.makeKey(d.serverType.Lobby,d.protoPackage.hall.HallCmd.CMD_TournamentConfig),this.onNetTournamentConfig),this.registerEvent("close_createTournamentView",this.closeWithAction)}onEventHandlerAward(){let e=this.awardsNodes[0].getComponent(cc.EditBox),t=this.awardsNodes[1].getComponent(cc.EditBox),n=this.awardsNodes[2].getComponent(cc.EditBox);this.awardsNodes.forEach((o,i)=>{o.awardIdx=i,o.on("editing-did-ended",o=>{switch(o.node.awardIdx){case 0:(+e.string<0||0==e.string.length)&&(e.string="0"),+e.string>100&&(e.string="100");let i=parseInt(e.string);if(e.string=i.toString(),1==this.peopleReward)e.string="100";else if(2==this.peopleReward)t.string=(100-i).toString();else if(t.string.length){let e=100-i-+t.string;e>0?n.string=e.toString():(n.string="0",t.string=(100-i).toString())}else if(n.string.length){let e=100-i-+n.string;e>0?t.string=e.toString():(t.string="0",n.string=(100-i).toString())}else t.string="",n.string="";break;case 1:(+t.string<0||0==t.string.length)&&(t.string="0"),+t.string>100&&(t.string="100");let a=parseInt(t.string);if(t.string=a.toString(),2==this.peopleReward)e.string=(100-a).toString();else if(3==this.peopleReward)if(e.string.length){let t=100-a-+e.string;t>0?n.string=t.toString():(n.string="0",e.string=(100-a).toString())}else if(n.string.length){let t=100-a-+n.string;t>0?e.string=t.toString():(e.string="0",n.string=(100-a).toString())}else e.string="",n.string="";break;case 2:(+n.string<0||0==n.string.length)&&(n.string="0"),+n.string>100&&(n.string="100");let r=parseInt(n.string);if(n.string=r.toString(),e.string.length){let n=100-r-+e.string;n>0?t.string=n.toString():(t.string="0",e.string=(100-r).toString())}else if(t.string.length){let n=100-r-+t.string;n>0?e.string=n.toString():(e.string="0",t.string=(100-r).toString())}else e.string="",t.string=""}let i=e.string,a=t.string,r=n.string,s="";s=i.length&&a.length&&r.length?i+","+a+","+r:i.length&&a.length?i+","+a:i,this.rewardPercent=s},this)})}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"closeGameList":this.scrollViewNode.parent.active=!1;break;case"gameEditbox":this.scrollViewNode.parent.active=!0;break;case"passwordWarnBtn":this.passwordTipNode.active=!this.passwordTipNode.active;break;case"nextStepBtn":this.nextCreateStep(this.curentStep,!0);break;case"btnModeTip":this.modeTipNode.active=!this.modeTipNode.active;break;case"previousBtn":this.nextCreateStep(this.curentStep,!1);break;case"addBtn":{let e=this.setAmountEdit.string;+e>=this.enterAmountMax?this.setAmountEdit.string=this.enterAmountMin.toString():this.setAmountEdit.string=(+e+10).toString(),this.updateJackPot()}break;case"subBtn":{let e=this.setAmountEdit.string;+e<=this.enterAmountMin?this.setAmountEdit.string=this.enterAmountMax.toString():this.setAmountEdit.string=(+e-10).toString(),this.updateJackPot()}break;case"confimBtn":let t=!1,n=this.awardsNodes[0].getComponent(cc.EditBox).string,o=this.awardsNodes[1].getComponent(cc.EditBox).string,i=this.awardsNodes[2].getComponent(cc.EditBox).string;if(1==this.peopleReward?t=0==n.length:2==this.peopleReward?t=0==n.length||0==o.length:3==this.peopleReward&&(t=0==n.length||0==o.length||0==i.length),t)return void b.default.showTip(l.i18n.Tournament.Incomplete);console.log("this.jackpotLabel.string",this.jackpotLabel.string);let a={gameId:this.curGameId,password:this.passwordEditbox.string,numberOfParticipants:this.partcipantsNum,tournamentRounds:0,bonusSource:this.bonusSource,joinFee:1==this.bonusSource?1e4*+this.setAmountEdit.string:0,createFee:1==this.bonusSource?0:1e4*+this.setAmountEdit.string,rewardPercent:this.rewardPercent};g.Manager.uiManager.open({type:y.default,bundle:u.BUNDLE_RESOURCES,args:[a]});break;case"setAmountDesc":this.setAmountTips.node.active=!this.setAmountTips.node.active;break;default:G.Logger.error("no find button name -> %s",e)}}reqTournamentConfig(){this.service.sendMsg(d.serverType.Lobby,d.protoPackage.hall.HallCmd.CMD_TournamentConfig,null)}onNetTournamentConfig(e){0==e.statusMsg.status?(this.toutnamentData.gameIds=e.gameIds,_.default.getInstance().serviceFee=this.serviceFee=e.serviceFee,this.propleToggle=e.people,this.showCreateView(_.CreateTournamentStep.SetRules)):b.default.showTip(l.i18n.ERRORCODE[e.statusMsg.status])}showCreateView(e){switch(this.resetSetpView(),e){case _.CreateTournamentStep.SetRules:this.setRulesNode.active=!0;let t=this.gameListNode.children[0];this.gameListNode.removeAllChildren();let n=this.toutnamentData.gameIds.length>3?3:this.toutnamentData.gameIds.length;this.scrollViewNode.height=this.toutnamentData.gameIds.length>3?206.25:55*n,this.viewMaskNode.height=this.scrollViewNode.height-10;for(let e=0;e<this.toutnamentData.gameIds.length;e++){let n=c.Config.games[this.toutnamentData.gameIds[e]].disName,o=cc.instantiate(t);o.parent=this.gameListNode,o.gameId=this.toutnamentData.gameIds[e],o.getChildByName("game").getComponent(cc.Label).string=n,o.off(cc.Node.EventType.TOUCH_END),o.on(cc.Node.EventType.TOUCH_END,this.clickGameItem.bind(this,o),this)}this.toutnamentData.gameIds[0]&&(this.gameEditbox.string=this.gameEditbox.string.length?this.gameEditbox.string:c.Config.games[this.toutnamentData.gameIds[0]].disName,this.curGameId=this.curGameId?this.curGameId:this.toutnamentData.gameIds[0]);break;case _.CreateTournamentStep.CreateBasicInformation:this.createBasicInformationNode.active=!0;let o=this.peopleToggleNode.children[0];this.peopleToggleNode.removeAllChildren(),this.partcipantsNum=this.partcipantsNum?this.partcipantsNum:this.propleToggle[0],this.serviceFeeLabel.string=this.serviceFee+"%",this.serviceFeeNode.active=0!=this.serviceFee;for(let e=0;e<this.propleToggle.length;e++){let t=cc.instantiate(o);t.parent=this.peopleToggleNode,t.getChildByName("peopleNum").getComponent(cc.Label).string=this.propleToggle[e].toString();let n=t.getComponent(cc.Toggle).isChecked=this.propleToggle[e]==this.partcipantsNum;t.getChildByName("peopleNum").color=(new cc.Color).fromHEX(n?"#FFFFFF":"#AE9F96")}break;case _.CreateTournamentStep.SetReward:this.setRewardNode.active=!0,this.peopleReward=this.peopleReward?this.peopleReward:1,this.showReward(),this.bonusSourceToggleNode.children.forEach(e=>{e.getChildByName("b").color=(new cc.Color).fromHEX(e.getComponent(cc.Toggle).isChecked?"#FFFFFF":"#AE9F96"),e.getComponent(cc.Toggle).isChecked&&(this.bonusSource=+e.name)}),this.awardsToggleNode.children.forEach(e=>{e.getChildByName("people").color=(new cc.Color).fromHEX(e.getComponent(cc.Toggle).isChecked?"#FFFFFF":"#AE9F96")}),this.enterAmountMin=0==this.bonusSource?10*this.partcipantsNum:10,this.enterAmountMax=0==this.bonusSource?1e4*this.partcipantsNum:1e4,this.setAmountEdit.placeholder="Enter the amount"+this.enterAmountMin+"-"+this.enterAmountMax,this.setAmountEdit.string=this.enterAmountMin.toString(),0==this.bonusSource?this.jackpotLabel.string=f.UtilMgr.changeMoney(+this.setAmountEdit.string*(100-this.serviceFee)*100,!1):this.jackpotLabel.string=f.UtilMgr.changeMoney(+this.setAmountEdit.string*(100-this.serviceFee)*this.partcipantsNum*100,!1)}this.curentStep=e,this.showStepTip(e)}nextCreateStep(e,t){switch(e){case _.CreateTournamentStep.SetRules:t&&(0==this.gameEditbox.string.length?b.default.showTip(l.i18n.Tournament.SelectGame):6!=this.passwordEditbox.string.length&&0!=this.passwordEditbox.string.length?b.default.showTip(l.i18n.Tournament.EnterCorrectPassword):this.showCreateView(_.CreateTournamentStep.CreateBasicInformation));break;case _.CreateTournamentStep.CreateBasicInformation:t?this.showCreateView(_.CreateTournamentStep.SetReward):this.showCreateView(_.CreateTournamentStep.SetRules);break;case _.CreateTournamentStep.SetReward:t||this.showCreateView(_.CreateTournamentStep.CreateBasicInformation)}}showStepTip(e){this.createStepNode.forEach((t,n)=>{t.active=n+1!=e}),1==e?(this.createStepJTNode[0].active=!1,this.createStepJTNode[1].active=!0):2==e?(this.createStepJTNode[0].active=!0,this.createStepJTNode[1].active=!1):(this.createStepJTNode[0].active=!0,this.createStepJTNode[1].active=!0)}resetSetpView(){this.setRulesNode.active=!1,this.createBasicInformationNode.active=!1,this.setRewardNode.active=!1}clickGameItem(e){this.curGameId=e.gameId,this.gameEditbox.string=e.getChildByName("game").getComponent(cc.Label).string,this.scrollViewNode.parent.active=!1}clickPeopleItem(e){this.partcipantsNum=+e.node.getChildByName("peopleNum").getComponent(cc.Label).string,this.peopleToggleNode.children.forEach(e=>{e.getChildByName("peopleNum").color=(new cc.Color).fromHEX(e.getComponent(cc.Toggle).isChecked?"#FFFFFF":"#AE9F96")})}clickBonusSource(e){if(this.bonusSource==+e.node.name)return;this.bonusSource=+e.node.name,this.bonusSourceToggleNode.children.forEach(e=>{e.getChildByName("b").color=(new cc.Color).fromHEX(e.getComponent(cc.Toggle).isChecked?"#FFFFFF":"#AE9F96")}),this.enterAmountMin=0==this.bonusSource?10*this.partcipantsNum:10,this.enterAmountMax=0==this.bonusSource?1e4*this.partcipantsNum:1e4;let t=+this.setAmountEdit.string;0==this.bonusSource?(this.setAmountEdit.string=f.UtilMgr.changeMoney(t*this.partcipantsNum*1e4,!1,!0),this.jackpotLabel.string=f.UtilMgr.changeMoney(+this.setAmountEdit.string*(100-this.serviceFee)*100,!1)):(this.setAmountEdit.string=f.UtilMgr.changeMoney(t/this.partcipantsNum*1e4,!1,!0),this.jackpotLabel.string=f.UtilMgr.changeMoney(+this.setAmountEdit.string*(100-this.serviceFee)*this.partcipantsNum*100,!1)),this.setAmountEdit.placeholder="Enter the amount "+this.enterAmountMin+"-"+this.enterAmountMax}clickPeopleReward(e){this.peopleReward!=+e.node.name&&(this.rewardPercent="",this.peopleReward=+e.node.name,this.awardsToggleNode.children.forEach(e=>{e.getChildByName("people").color=(new cc.Color).fromHEX(e.getComponent(cc.Toggle).isChecked?"#FFFFFF":"#AE9F96")}),this.showReward())}showReward(){let e=0;this.awardsNodes.forEach((t,n)=>{n+1>this.peopleReward?t.active=!1:(e++,t.active=!0)}),1==e?(this.awardsNodes[0].getComponent(cc.EditBox).string="100",this.rewardPercent="100"):(this.awardsNodes[0].getComponent(cc.EditBox).string="",this.awardsNodes[1].getComponent(cc.EditBox).string="",this.awardsNodes[2].getComponent(cc.EditBox).string="")}updateJackPot(e=null){if(e&&e.string.length){let t=e.string;if(!new RegExp("^[0-9]*$").test(t))return e.string="",void b.default.showTip(l.i18n.Tournament.AmountWong)}+this.setAmountEdit.string<this.enterAmountMin&&(this.setAmountEdit.string=this.enterAmountMin+"",b.default.showTip("Enter the amount "+this.enterAmountMin+"-"+this.enterAmountMax)),+this.setAmountEdit.string>this.enterAmountMax&&(this.setAmountEdit.string=this.enterAmountMax+"",b.default.showTip("Enter the amount "+this.enterAmountMin+"-"+this.enterAmountMax)),0==this.bonusSource?this.jackpotLabel.string=f.UtilMgr.changeMoney(+this.setAmountEdit.string*(100-this.serviceFee)*100,!1):this.jackpotLabel.string=f.UtilMgr.changeMoney(+this.setAmountEdit.string*(100-this.serviceFee)*this.partcipantsNum*100,!1)}editBoxEnded(e){if(e.string.length){let t=e.string;new RegExp("^[0-9]*$").test(t)||(e.string="",b.default.showTip(l.i18n.Tournament.passwordWong))}}onDestroy(){super.onDestroy()}};a([w({type:cc.Node,tooltip:""})],C.prototype,"setRulesNode",void 0),a([w({type:cc.Node,tooltip:""})],C.prototype,"createBasicInformationNode",void 0),a([w({type:cc.Node,tooltip:""})],C.prototype,"setRewardNode",void 0),a([w(cc.EditBox)],C.prototype,"gameEditbox",void 0),a([w(cc.EditBox)],C.prototype,"passwordEditbox",void 0),a([w(cc.Node)],C.prototype,"gameListNode",void 0),a([w(cc.Node)],C.prototype,"passwordTipNode",void 0),a([w(cc.Node)],C.prototype,"modeTipNode",void 0),a([w(cc.Node)],C.prototype,"createStepNode",void 0),a([w(cc.Node)],C.prototype,"createStepJTNode",void 0),a([w(cc.Node)],C.prototype,"peopleToggleNode",void 0),a([w(cc.Node)],C.prototype,"bonusSourceToggleNode",void 0),a([w(cc.Node)],C.prototype,"awardsToggleNode",void 0),a([w(cc.Node)],C.prototype,"serviceFeeNode",void 0),a([w(cc.Label)],C.prototype,"serviceFeeLabel",void 0),a([w(cc.Label)],C.prototype,"jackpotLabel",void 0),a([w(cc.EditBox)],C.prototype,"setAmountEdit",void 0),a([w(cc.Label)],C.prototype,"setAmountTips",void 0),a([w(cc.Node)],C.prototype,"awardsNodes",void 0),a([w(cc.Node)],C.prototype,"scrollViewNode",void 0),a([w(cc.Node)],C.prototype,"viewMaskNode",void 0),C=a([v,p.injectService(h.LobbyService.instance)],C),n.default=C,cc._RF.pop()},{"../common/config/Config":"Config","../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/Framework":"Framework","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./ConfirmCreateTournament":"ConfirmCreateTournament","./TournamentData":"TournamentData"}],DataBase:[function(e,t,n){"use strict";cc._RF.push(t,"f08a0BzWulOgLwpA7QFhdr9","DataBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.DataBase=void 0;class o{constructor(){this.config={name:"AppCaches",version:1},this.db=null,this.tables=["cache_png","cache_json","cache_atlas"],this.logTag="[DataBase]"}static Instance(){return this._instance||(this._instance=new o)}open(e,t,n){if(this.config.name=e||this.config.name,this.config.version=n||this.config.version,this.tables=t||this.tables,this.isSupport()){let e=this.getWindonwIndexedDB().open(this.config.name,this.config.version);e.onerror=()=>{},e.onsuccess=e=>{this.db=e.target.result},e.onupgradeneeded=e=>{cc.log(this.logTag,"onupgradeneeded"),this.db=e.target.result;for(let t=0;t<this.tables.length;t++)this.db.objectStoreNames.contains(this.tables[t])||this.db.createObjectStore(this.tables[t])}}}isSupport(){let e=window;return!!(e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB)}getWindonwIndexedDB(){let e=window;return e.indexedDB?e.indexedDB:(e.indexedDB=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,e.indexedDB)}close(){this.db&&this.db.close()}deleteDatabase(){this.isSupport()&&this.getWindonwIndexedDB().deleteDatabase(this.config.name)}put(e,t){if(this.db){let n=this.db.transaction(e,"readwrite").objectStore(e).put(t.data,t.key);n.onerror=()=>{},n.onsuccess=()=>{}}}get(e,t){return new Promise(n=>{if(this.db){let o=this.db.transaction(e,"readwrite").objectStore(e).get(t);o.onerror=()=>{n(null)},o.onsuccess=e=>{n(e.target.result)}}})}delete(e,t){if(this.db){let n=this.db.transaction(e,"readwrite").objectStore(e).delete(t);n.onerror=()=>{},n.onsuccess=()=>{}}}clear(e){if(this.db){let t=this.db.transaction(e,"readwrite").objectStore(e).clear();t.onerror=()=>{},t.onsuccess=()=>{}}}}n.DataBase=o,o._instance=null,cc._RF.pop()},{}],DataInterface:[function(e,t,n){"use strict";cc._RF.push(t,"464bbBwkc9NT4F3vwZ2w1oJ","DataInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],DataManager:[function(e,t,n){"use strict";cc._RF.push(t,"8b1060tm2FGbr6zzK6trgyu","DataManager");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=o(e("../../framework/base/BaseManager"));class a extends i.default{constructor(){super(),this.m_dataMap=null,this.m_dataMap=new Map}static getInstance(){return null===this.s_instance&&(this.s_instance=new a),this.s_instance}static destroy(){null!==this.s_instance&&this.s_instance.destroy(),this.s_instance=null}destroy(){this.m_dataMap.forEach(e=>{e.destroy()}),this.m_dataMap.clear(),this.m_dataMap=null}get(e){let t=cc.js.getClassName(e),n=this.m_dataMap.get(t);return null==n&&(n=this.add(e)),n}add(e){let t=cc.js.getClassName(e);if(null===this.m_dataMap)return void G.Logger.warn(`\u6dfb\u52a0 ${t} \u6570\u636e\u5931\u8d25`);let n=this.m_dataMap.get(t);return n?(G.Logger.warn(`\u5df2\u7ecf\u5b58\u5728 ${t} \u5bf9\u8c61`),n):(n=new e,this.m_dataMap.set(t,n),n)}del(e){let t=cc.js.getClassName(e);if(null===this.m_dataMap)return;let n=this.m_dataMap.get(t);n&&(n.destroy(),this.m_dataMap.delete(t))}}n.default=a,a.s_instance=null,cc._RF.pop()},{"../../framework/base/BaseManager":"BaseManager"}],DateUtils:[function(e,t,n){"use strict";cc._RF.push(t,"ffbd0mcHthAlKb59iyTNT1M","DateUtils");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=o(e("../../common/utils/TypeUtils")),a=e("../../global/UtilMgr");n.default=class{static getMD(e){let t=new Date(e),n=t.getMonth()+1,o=t.getDate(),i=n<10?"0"+n:n.toString();return`${o<10?"0"+o:o.toString()}/${i}`}static getYMD(e,t){let n=new Date(Number(e)),o=n.getFullYear(),a=n.getMonth()+1,r=n.getDate();return i.default.isNull(t)&&(t="/"),`${o}${t}${a<10?"0"+a:a.toString()}${t}${r<10?"0"+r:r.toString()}`}static getMDHM(e){let t=new Date(e),n=t.getMonth()+1,o=t.getDate(),i=t.getHours(),a=t.getMinutes();return`${n<10?"0"+n:n.toString()}-${o<10?"0"+o:o.toString()} ${i<10?"0"+i:i.toString()}:${a<10?"0"+a:a.toString()}`}static getMDHMS(e){let t=new Date(e),n=t.getMonth()+1,o=t.getDate(),i=t.getHours(),a=t.getMinutes(),r=t.getSeconds();return`${n<10?"0"+n:n.toString()}-${o<10?"0"+o:o.toString()} ${i<10?"0"+i:i.toString()}:${a<10?"0"+a:a.toString()}:${r<10?"0"+r:r.toString()}`}static getHMS(e){let t=new Date(e),n=t.getHours(),o=t.getMinutes(),i=t.getSeconds();return`${n<10?"0"+n:n.toString()}:${o<10?"0"+o:o.toString()}:${i<10?"0"+i:i.toString()}`}static getYMDHMS(e){let t=new Date(Number(e)),n=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),a=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return`${n}.${o<10?"0"+o:o.toString()}.${i<10?"0"+i:i.toString()} ${a<10?"0"+a:a.toString()}:${r<10?"0"+r:r.toString()}:${s<10?"0"+s:s.toString()}`}static getRemainTimeDH(e,t){let n="",o=(t-e)/1e3;if(o<=0)n="0H";else{const e=86400,t=3600;let i=Math.floor(o/e),a=Math.ceil(o%e/t);i>0&&(n=`${i}D`),a>0&&(n+=`${a}H`)}return n}static getRemainTimeHMS(e,t){let n="",o=t-e;if(o<=0)n="00:00:00";else{let e=Math.floor(o/1e3/60/60%24),t=Math.floor(o/1e3/60%60),i=Math.floor(o/1e3%60);n=`${e<10?"0"+e:e.toString()}:${t<10?"0"+t:t.toString()}:${i<10?"0"+i:i.toString()}`}return n}static getRemainTimeMS(e,t){let n="",o=t-e;if(o<=0)n="0000";else{let e=Math.floor(o/1e3/60%60),t=Math.floor(o/1e3%60);n=`${e<10?"0"+e:e.toString()}${t<10?"0"+t:t.toString()}`}return n}static getRemainTimeS(e,t){let n=null,o=t-e;return n=o<=0?0:Math.floor(o/1e3)}static getMsToS(e){if(e<=0)return"";let t=e/1e3;return a.UtilMgr.toPadding(a.UtilMgr.toFixed(t,2),2)}static getDayTimestamp(e){let t=new Date(e).format("yyyy-MM-dd");return this.getTimestampByDate(t)}static getTimestampByDate(e){return new Date(e).getTime()}static getDayBeforeAfter(e,t=0,n="yyyy-MM-dd"){let o=this.getDayTimestamp(e);return new Date(o+864e5*t).format(n)}static getDateByTimestamp(e,t="yyyy-MM-dd"){return new Date(Number(e)).format(t)}},cc._RF.pop()},{"../../common/utils/TypeUtils":"TypeUtils","../../global/UtilMgr":"UtilMgr"}],Decorators:[function(e,t,n){"use strict";cc._RF.push(t,"a73a3gqxuBG4azywFSxJslZ","Decorators"),Object.defineProperty(n,"__esModule",{value:!0}),n.makeKey=n.injectService=void 0,n.injectService=function(e){return function(t){let n=t.prototype.onLoad;t.prototype.onLoad=function(){this.service=e,n&&n.call(this)}}},n.makeKey=function(e){return`[${e}]`},cc._RF.pop()},{}],Defines:[function(e,t,n){"use strict";var o,i;cc._RF.push(t,"67315ILTptCJ6ugLWRGRR1Y","Defines"),Object.defineProperty(n,"__esModule",{value:!0}),n.USING_LAN_KEY=n.ENABLE_CHANGE_LANGUAGE=n.BUNDLE_REMOTE=n.BUNDLE_RESOURCES=n.ViewStatus=n.ResourceCacheData=n.ResourceInfo=n.ResourceType=n.ResourceCacheStatus=void 0,function(e){e[e.NONE=0]="NONE",e[e.WAITTING_FOR_RELEASE=1]="WAITTING_FOR_RELEASE"}(o=n.ResourceCacheStatus||(n.ResourceCacheStatus={})),function(e){e[e.Local=0]="Local",e[e.Remote=1]="Remote"}(i=n.ResourceType||(n.ResourceType={})),n.ResourceInfo=class{constructor(){this.url="",this.type=null,this.data=null,this.assetUrl="",this.retain=!1,this.bundle=null}},n.ResourceCacheData=class{constructor(){this.url="",this.isLoaded=!1,this.data=null,this.assetType=null,this.status=o.NONE,this.bundle=null,this.getCb=[],this.finishCb=[],this.jsbFinishCb=null,this.jsbStoragePath=null,this.resourceType=i.Local}doGet(e){for(let t=0;t<this.getCb.length;t++)this.getCb[t]&&this.getCb[t](e);this.getCb=[]}doFinish(e){for(let t=0;t<this.finishCb.length;t++)this.finishCb[t]&&this.finishCb[t](e);this.finishCb=[]}doJsbFinish(e){this.jsbFinishCb&&this.jsbFinishCb(e),this.jsbFinishCb=null}},function(e){e[e.WAITTING_CLOSE=0]="WAITTING_CLOSE",e[e.WATITING_HIDE=1]="WATITING_HIDE",e[e.WAITTING_NONE=2]="WAITTING_NONE"}(n.ViewStatus||(n.ViewStatus={})),n.BUNDLE_RESOURCES="resources",n.BUNDLE_REMOTE="__Remote__Caches__",n.ENABLE_CHANGE_LANGUAGE=!0,n.USING_LAN_KEY="i18n.",cc._RF.pop()},{}],DepositRecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"d2f95d2rL1OE4DCzN2L5lW3","DepositRecordItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=i(e("../common/utils/NumberUtils")),s=e("../framework/base/Defines"),c=e("../framework/decorator/Decorators"),l=e("../framework/event/EventApi"),d=i(e("../framework/ui/UIView")),{ccclass:h,property:u}=cc._decorator;let p=class extends d.default{constructor(){super(...arguments),this.labDate=null,this.labChips=null,this.labAmount=null,this._data=null}onLoad(){super.onLoad(),this.initData(),this.initView()}start(){}initData(){this._data=null}initView(){this.labDate.string="",this.labAmount.string="",this.labChips.string=""}bindingEvents(){super.bindingEvents(),s.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(l.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(){}onShow(e){this.onLanguageChange(),this._data=e,this.labDate.string=new Date(Number(e.depositTime)).format("yyyy/MM:dd hh:mm"),this.labChips.string=r.default.converToC(e.chips),this.labAmount.string=`+${e.amount}`}reset(){this.initData(),this.initView()}};o([u(cc.Label)],p.prototype,"labDate",void 0),o([u(cc.Label)],p.prototype,"labChips",void 0),o([u(cc.Label)],p.prototype,"labAmount",void 0),p=o([h,c.injectService(a.LobbyService.instance)],p),n.default=p,cc._RF.pop()},{"../common/net/LobbyService":"LobbyService","../common/utils/NumberUtils":"NumberUtils","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/ui/UIView":"UIView"}],DepositRecordView:[function(e,t,n){"use strict";cc._RF.push(t,"9fd48zalUBMVaKt25/UByRd","DepositRecordView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ListView")),r=i(e("../common/item/NoneItem")),s=e("../common/manager/Manager"),c=e("../common/net/LobbyService"),l=i(e("../common/utils/TypeUtils")),d=i(e("../data/AppData")),h=e("../framework/base/Defines"),u=e("../framework/decorator/Decorators"),p=e("../framework/event/EventApi"),g=e("../framework/external/protoc"),m=i(e("../framework/ui/UIView")),f=i(e("../msgbox/PanelHelp")),{ccclass:b,property:y}=cc._decorator;let _=class extends m.default{constructor(){super(...arguments),this.labDate=null,this.labChips=null,this.labAmount=null,this.lsvRecord=null,this.titleItem=null,this.noneItem=null,this._appData=null,this._isLastPage=!1,this._dataList=null,this.currentIndexPage=0}static getPrefabUrl(){return"wallet/prefabes/DepositRecordView"}onLoad(){super.onLoad(),this.initData(),this.initView(),this.C2S_MyRecord()}start(){}show(e){super.show(e),this.onLanguageChange()}initData(){this._appData=G.DataMgr.get(d.default),this._isLastPage=!1,this._dataList=[]}initView(){}bindingEvents(){super.bindingEvents(),h.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(p.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("Event_S2C_GetDepositList",this.onEvent_S2C_GetDepositList)}onLanguageChange(){}getLastRecordId(){return this.currentIndexPage+10}C2S_MyRecord(e){l.default.isNull(e)&&(e=0);let t={serial:s.Manager.netManager.getNewSeqId(),index:e,limit:10};console.log("C2S_MyRecord ->index :"+e);let n=g.MST.C2S_GetDepositList.create(t),o=g.MST.C2S_GetDepositList.encode(n).finish();this.service.sendMsg(g.MST.C2S_GetDepositList,g.MST.OuterOpcode_Lobby.C2S_GetDepositList,o)}onEvent_S2C_GetDepositList(e){0===e.code?(this.currentIndexPage=e.index,e.records.length<=0?(this.noneItem.node.active=!0,this.lsvRecord.node.active=!1):(this.noneItem.node.active=!1,this.lsvRecord.node.active=!0),this._isLastPage=e.records.length<10,this._dataList=this._dataList.concat(e.records),this.lsvRecord.insert(e.records)):f.default.showErrTip(e.code)}onClick(e,t,n){switch(e){case"btnClose":this.close()}}onPullTop(e){this.C2S_MyRecord(0)}onPullBottom(e){this._isLastPage?G.Logger.log("Crash \u6d4f\u89c8\u4e2a\u4eba\u5386\u53f2\u8bb0\u5f55 \u5df2\u662f\u6700\u540e\u4e00\u9875 \u65e0\u9700\u8bf7\u6c42\u7ffb\u9875"):this.C2S_MyRecord(this.getLastRecordId())}};o([y(cc.Label)],_.prototype,"labDate",void 0),o([y(cc.Label)],_.prototype,"labChips",void 0),o([y(cc.Label)],_.prototype,"labAmount",void 0),o([y(a.default)],_.prototype,"lsvRecord",void 0),o([y(cc.Node)],_.prototype,"titleItem",void 0),o([y(r.default)],_.prototype,"noneItem",void 0),_=o([b,u.injectService(c.LobbyService.instance)],_),n.default=_,cc._RF.pop()},{"../common/component/ListView":"ListView","../common/item/NoneItem":"NoneItem","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../common/utils/TypeUtils":"TypeUtils","../data/AppData":"AppData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],DeviceData:[function(e,t,n){"use strict";cc._RF.push(t,"f8abbLQlIdJNI2E5m/bjURs","DeviceData");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../base/BaseData"));let r=class extends a.default{constructor(){super(),this.uuid=null,this.os=null,this.osVersion=null}};r=o([i(e("../framework/decorator/ClassDecorator")).default.classname],r),n.default=r,cc._RF.pop()},{"../base/BaseData":"BaseData","../framework/decorator/ClassDecorator":"ClassDecorator"}],DisconnectWait:[function(e,t,n){"use strict";cc._RF.push(t,"cba526R775Hsqf3v49ArlaD","DisconnectWait");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.label=null}static getPrefabUrl(){return"wait/prefabs/DisconnectWait"}onLoad(){super.onLoad()}show(e){e[0]&&(this.label.language=e[0])}start(){}};o([s(cc.Label)],c.prototype,"label",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],EnterRealFieldNotiPanel:[function(e,t,n){"use strict";cc._RF.push(t,"c95a6CwOV9G0Lls/wuqTq5O","EnterRealFieldNotiPanel");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../common/language/LanguageImpl"),s=e("../global/Global"),c=e("../common/manager/Manager"),l=i(e("../recharge/RechargePayView")),{ccclass:d,property:h}=cc._decorator;let u=class extends a.default{constructor(){super(...arguments),this.lbl_content=null}static getPrefabUrl(){return"MultiCurrency/prefabs/EnterRealFieldNotiPanel"}show(){this.content=this.node.getChildByName("content"),this.showWithAction(!0),this.lbl_content.string=r.i18n.EXPERIENCE_FIELD.enterRealField,c.Manager.uiManager.close(l.default)}onClick(){s.reStartGame()}};o([h(cc.Label)],u.prototype,"lbl_content",void 0),u=o([d],u),n.default=u,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../framework/ui/UIView":"UIView","../global/Global":"Global","../recharge/RechargePayView":"RechargePayView"}],EventApi:[function(e,t,n){"use strict";cc._RF.push(t,"2ca11E9NLZEiqnYgIoSjr0s","EventApi"),Object.defineProperty(n,"__esModule",{value:!0}),n.CustomNetEventType=n.EventApi=void 0;n.EventApi={NetEvent:{ON_OPEN:"NetEvent_ON_OPEN",ON_CLOSE:"NetEvent_ON_CLOSE",ON_ERROR:"NetEvent_ON_ERROR"},AdaptScreenEvent:"AdaptScreenEvent",CHANGE_LANGUAGE:"CHANGE_LANGUAGE"},(n.CustomNetEventType||(n.CustomNetEventType={})).CLOSE="CustomClose",cc._RF.pop()},{}],EventComponent:[function(e,t,n){"use strict";cc._RF.push(t,"5af0eqpInZAY4eyx1jKB3jI","EventComponent");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../Framework"),{ccclass:a,property:r}=cc._decorator,s=Symbol("addListeners"),c=Symbol("removeEventListeners");let l=class extends cc.Component{constructor(){super(...arguments),this._service=null,this.logTag="[EventComponent]",this._events=[]}_getEventArgs(){if(arguments.length<2)return null;let e={};return"string"==typeof arguments[0]?(e.name=arguments[0],e.func=arguments[1]):(e.mainCmd=arguments[0],e.handleType=null,e.isQueue=!0,arguments.length>=2&&(e.func=arguments[1]),arguments.length>=3&&(e.handleType=arguments[2]),arguments.length>=4&&(e.isQueue=arguments[3])),e}registerEvent(){let e=this._getEventArgs.apply(this,arguments);e&&this._events.push(e)}addEvent(){let e=this._getEventArgs.apply(this,arguments);e&&(this._events.push(e),e.name?i.Manager.eventDispatcher.addEventListener(e.name,e.func,this):this._service&&(e.mainCmd?this._service.addListener(e.mainCmd,e.handleType,e.func,e.isQueue,this):cc.error(this.logTag,`\u6ce8\u518c\u7684\u7f51\u7edc\u56de\u8c03\u6709\u8bef class : ${cc.js.getClassName(this)} manCmd : ${e.mainCmd}`)))}removeEvent(){if(!(arguments.length<1))if(1==arguments.length){i.Manager.eventDispatcher.removeEventListener(arguments[0],this);let e=this._events.length;for(;e--;)this._events[e].name==arguments[0]&&this._events.splice(e,1)}else{let e=arguments[0];this._service&&"number"==typeof e&&this._service.removeListeners(this,e);let t=this._events.length;for(;t--;)this._events[t].mainCmd==e&&this._events.splice(t,1)}}bindingEvents(){}onLoad(){this.bindingEvents(),this[s]()}onDestroy(){this[c]()}[s](){for(let e=0;e<this._events.length;e++){let t=this._events[e];t.name?i.Manager.eventDispatcher.addEventListener(t.name,t.func,this):this._service&&(t.mainCmd?this._service.addListener(t.mainCmd,t.handleType,t.func,t.isQueue,this):cc.error(this.logTag,`\u6ce8\u518c\u7684\u7f51\u7edc\u56de\u8c03\u6709\u8bef class : ${cc.js.getClassName(this)} manCmd : ${t.mainCmd}`))}}[c](){for(let e=0;e<this._events.length;e++){let t=this._events[e];t.name&&i.Manager.eventDispatcher.removeEventListener(t.name,this)}this._service&&(this._service.removeListeners(this),this._service=null)}};l=o([a],l),n.default=l,cc._RF.pop()},{"../Framework":"Framework"}],EventDefine:[function(e,t,n){"use strict";cc._RF.push(t,"a6cceMDoURGmY/LX9otqEDE","EventDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventDefine=void 0,(n.EventDefine||(n.EventDefine={})).NOT_LOGIN_CLICK_BUTTON="NOT_LOGIN_CLICK_BUTTON",cc._RF.pop()},{}],EventDispatcher:[function(e,t,n){"use strict";cc._RF.push(t,"76e60J3VtFFtpDVPb7EZx5v","EventDispatcher"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventDispatcher=void 0;class o{constructor(){this.logTag="[EventDispatcher] ",this._eventCaches=null,this._eventCaches={}}static Instance(){return this._instance||(this._instance=new o)}addEventListener(e,t,n){if(!e||!t||!n)return;let o=this._eventCaches[e]||[],i=!1;for(let r=0;r<o.length;r++)if(o[r].target===n){i=!0;break}if(i)return;let a={type:e,callback:t,target:n};o.push(a),this._eventCaches[e]=o}removeEventListener(e,t){if(!e||!t)return;let n=this._eventCaches[e];if(n){for(let e=0;e<n.length;e++)if(n[e].target===t){n.splice(e,1);break}0==n.length&&delete this._eventCaches[e]}}dispatchEvent(e,t){if(!e)return;let n=this._eventCaches[e];if(n)for(let i=0;i<n.length;i++){let e=n[i];try{if("object"==typeof Reflect)if("string"==typeof e.callback){let n=Reflect.get(e.target,e.callback);n&&Reflect.apply(n.bind(e.target),e.target,[t])}else Reflect.apply(e.callback,e.target,[t]);else if("string"==typeof e.callback){if(e.target&&e.callback){let n=e.target[e.callback];n&&"function"==typeof n&&n.apply(e.target,[t])}}else e.callback&&e.target&&e.callback.apply(e.target,[t])}catch(o){cc.error(o)}}}}n.EventDispatcher=o,o._instance=null,window.dispatch=function(e,t){o.Instance().dispatchEvent(e,t)},cc._RF.pop()},{}],Extentions:[function(e,t,n){"use strict";cc._RF.push(t,"2ee709OI+pEX7Wqmoa02FAO","Extentions"),n.__esModule=!0,n.extentionsInit=function(){},window.base64Encrypt=function(e){return window.base64Encode(e)},window.base64Decrypt=function(e){return CryptoJS.enc.Base64.parse(e).toString(CryptoJS.enc.Utf8).toString()},window.md5=function(e){return this.CryptoJS.MD5(e)},window.makeRemoteUrl=function(e){return e.path+"/"+e.fileName},window.parseRemoteUrl=function(e){e=e.replace(/\s*/g,"");var t={url:null,path:null,fileName:null};t.url=e;var n=t.url.slice(t.url.lastIndexOf("/")+1),o=t.url.substr(0,t.url.length-n.length-1);return t.path=o,t.fileName=n,t},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};for(var n in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Date.timeNow=function(){return Math.floor(Date.timeNowMillisecons()/1e3)},Date.timeNowMillisecons=function(){return(new Date).getTime()},String.format=function(){for(var e=[],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);var o=e[0];return"string"!=typeof o?(cc.error("String.format error,first param is not a string"),""):(e.shift(),Array.isArray(e[0])&&1==e.length&&(e=e[0]),o.replace(/\{(\d+)\}/g,function(t,n){return e[n]}))},cc._RF.pop()},{}],ForgetPassView:[function(e,t,n){"use strict";cc._RF.push(t,"d24adTJgD5AHLT6TU9TFm1m","ForgetPassView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("../msgbox/PanelHelp")),h=i(e("./Validator")),u=e("../framework/external/protoc"),p=i(e("../common/component/CountDownCode")),{ccclass:g,property:m}=cc._decorator;let f=class extends l.default{constructor(){super(...arguments),this.btnClose=null,this.btnCountDown=null,this.hidePassNode=null,this.emailEditBox=null,this.m_emailStr="",this.codeEditBox=null,this.m_codeStr="",this.passwordEditBox=null,this.m_passwordStr="",this.service=null}static getPrefabUrl(){return"login/prefabs/ForgetPassView"}onLoad(){super.onLoad(),this.bindEvents(),this.btnClose.on(cc.Node.EventType.TOUCH_END,()=>{this.close()}),this.btnCountDown.active=!1}bindEvents(){this.emailEditBox.node.on("editing-did-began",this.onEmailBegan,this),this.emailEditBox.node.on("editing-did-ended",this.onEmailEnded,this),this.emailEditBox.node.on("editing-return",this.onEmailEnded,this),this.emailEditBox.node.on("text-changed",this.onEmailChanged,this),this.codeEditBox.node.on("editing-did-began",this.onCodeBegan,this),this.codeEditBox.node.on("editing-did-ended",this.onCodeEnded,this),this.codeEditBox.node.on("editing-return",this.onCodeEnded,this),this.codeEditBox.node.on("text-changed",this.onCodeChanged,this),this.passwordEditBox.node.on("editing-did-began",this.onPassWordBegan,this),this.passwordEditBox.node.on("editing-did-ended",this.onPassWordEnded,this),this.passwordEditBox.node.on("editing-return",this.onPassWordEnded,this),this.passwordEditBox.node.on("text-changed",this.onPassWordChanged,this)}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_S2C_GetCheckCode",this.onEvent_S2C_GetCheckCode),this.registerEvent("Event_S2C_ResetPassword",this.onEvent_S2C_ResetPassword)}startCountDown(){this.btnCountDown.getComponent(p.default)._doStartTime()}onEmailBegan(e){this.emailEditBox.string=this.m_emailStr}onEmailEnded(e){this.m_emailStr.length<=0||(this.emailEditBox.string=this.m_emailStr)}onEmailChanged(e){this.m_emailStr=e.string}onCodeBegan(e){this.codeEditBox.string=this.m_codeStr}onCodeEnded(e){this.m_codeStr.length<=0||(this.codeEditBox.string=this.m_codeStr)}onCodeChanged(e){this.m_codeStr=e.string}onPassWordBegan(e){this.passwordEditBox.string=this.m_passwordStr}onPassWordEnded(e){this.m_passwordStr.length<=0||(this.passwordEditBox.string=this.m_passwordStr)}onPassWordChanged(e){this.m_passwordStr=e.string}onClick(e,t){switch(e){case"btnClose":this.close();break;case"btnSetPass":this.clickSetPass();break;case"btnGetCode":this.clickGetCodeHanlder();break;case"btnHidePassword":this.clickHidePass()}}clickHidePass(){let e=this.hidePassNode.getChildByName("iconHide"),t=this.hidePassNode.getChildByName("iconShow");e.active=!e.active,t.active=!t.active,this.passwordEditBox.inputFlag=t.active?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD}clickGetCodeHanlder(){let e=new h.default,t=this.m_emailStr;e.add(t,[{strategy:"isEmail",errorMsg:a.i18n.REGISTER.EMAILWRONG}]),e.add(t,[{strategy:"isNonEmpty",errorMsg:a.i18n.REGISTER.EMAILINFORMATIONEMPTY}]);let n=e.start();n?d.default.showTip(n):(this.startCountDown(),this.requestGetCheckCode())}requestGetCheckCode(){let e=this.m_emailStr,t=u.MST.C2S_GetCheckCode.create({serial:r.Manager.netManager.getNewSeqId(),username:e}),n=u.MST.C2S_GetCheckCode.encode(t).finish();s.LobbyService.instance.sendMsg(u.MST.C2S_GetCheckCode,u.MST.OuterOpcode_Lobby.C2S_GetCheckCode,n)}onEvent_S2C_GetCheckCode(){d.default.showTip(a.i18n.REGISTER.PLEASECHECK)}validataFunc(){let e=new h.default,t=this.m_codeStr;e.add(t,[{strategy:"isNonEmpty",errorMsg:a.i18n.REGISTER.CODEINFORMATIONEMPTY}]);let n=this.m_emailStr;e.add(n,[{strategy:"isNonEmpty",errorMsg:a.i18n.REGISTER.EMAILINFORMATIONEMPTY}]);let o=this.m_passwordStr;return e.add(o,[{strategy:"minLength:8",errorMsg:a.i18n.REGISTER.PASSWORD8}]),e.start()}clickSetPass(){let e=this.validataFunc();e?d.default.showTip(e):this.requestResetPassword()}requestResetPassword(){let e=this.m_emailStr,t=this.m_passwordStr,n=this.m_codeStr,o=u.MST.C2S_ResetPassword.create({serial:r.Manager.netManager.getNewSeqId(),username:e,password:t,checkCode:n}),i=u.MST.C2S_ResetPassword.encode(o).finish();s.LobbyService.instance.sendMsg(u.MST.C2S_ResetPassword,u.MST.OuterOpcode_Lobby.C2S_ResetPassword,i)}onEvent_S2C_ResetPassword(){d.default.showTip(a.i18n.REGISTER.CHANGEPASSWORDSUCCESS),this.close()}};o([m(cc.Node)],f.prototype,"btnClose",void 0),o([m(cc.Node)],f.prototype,"btnCountDown",void 0),o([m(cc.Node)],f.prototype,"hidePassNode",void 0),o([m(cc.EditBox)],f.prototype,"emailEditBox",void 0),o([m(cc.EditBox)],f.prototype,"codeEditBox",void 0),o([m(cc.EditBox)],f.prototype,"passwordEditBox",void 0),f=o([g,c.injectService(s.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/component/CountDownCode":"CountDownCode","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./Validator":"Validator"}],Framework:[function(e,t,n){"use strict";cc._RF.push(t,"62e5c5yqsdAGI6fxoZ3NCIO","Framework"),Object.defineProperty(n,"__esModule",{value:!0}),n.Manager=n._FramewokManager=void 0;const o=e("./base/Language"),i=e("./event/EventDispatcher"),a=e("./database/DataBase"),r=e("./base/UIManager"),s=e("./base/LocalStorage"),c=e("./assetManager/AssetManager"),l=e("./assetManager/CacheManager"),d=e("./base/Singleton"),h=e("./adaptor/Adaptor");class u{get language(){return d.getSingleton(o.Language)}get eventDispatcher(){return d.getSingleton(i.EventDispatcher)}get dataBase(){return d.getSingleton(a.DataBase)}get uiManager(){return d.getSingleton(r.UIManager)}get localStorage(){return d.getSingleton(s.LocalStorage)}get assetManager(){return d.getSingleton(c.AssetManager)}get cacheManager(){return d.getSingleton(l.CacheManager)}get adaptor(){return d.getSingleton(h.Adaptor)}}n._FramewokManager=u,n.Manager=new u,cc._RF.pop()},{"./adaptor/Adaptor":"Adaptor","./assetManager/AssetManager":"AssetManager","./assetManager/CacheManager":"CacheManager","./base/Language":"Language","./base/LocalStorage":"LocalStorage","./base/Singleton":"Singleton","./base/UIManager":"UIManager","./database/DataBase":"DataBase","./event/EventDispatcher":"EventDispatcher"}],GameData:[function(e,t,n){"use strict";cc._RF.push(t,"ae8cfivGvhC0Jggi9zclct/","GameData"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameData=void 0,n.GameData=class{get bundle(){return""}clear(){}onLanguageChange(){}},cc._RF.pop()},{}],GameEventInterface:[function(e,t,n){"use strict";cc._RF.push(t,"9d7388eazNLcIIuXMBOD91H","GameEventInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"0f1756Lr+VDj6Y+gmnLwmYB","GameManager");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.gameManager=void 0;const i=e("../../framework/base/Singleton"),a=e("../event/LogicEvent"),r=e("../base/HotUpdate"),s=e("../../hall/HallEvent"),c=o(e("../../msgbox/PanelHelp")),l=e("../language/LanguageImpl"),d=e("./Manager");n.gameManager=function(){return i.getSingleton(h)};class h{constructor(){this.updateFailedNum=0,this.curGame=null,this.isLoading=!1}static Instance(){return this._instance||(this._instance=new h)}enterGame(e){if(this.isLoading)return void cc.log("\u6b63\u5728\u66f4\u65b0\u6e38\u620f\uff0c\u8bf7\u7a0d\u7b49");this.curGame=e,this.isLoading=!0,r.HotUpdate.allGameConfig[this.curGame.subpackageName]||(r.HotUpdate.allGameConfig[this.curGame.subpackageName]=e);let t=r.HotUpdate.allGameConfig[this.curGame.subpackageName];r.HotUpdate.subGameUpdateType==r.SubGameUpdateType.Normal&&t.isLoaded?(cc.log("\u6e38\u620f\u5df2\u7ecf\u52a0\u8f7d\u8fc7\u4e86"),this.onGameReady()):(dispatch("onCheckUpdateGameStart",this.curGame.subpackageName),this.checkUpdate(t))}enterGameNoUpdate(e){if(this.isLoading)return cc.log("\u6b63\u5728\u66f4\u65b0\u6e38\u620f\uff0c\u8bf7\u7a0d\u7b49"),void c.default.showMsgBox("",l.i18n.Tips.GameIsLoading);this.curGame=e,this.isLoading=!0,r.HotUpdate.allGameConfig[this.curGame.subpackageName]||(r.HotUpdate.allGameConfig[this.curGame.subpackageName]=e),r.HotUpdate.allGameConfig[this.curGame.subpackageName].isLoaded?(cc.log("\u6e38\u620f\u5df2\u7ecf\u52a0\u8f7d\u8fc7\u4e86"),this.onGameReady()):this.loadSubpackage()}onGameReady(){this.isLoading&&(this.isLoading=!1),dispatch(a.LogicEvent.ENTER_GAME_READY,this.curGame.subpackageName)}checkUpdate(e){let t=this;cc.log(`\u68c0\u6d4b\u66f4\u65b0\u4fe1\u606f:${e.gameName}(${e.subpackageName})`),r.HotUpdate.checkGameUpdate(this.curGame.subpackageName,(n,o)=>{if(n==r.AssetManagerCode.NEW_VERSION_FOUND)r.HotUpdate.onDownload=this.onDownload.bind(this),cc.log(`\u68c0\u6d4b\u5230${e.gameName}(${e.subpackageName})\u6709\u65b0\u7684\u7248\u672c`),r.HotUpdate.hotUpdate(),c.default.hideLoading(),dispatch("CloseInviteView"),dispatch("onCheckUpdateGameEnd",this.curGame.subpackageName);else if(o==r.AssetManagerState.TRY_DOWNLOAD_FAILED_ASSETS)r.HotUpdate.onDownload=this.onDownload.bind(this),cc.log("\u6b63\u5728\u5c1d\u8bd5\u91cd\u65b0\u4e0b\u8f7d\u4e4b\u524d\u4e0b\u8f7d\u5931\u8d25\u7684\u8d44\u6e90"),r.HotUpdate.downloadFailedAssets();else if(n==r.AssetManagerCode.UPDATE_FINISHED){this.isLoading=!1;let e=r.HotUpdate.getGameLocalName(this.curGame.subpackageName);dispatch(s.HallEvent.DOWNLOAD_PROGRESS,{progress:1.1,config:e}),dispatch("onCheckUpdateGameEnd",this.curGame.subpackageName)}else if(n==r.AssetManagerCode.ALREADY_UP_TO_DATE)dispatch("onCheckUpdateGameEnd",this.curGame.subpackageName),e.isLoaded?t.onGameReady():t.loadSubpackage();else if(n==r.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST||n==r.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST||n==r.AssetManagerCode.ERROR_PARSE_MANIFEST){this.isLoading=!1;let e="\u4e0b\u8f7d\u7248\u672c\u6587\u4ef6\u5931\u8d25!";n==r.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST?e="\u627e\u4e0d\u5230\u7248\u672c\u6587\u4ef6!":n==r.AssetManagerCode.ERROR_PARSE_MANIFEST&&(e="\u7248\u672c\u6587\u4ef6\u89e3\u6790\u9519\u8bef!")}else n==r.AssetManagerCode.CHECKING?cc.log("\u6b63\u5728\u68c0\u6d4b\u66f4\u65b0!!"):(this.isLoading=!1,cc.log(`\u68c0\u6d4b\u66f4\u65b0\u5f53\u524d\u72b6\u6001 code : ${n} state : ${o}`))})}loadSubpackage(){cc.log(`updateGame : ${this.curGame.subpackageName}`);let e=this,t=r.HotUpdate.allGameConfig[this.curGame.subpackageName];cc.assetManager.loadBundle(t.subpackageName,n=>{e.isLoading=!1,n?(cc.error(`load subpackage : ${t.subpackageName} fail !!!`),t.isLoaded=!1):(cc.log(`load subpackage : ${t.subpackageName} success !!!`),t.isLoaded=!0,e.onGameReady())})}onDownload(e,t,n,o,i,a,c,l,h){let u=0,p=r.HotUpdate.getGameLocalName(this.curGame.subpackageName);if(c==r.AssetManagerCode.UPDATE_PROGRESSION){u=a==Number.NaN?0:a;let e=d.Manager.localStorage.getItem(p.gameName+"HotUpdateFailePercent");e&&e>u&&(u=e),dispatch(s.HallEvent.DOWNLOAD_PROGRESS,{progress:u,config:p})}else if(c==r.AssetManagerCode.ALREADY_UP_TO_DATE)u=1,dispatch(s.HallEvent.DOWNLOAD_PROGRESS,{progress:u,config:p});else if(c==r.AssetManagerCode.UPDATE_FINISHED)u=1.1,cc.log(`\u66f4\u65b0${p.gameName}\u6210\u529f`),this.isLoading=!1,this.updateFailedNum=0,d.Manager.localStorage.setItem(p.gameName+"HotUpdateFailePercent",0),setTimeout(()=>{dispatch(s.HallEvent.DOWNLOAD_PROGRESS,{progress:u,config:p})},500);else if(c==r.AssetManagerCode.UPDATE_FAILED||c==r.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST||c==r.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST||c==r.AssetManagerCode.ERROR_PARSE_MANIFEST||c==r.AssetManagerCode.ERROR_DECOMPRESS)if(d.Manager.localStorage.getItem(p.gameName+"HotUpdateFailePercent")||d.Manager.localStorage.setItem(p.gameName+"HotUpdateFailePercent",i),this.updateFailedNum++,this.updateFailedNum<4){let e=r.HotUpdate.allGameConfig[this.curGame.subpackageName];this.checkUpdate(e)}else u=-1,this.isLoading=!1,cc.error(`\u66f4\u65b0${p.gameName}\u5931\u8d25`),dispatch(s.HallEvent.DOWNLOAD_PROGRESS,{progress:u,config:p})}}h._instance=null,cc._RF.pop()},{"../../framework/base/Singleton":"Singleton","../../hall/HallEvent":"HallEvent","../../msgbox/PanelHelp":"PanelHelp","../base/HotUpdate":"HotUpdate","../event/LogicEvent":"LogicEvent","../language/LanguageImpl":"LanguageImpl","./Manager":"Manager"}],GameService:[function(e,t,n){"use strict";cc._RF.push(t,"d6c33czRRRKAJsyyZzeZ+Dh","GameService"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameService=void 0;const o=e("./CommonService");class i extends o.CommonService{static get instance(){return this._instance||(this._instance=new i)}}n.GameService=i,cc._RF.pop()},{"./CommonService":"CommonService"}],GameView:[function(e,t,n){"use strict";cc._RF.push(t,"6615fp4kFJCp59X9P6X+odj","GameView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../framework/ui/UIView")),r=e("../manager/Manager"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{onLoad(){r.Manager.gameView=this,super.onLoad()}onDestroy(){this.audioHelper&&this.audioHelper.stopAllEffects(),r.Manager.gameView=null,super.onDestroy()}};l=o([s],l),n.default=l,cc._RF.pop()},{"../../framework/ui/UIView":"UIView","../manager/Manager":"Manager"}],GiveGoldNotiPanel:[function(e,t,n){"use strict";cc._RF.push(t,"ef66dGZ2uxBFYZIs+M6CEd9","GiveGoldNotiPanel");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../common/language/LanguageImpl"),s=e("../global/UtilMgr"),{ccclass:c,property:l}=cc._decorator;let d=class extends a.default{constructor(){super(...arguments),this.lbl_content=null,this.lbl_count=null}static getPrefabUrl(){return"MultiCurrency/prefabs/GiveGoldNotiPanel"}show(e){let t=e[0];this.content=this.node.getChildByName("content"),this.showWithAction(!0),this.lbl_content.string=String.format(r.i18n.EXPERIENCE_FIELD.GiveGold,s.UtilMgr.changeMoney(t.reliefGold)),this.lbl_count.string=String.format(r.i18n.EXPERIENCE_FIELD.residueCount,t.remainCount)}onClick(){this.closeWithAction()}};o([l(cc.Label)],d.prototype,"lbl_content",void 0),o([l(cc.Label)],d.prototype,"lbl_count",void 0),d=o([c],d),n.default=d,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],GlobalAt:[function(e,t,n){"use strict";cc._RF.push(t,"4f052qb3zVJB7pROFaM4Y9p","GlobalAt");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=o(e("./common/manager/DataManager")),a=o(e("./common/manager/URLManager")),r=o(e("./framework/log/Logger")),s=o(e("./Helpder/ShareHelpder/ShareHelpder"));class c{constructor(){window.G=this}static getInstance(){return null===this.s_instance&&(this.s_instance=new c),this.s_instance}static destroy(){null!==this.s_instance&&this.s_instance.destroy(),this.s_instance=null}get Logger(){return r.default.getInstance()}get ShareHelpder(){return s.default.getInstance()}get URLMgr(){return a.default.getInstance()}get DataMgr(){return i.default.getInstance()}destroy(){delete window.G}}n.default=c,c.s_instance=new c,cc._RF.pop()},{"./Helpder/ShareHelpder/ShareHelpder":"ShareHelpder","./common/manager/DataManager":"DataManager","./common/manager/URLManager":"URLManager","./framework/log/Logger":"Logger"}],GlobalAudio:[function(e,t,n){"use strict";cc._RF.push(t,"1facfFsEXlCYKgKMntC7Wla","GlobalAudio");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../framework/base/AudioComponent")),r=e("../manager/Manager"),{ccclass:s,property:c,menu:l}=cc._decorator;let d=class extends a.default{playMusic(e,t,n=!0){let o=this;return new Promise(i=>{this.audioData&&(this.audioData.curMusicUrl=e,this.audioData.curBundle=t,this.audioData.isMusicOn&&r.Manager.cacheManager.getCacheByAsync(e,cc.AudioClip,t).then(t=>{t?(o.stopMusic(),cc.audioEngine.playMusic(t,n),i({url:e,isSuccess:!0})):i({url:e,isSuccess:!1})}))})}playEffect(e,t,n=!1){return new Promise(o=>{this.audioData&&(this.audioData.isEffectOn?r.Manager.cacheManager.getCacheByAsync(e,cc.AudioClip,t).then(e=>{this.audioData&&(e?(this.audioData.curEffectId=cc.audioEngine.playEffect(e,n),o(this.audioData.curEffectId)):o(this.audioData.curEffectId))}):(this.audioData.curEffectId=-1,o(-1)))})}onLoad(){this.effectVolume=this.audioData.effectVolume,this.musicVolume=this.audioData.musicVolume}};d=o([s,l("common/component/GlobalAudio")],d),n.default=d,cc._RF.pop()},{"../../framework/base/AudioComponent":"AudioComponent","../manager/Manager":"Manager"}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"39555F/0sBJLY7DVwadtuL8","Global"),Object.defineProperty(n,"__esModule",{value:!0}),n.goToLogin=n.reStartGame=void 0;const o=e("../common/event/LogicEvent"),i=e("../common/manager/Manager"),a=e("../common/net/LobbyService");n.reStartGame=function(){dispatch(o.GAME_RESTART_EVENT),i.Manager.uiManager.closeExcept(null),cc.audioEngine.stopAll(),a.LobbyService.instance.reset(),a.LobbyService.instance.close(),cc.game.restart(),cc.sys.garbageCollect()},n.goToLogin=function(){cc.audioEngine.stopAll(),a.LobbyService.instance.close(),i.Manager.localStorage.cleanLoginCache(),cc.sys.garbageCollect(),dispatch(o.LogicEvent.ENTER_LOGIN)},cc._RF.pop()},{"../common/event/LogicEvent":"LogicEvent","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService"}],GoodsItem:[function(e,t,n){"use strict";cc._RF.push(t,"eef41sVc2lBKZYhvwm90g1V","GoodsItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../global/UtilMgr"),{ccclass:a,property:r}=cc._decorator;let s=class extends cc.Component{constructor(){super(...arguments),this.chipIcon=null,this.amount1=null,this.amount2=null,this.chipFrame=[],this._rechargeView=null,this._itemId=0}onLoad(){}init(e,t,n){this._rechargeView=e,this._itemId=n,t.give?this.amount1.string="<color=#ffffff>"+i.UtilMgr.changeMoney(t.gold)+"+ </c><color=#EFED30>"+i.UtilMgr.changeMoney(t.give)+"</color>":this.amount1.string=i.UtilMgr.changeMoney(t.gold),this.amount2.string=i.UtilMgr.changeMoney(t.nowPrice);let o=this.chipFrame[n]?this.chipFrame[n]:this.chipFrame[this.chipFrame.length-1];this.chipIcon.spriteFrame=o}onClickItem(){this._rechargeView.onClickGoodsItem(this._itemId)}};o([r(cc.Sprite)],s.prototype,"chipIcon",void 0),o([r(cc.RichText)],s.prototype,"amount1",void 0),o([r(cc.Label)],s.prototype,"amount2",void 0),o([r([cc.SpriteFrame])],s.prototype,"chipFrame",void 0),s=o([a],s),n.default=s,cc._RF.pop()},{"../global/UtilMgr":"UtilMgr"}],GuideExitView:[function(e,t,n){"use strict";cc._RF.push(t,"ac073IfM0JC7YKJma4V8Fuq","GuideExitView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.m_callbackInterface=null}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg")}start(){}static getPrefabUrl(){return"common/prefabs/GuideExitView"}show(e){super.show(e),this.m_callbackInterface=e[0]}onClickYes(){this.m_callbackInterface.yesCallback&&this.m_callbackInterface.yesCallback(),this.close()}onClickNo(){this.m_callbackInterface.noCallback&&this.m_callbackInterface.noCallback(),this.close()}onClick(e){switch(e){case"btnYes":this.onClickYes();break;case"btnNo":this.onClickNo()}}};c=o([r],c),n.default=c,cc._RF.pop()},{"../../framework/ui/UIView":"UIView"}],HallBetRankItem:[function(e,t,n){"use strict";cc._RF.push(t,"488946P629MZ73FTUzhqVa+","HallBetRankItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/config/Config"),r=i(e("../common/utils/NumberUtils")),s=e("../framework/base/Defines"),c=i(e("../framework/ui/UIView")),l=e("../global/UtilMgr"),{ccclass:d,property:h}=cc._decorator;let u=class extends c.default{constructor(){super(...arguments),this.gold=null,this.gamesNode=null,this.playerNode=null,this.iconGame=null}onLoad(){super.onLoad()}updateItem(e,t){let n=this.gamesNode.getChildByName("labGame").getComponent(cc.Label),o=this.playerNode.getChildByName("nick").getComponent(cc.Label),i=this.playerNode.getChildByName("imgAvatar").getComponent(cc.Sprite);n.string=e.gameName,o.string=e.Nick,this.gold.string=r.default.converToC(e.Score),this.refreshGameIcon(e),e.headImgUrl&&l.UtilMgr.loadHeadImg(i,e.headImgUrl,e.headImgUrl,this)}refreshGameIcon(e){let t=`hall/images/domino/icon_${a.Config.games[e.gameName].disName}_new`;console.log(t),this.iconGame.loadImage({url:t,view:this,bundle:s.BUNDLE_RESOURCES})}onClick(e){console.log(e)}};o([h(cc.Label)],u.prototype,"gold",void 0),o([h(cc.Node)],u.prototype,"gamesNode",void 0),o([h(cc.Node)],u.prototype,"playerNode",void 0),o([h(cc.Sprite)],u.prototype,"iconGame",void 0),u=o([d],u),n.default=u,cc._RF.pop()},{"../common/config/Config":"Config","../common/utils/NumberUtils":"NumberUtils","../framework/base/Defines":"Defines","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],HallData:[function(e,t,n){"use strict";cc._RF.push(t,"5fd49CVed5DjqQIAJjEDZgr","HallData");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../base/BaseData"));let r=class extends a.default{constructor(){super(),this.games=null,this.winRankList=null,this.betRankList=null,this.signinData=null,this.notice=[],this.missionList=[]}destroy(){}};r=o([i(e("../framework/decorator/ClassDecorator")).default.classname],r),n.default=r,cc._RF.pop()},{"../base/BaseData":"BaseData","../framework/decorator/ClassDecorator":"ClassDecorator"}],HallEvent:[function(e,t,n){"use strict";cc._RF.push(t,"6ae98MEKWhC2o0VtLuxTrDU","HallEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.HallEvent=void 0,function(e){e.DOWNLOAD_PROGRESS="DOWNLOAD_PROGRESS",e.UPDATE_MONEY="UPDATE_MONEY"}(n.HallEvent||(n.HallEvent={})),cc._RF.pop()},{}],HallGameItem:[function(e,t,n){"use strict";cc._RF.push(t,"4a7c3tXZQlIiLVrD23bn11V","HallGameItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/GameManager"),r=i(e("../msgbox/PanelHelp")),s=e("../common/language/LanguageImpl"),c=e("../common/base/HotUpdate"),l=e("../framework/base/Defines"),d=i(e("../framework/ui/UIView")),h=e("../common/config/Config"),u=e("./HallEvent"),p=e("../common/net/LobbyService"),g=e("../framework/decorator/Decorators"),m=e("../common/net/CommonService"),f=e("../common/manager/Manager"),b=e("../global/UtilMgr"),y=e("../global/Global"),_=e("../framework/event/EventApi"),{ccclass:v,property:w}=cc._decorator;let C=class extends d.default{constructor(){super(...arguments),this.icon=null,this.picName=null,this.install=null,this.newVersion=null,this.loading=null,this.iconWait=null,this.gameSpine=null,this.crash=null,this._itemId=0,this._sortId=0,this._gameInfo=null,this._path="hall/images/dt_game_icon_",this._pathEN="hall/images/dt_game_name_",this._pathHI="languageRes/hindi/hall/dt_game_name_",this._language=""}onLoad(){super.onLoad(),cc.tween(this.iconWait).repeatForever(cc.tween().by(.3,{angle:30}).delay(.01)).start(),this.loading.active=!1,this._language=f.Manager.language.getLanguage()}bindingEvents(){super.bindingEvents(),this.registerEvent(u.HallEvent.DOWNLOAD_PROGRESS,this.onDownloadProgess),this.registerEvent(g.makeKey(m.serverType.Lobby,m.protoPackage.hall.HallCmd.CMD_CheckPlayerJoinGameReq),this.onCheckPlayerJoinGame),this.registerEvent("onCheckUpdateGameStart",this.onCheckUpdateGameStart),this.registerEvent("onCheckUpdateGameEnd",this.onCheckUpdateGameEnd),l.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(_.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onCheckUpdateGameStart(e){this._gameInfo&&e==h.Config.games[this._gameInfo.gameId].name&&this.loading&&(this.loading.active=!0)}onCheckUpdateGameEnd(e){this._gameInfo&&e==h.Config.games[this._gameInfo.gameId].name&&this.loading&&(this.loading.active=!1)}onDownloadProgess(e){if(G.Logger.log("onDownloadProgess == ",e.progress),this._gameInfo&&e.config.gameName==h.Config.games[this._gameInfo.gameId].name){let t=cc.find("Background/progressBar",this.node).getComponent(cc.ProgressBar),n=cc.find("Background/progressBar/progress",this.node).getComponent(cc.Label);-1==e.progress?(t.node.active=!1,r.default.showTip(s.i18n.TIPS.DOWNLOADFAILED)):e.progress<=1?(t.node.active=!0,e.progress>t.progress&&(t.progress=e.progress,n.string=Math.floor(100*e.progress)+"%")):(t.node.active=!1,this.install&&(this.install.active=!1),this.newVersion&&(this.newVersion.active=!1),r.default.showTip(s.i18n.TIPS.DOWNLOADSUCCEED))}}onLanguageChange(e){this._language=e,this.updateItem(this._gameInfo,this._itemId)}updateItem(e,t){cc.log(e,"HallGameItem"),this._gameInfo=e,this._sortId=e.showSort,this._itemId=t,this.install&&(this.install.active=!1),this.newVersion&&(this.newVersion.active=!1);let n=this.getGameSpineByGameID(e.gameId);if(n){this.icon.node.active=!1,this.gameSpine.node.active=!0,this.gameSpine.skeletonData=n,this.gameSpine.setAnimation(0,"newAnimation",!0);let t=this._pathEN;this._language===cc.sys.LANGUAGE_ENGLISH&&(t=this._pathEN),this._language===cc.sys.LANGUAGE_HINDI&&(t=this._pathHI);let o=t+e.gameId;if(900018==e.gameId)return;this.picName.loadImage({url:o,view:this,bundle:l.BUNDLE_RESOURCES})}else{this.icon.node.active=!0,this.gameSpine.node.active=!1;let t=this._path+e.gameId;this.icon.loadImage({url:t,view:this,bundle:l.BUNDLE_RESOURCES})}}getGameSpineByGameID(e){switch(e){case h.Config.GameId.Crash:return this.crash;default:return null}}onBtnClick(e,t){if(this._gameInfo.isOpen){r.default.showLoading(s.i18n.Waiting.EnterGame);let e={gameId:this._gameInfo.gameId},t=m.protoPackage.hall.CheckPlayerJoinGameReq.create(e),n=m.protoPackage.hall.CheckPlayerJoinGameReq.encode(t).finish();this.service.sendMsg(m.serverType.Lobby,m.protoPackage.hall.HallCmd.CMD_CheckPlayerJoinGameReq,n)}else r.default.showTip(s.i18n.TIPS.NOTOPENPLEASEWAIT);this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES)}onCheckPlayerJoinGame(e){if(this._gameInfo&&e.gameId==this._gameInfo.gameId)if(e.currentGameId){let t=h.Config.games[e.currentGameId].disName;r.default.showMsgBox("",String.format(s.i18n.TIPS.CHECKJOINGAME,t))}else{let e=b.UtilMgr.getGameManifestVersion(h.Config.games[this._gameInfo.gameId].subName);if(G.Logger.log("JoinGame",e),e)if(this._gameInfo.gameVersionCode&&parseInt(this._gameInfo.gameVersionCode)>parseInt(e)){let e=c.HotUpdate.allGameConfig[h.Config.games[this._gameInfo.gameId].subName];e&&e.isLoaded?r.default.showDialog("",s.i18n.TIPS.GAMENEWVERSION,()=>{y.reStartGame()},()=>{this.enterGame()}):this.enterGame()}else G.Logger.log("\u8df3\u8fc7\u66f4\u65b0"),this.enterGame(!0);else this.enterGame()}}enterGame(e){let t=new c.GameConfig(h.Config.games[this._gameInfo.gameId].name,h.Config.games[this._gameInfo.gameId].subName,this._itemId);e?a.gameManager().enterGameNoUpdate(t):a.gameManager().enterGame(t)}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([w(cc.Sprite)],C.prototype,"icon",void 0),o([w(cc.Sprite)],C.prototype,"picName",void 0),o([w(cc.Node)],C.prototype,"install",void 0),o([w(cc.Node)],C.prototype,"newVersion",void 0),o([w(cc.Node)],C.prototype,"loading",void 0),o([w(cc.Node)],C.prototype,"iconWait",void 0),o([w(sp.Skeleton)],C.prototype,"gameSpine",void 0),o([w(sp.SkeletonData)],C.prototype,"crash",void 0),C=o([v,g.injectService(p.LobbyService.instance)],C),n.default=C,cc._RF.pop()},{"../common/base/HotUpdate":"HotUpdate","../common/config/Config":"Config","../common/language/LanguageImpl":"LanguageImpl","../common/manager/GameManager":"GameManager","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/ui/UIView":"UIView","../global/Global":"Global","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./HallEvent":"HallEvent"}],HallGuide:[function(e,t,n){"use strict";cc._RF.push(t,"5fdb4QdNY1A1puj0f27KJPw","HallGuide");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/Manager"),r=i(e("../framework/ui/UIView")),s=e("../global/User"),c=e("../common/net/CommonService"),l=e("../framework/decorator/Decorators"),d=e("../common/net/LobbyService"),h=i(e("./HallGameItem")),u=e("../common/language/LanguageImpl"),p=e("../global/UtilMgr"),{ccclass:g,property:m}=cc._decorator;let f=class extends r.default{constructor(){super(...arguments),this.renwu=null,this.kuang=null,this.skip=null,this.tipLabel=null,this.userHead=null}static getPrefabUrl(){return"hall/prefabs/HallViewGuide"}onLoad(){super.onLoad(),this.hall=this.node.getChildByName("hall"),p.UtilMgr.loadHeadImg(this.userHead,s.User._headImgUrl,s.User._userID,this),this.hall.active=!1}show(e){super.show(e),e[0]&&"HallView"==cc.js.getClassName(e[0])&&(this.hallView=e[0],this.step=0,this.setStep())}start(){this.kuang&&(this.kuang.parent.getChildByName("Label").getComponent(cc.Label).language=u.i18n.GUIDE.continue)}setStep(){let e;switch(this.step++,this.step){case 1:this.hall.active=!0,this.hall.getChildByName("jiantou").active=!1,this.skip.position=cc.v2(40,-180),this.tipLabel.node.position=cc.v2(-230,55);break;case 2:this.hall.active=!0,e=this.hallView.node.getChildByName("hall_top").getChildByName("head").convertToWorldSpaceAR(cc.v2(0,0)),this.hall.getChildByName("mask").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("head").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("jiantou").active=!0,this.hall.getChildByName("jiantou").x=this.hall.getChildByName("mask").x,this.hall.getChildByName("jiantou").y=this.hall.getChildByName("mask").y-this.hall.getChildByName("mask").height-10-95,this.skip.position=cc.v2(40,-180),this.tipLabel.node.position=cc.v2(-230,55),this.hall.getChildByName("head").active=!0;break;case 3:this.hall.active=!0,e=this.hallView.share.convertToWorldSpaceAR(cc.v2(0,0)),this.hall.getChildByName("mask").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("share").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("jiantou").x=this.hall.getChildByName("mask").x,this.hall.getChildByName("jiantou").y=this.hall.getChildByName("mask").y-this.hall.getChildByName("mask").height-30-62,this.hall.getChildByName("head").active=!1,this.hall.getChildByName("share").active=!0,this.renwu.scaleX=-1,this.renwu.parent.x=-this.renwu.parent.x,this.skip.position=cc.v2(-40,-180),this.tipLabel.node.position=cc.v2(-215,55),this.kuang.scaleX=-1,this.kuang.parent.x=this.kuang.parent.x+200;break;case 4:this.hall.active=!0,e=this.hallView.daili.convertToWorldSpaceAR(cc.v2(0,0)),this.hall.getChildByName("mask").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("daili").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("mask").getComponent(cc.Mask).type=cc.Mask.Type.RECT,this.hall.getChildByName("jiantou").x=this.hall.getChildByName("mask").x,this.hall.getChildByName("jiantou").y=this.hall.getChildByName("mask").y+this.hall.getChildByName("mask").height+120,this.hall.getChildByName("jiantou").scaleY=1,this.hall.getChildByName("share").active=!1,this.hall.getChildByName("daili").active=!0,this.renwu.scaleX=1,this.renwu.parent.x=-this.renwu.parent.x,this.skip.position=cc.v2(40,-180),this.tipLabel.node.position=cc.v2(-230,55),this.kuang.scaleX=1,this.kuang.parent.x=this.kuang.parent.x-200;break;case 5:this.hall.active=!0,e=this.hallView.shop.convertToWorldSpaceAR(cc.v2(0,0)),this.hall.getChildByName("mask").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("shop").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("mask").getComponent(cc.Mask).type=cc.Mask.Type.RECT,this.hall.getChildByName("jiantou").x=this.hall.getChildByName("mask").x,this.hall.getChildByName("jiantou").y=this.hall.getChildByName("mask").y+this.hall.getChildByName("mask").height+88,this.hall.getChildByName("shop").active=!0,this.hall.getChildByName("daili").active=!1,this.renwu.parent.x=this.renwu.parent.x+100,this.kuang.parent.x=this.kuang.parent.x+100,this.skip.position=cc.v2(40,-180);break;case 6:this.hall.active=!0,this.hall.getChildByName("mask").position=cc.v2(0,0),this.hall.getChildByName("mask").setContentSize(cc.size(0,0)),this.hall.getChildByName("jiantou").active=!1,this.hall.getChildByName("jiantou").x=this.hall.getChildByName("mask").x,this.hall.getChildByName("jiantou").y=this.hall.getChildByName("mask").y+this.hall.getChildByName("mask").height,this.hall.getChildByName("shop").active=!1,this.skip.position=cc.v2(40,-180);break;case 7:this.hall.active=!0,this.renwu.active=!1,this.kuang.parent.active=!1,this.hallView.scroll_gameList.content.children.length>0&&(e=this.hallView.scroll_gameList.content.children[2].convertToWorldSpaceAR(cc.v2(0,0))),this.hall.getChildByName("mask").getComponent(cc.Mask).type=cc.Mask.Type.RECT,this.hall.getChildByName("mask").position=this.node.convertToNodeSpaceAR(e),this.hall.getChildByName("mask").setContentSize(cc.size(263,450)),this.hall.getChildByName("jiantou").active=!0,this.hall.getChildByName("jiantou").x=this.hall.getChildByName("mask").x,this.hall.getChildByName("jiantou").y=this.hall.getChildByName("mask").y+this.hall.getChildByName("mask").height/2+50,this.skip.position=cc.v2(120,-210);break;case 8:this.toGame(),this.reqGuide(),this.close()}this.step<7&&this.showTipLabel()}showTipLabel(){this.tipLabel.language=a.Manager.makeLanguage("GUIDE.tip"+this.step)}toGame(){this.hallView.scroll_gameList.content.children[2].getComponent(h.default).onBtnClick("","")}onClick(e,t){switch(e){case"skip":this.node.active=!1,this.reqGuide(),p.UtilMgr.popWindows("openSignin");break;default:this.setStep()}}reqGuide(){if(G.Logger.log(s.User._gameIds,s.User._popWindows),-1===s.User._gameIds.indexOf(2001)){let e=c.protoPackage.hall.ReqInsertNewPlayerGuid.create({gameId:2001}),t=c.protoPackage.hall.ReqInsertNewPlayerGuid.encode(e).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_ReqInsertNewPlayerGuid,t)}}};o([m(cc.Node)],f.prototype,"renwu",void 0),o([m(cc.Node)],f.prototype,"kuang",void 0),o([m(cc.Node)],f.prototype,"skip",void 0),o([m(cc.Label)],f.prototype,"tipLabel",void 0),o([m(cc.Sprite)],f.prototype,"userHead",void 0),f=o([g,l.injectService(d.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","./HallGameItem":"HallGameItem"}],HallLogic:[function(e,t,n){"use strict";cc._RF.push(t,"453618KXphPXKtmWnFztofy","HallLogic");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../common/base/Logic"),a=e("../common/event/LogicEvent"),r=e("../framework/base/Defines"),s=e("../common/manager/Manager"),c=e("../notice/RollNotice"),l=o(e("../setting/Setting")),d=o(e("../userInfo/UserInfo")),h=o(e("../service/ServiceView")),u=o(e("../recharge/RechargeView")),p=o(e("../withdrawal/WithdrawalView")),g=o(e("../share/ShareView")),m=o(e("../piggyBank/PiggyBankView")),f=o(e("../piggyBank/PBSettingPasswdView")),b=o(e("../withdrawal/SecondaryPwdView")),y=o(e("../withdrawal/SetSecondaryPwdView")),_=o(e("../common/language/LanguageChange")),v=o(e("../MultiCurrency/EnterRealFieldNotiPanel")),w=o(e("../MultiCurrency/GiveGoldNotiPanel")),C=o(e("../MultiCurrency/HintRechargePanel")),R=o(e("../rank/LeaderBoardView")),L=o(e("../banner/BannerView")),E=o(e("../WelfareCenter/WelfareCenterView")),S=o(e("./HallNewView")),I=o(e("../signin/SigninNew")),k=o(e("../minigame/MinigameView"));s.Manager.logicManager.push(class extends i.Logic{constructor(){super(...arguments),this.logicType=a.LogicType.HALL}get bundle(){return r.BUNDLE_RESOURCES}bindingEvents(){super.bindingEvents(),this.registerEvent(a.LogicEvent.ENTER_HALL,this.onEnterHall),this.registerEvent("rollNotice",this.onRollNotice),this.registerEvent("openSetting",this.onOpenSetting),this.registerEvent("openUserInfo",this.onOpenUserInfo),this.registerEvent("openService",this.onOpenService),this.registerEvent("openShareView",this.onOpenShareView),this.registerEvent("openRankView",this.onOpenRankView),this.registerEvent("openRechargeView",this.onOpenRechargeView),this.registerEvent("openWithdrawalView",this.onOpenWithdrawalView),this.registerEvent("openPiggyBankView",this.onOpenPiggyBankView),this.registerEvent("openPBSettingPasswdView",this.onOpenPBSettingPasswdView),this.registerEvent("openSetSecondaryPwdView",this.onOpenSetSecondaryPwdView),this.registerEvent("openSecondaryPwdView",this.onOpenSecondaryPwdView),this.registerEvent("openLanguageChangeView",this.onOpenLanguageChangeView),this.registerEvent("openEnterRealFieldNoti",this.toEnterRealFieldNotiPanel),this.registerEvent("openGiveGoldNoti",this.toGiveGoldNotiPanel),this.registerEvent("openHintRecharge",this.toHintRechargePanel),this.registerEvent("openBanner",this.openBannerPanel),this.registerEvent("openWelfareCenterView",this.openWelfareCenterView),this.registerEvent("openSigninView",this.openSigninView),this.registerEvent("openMinigameView",this.openMinigameView)}onLoad(){super.onLoad()}openWelfareCenterView(){s.Manager.uiManager.open({type:E.default,bundle:r.BUNDLE_RESOURCES})}openBannerPanel(e){e&&s.Manager.uiManager.open({type:L.default,bundle:r.BUNDLE_RESOURCES,args:[e]})}onOpenLanguageChangeView(){s.Manager.uiManager.open({type:_.default,bundle:r.BUNDLE_RESOURCES})}onRollNotice(e){G.Logger.log(e),e&&c.RollNoticeLogic.addContent(e.content)}openSigninView(){s.Manager.uiManager.open({type:I.default,bundle:r.BUNDLE_RESOURCES})}openMinigameView(){s.Manager.uiManager.open({type:k.default,bundle:r.BUNDLE_RESOURCES})}onEnterHall(e){s.Manager.uiManager.open({type:S.default,bundle:r.BUNDLE_RESOURCES,args:e})}onOpenSetting(){s.Manager.uiManager.open({type:l.default,bundle:r.BUNDLE_RESOURCES})}onOpenUserInfo(){s.Manager.uiManager.open({type:d.default,bundle:r.BUNDLE_RESOURCES})}onOpenService(e){s.Manager.uiManager.open({type:h.default,bundle:r.BUNDLE_RESOURCES,args:[e]})}onOpenShareView(){s.Manager.uiManager.open({type:g.default,bundle:r.BUNDLE_RESOURCES})}onOpenRankView(){s.Manager.uiManager.open({type:R.default,bundle:r.BUNDLE_RESOURCES})}onOpenRechargeView(){s.Manager.uiManager.open({type:u.default,bundle:r.BUNDLE_RESOURCES})}onOpenWithdrawalView(){s.Manager.uiManager.open({type:p.default,bundle:r.BUNDLE_RESOURCES})}onOpenPiggyBankView(e){s.Manager.uiManager.open({type:m.default,bundle:r.BUNDLE_RESOURCES,args:e})}onOpenPBSettingPasswdView(e){s.Manager.uiManager.open({type:f.default,bundle:r.BUNDLE_RESOURCES,args:e})}onOpenSetSecondaryPwdView(e){s.Manager.uiManager.open({type:y.default,bundle:r.BUNDLE_RESOURCES,args:[e]})}onOpenSecondaryPwdView(e){s.Manager.uiManager.open({type:b.default,bundle:r.BUNDLE_RESOURCES,args:[e]})}toEnterRealFieldNotiPanel(e){s.Manager.uiManager.open({type:v.default,bundle:r.BUNDLE_RESOURCES,args:[e]})}toGiveGoldNotiPanel(e){s.Manager.uiManager.open({type:w.default,bundle:r.BUNDLE_RESOURCES,args:[e]})}toHintRechargePanel(e){s.Manager.uiManager.open({type:C.default,bundle:r.BUNDLE_RESOURCES,zIndex:1,args:[e]})}}),cc._RF.pop()},{"../MultiCurrency/EnterRealFieldNotiPanel":"EnterRealFieldNotiPanel","../MultiCurrency/GiveGoldNotiPanel":"GiveGoldNotiPanel","../MultiCurrency/HintRechargePanel":"HintRechargePanel","../WelfareCenter/WelfareCenterView":"WelfareCenterView","../banner/BannerView":"BannerView","../common/base/Logic":"Logic","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageChange":"LanguageChange","../common/manager/Manager":"Manager","../framework/base/Defines":"Defines","../minigame/MinigameView":"MinigameView","../notice/RollNotice":"RollNotice","../piggyBank/PBSettingPasswdView":"PBSettingPasswdView","../piggyBank/PiggyBankView":"PiggyBankView","../rank/LeaderBoardView":"LeaderBoardView","../recharge/RechargeView":"RechargeView","../service/ServiceView":"ServiceView","../setting/Setting":"Setting","../share/ShareView":"ShareView","../signin/SigninNew":"SigninNew","../userInfo/UserInfo":"UserInfo","../withdrawal/SecondaryPwdView":"SecondaryPwdView","../withdrawal/SetSecondaryPwdView":"SetSecondaryPwdView","../withdrawal/WithdrawalView":"WithdrawalView","./HallNewView":"HallNewView"}],HallMessage:[function(e,t,n){"use strict";cc._RF.push(t,"2d2ecWmZg9Kr7TB+OBcCwNn","HallMessage");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UpdateMoney=n.TestData=n.SubCmd=n.MainCmd=void 0;const i=e("../common/net/CommonService"),a=e("../framework/net/JsonMessage");n.MainCmd={LOBBY_UPDATE:2001,GATEWAY:1001},n.SubCmd={UPDATE_MONEY:100};class r extends i.CommonMessage{constructor(){super(...arguments),this.test="my test"}}o([a.serialize("test",String)],r.prototype,"test",void 0),n.TestData=r;class s extends i.CommonMessage{constructor(){super(...arguments),this.mainCmd=n.MainCmd.LOBBY_UPDATE,this.count=1e3}}o([a.serialize("count",Number)],s.prototype,"count",void 0),n.UpdateMoney=s,cc._RF.pop()},{"../common/net/CommonService":"CommonService","../framework/net/JsonMessage":"JsonMessage"}],HallNetController:[function(e,t,n){"use strict";cc._RF.push(t,"19a73+/n1hKu5W3HmA4RhXD","HallNetController");var o,i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoginType=n.HallConfig=void 0,function(e){e.hallIconConfig=null,e.hallIconConfig1=null,e.hallIconConfig2=null,e.hallIconConfig3=null}(o=n.HallConfig||(n.HallConfig={}));const l=e("../common/net/LobbyService"),d=e("../framework/decorator/Decorators"),h=c(e("../framework/controller/Controller")),u=e("../common/manager/Manager"),p=c(e("../msgbox/PanelHelp")),g=e("../common/language/LanguageImpl"),m=e("../global/User"),f=e("../framework/external/protoc"),b=e("../global/UtilMgr"),y=c(e("../data/HallData")),_=c(e("../data/UserData")),v=s(e("../common/define/LocalStorageDefine")),w=c(e("../data/RechargeData")),C=c(e("../sdk/fbsdk")),R=c(e("../sdk/googlesdk")),L=c(e("../sdk/twittersdk")),{ccclass:E,property:S}=cc._decorator;var I;(function(e){e[e.youke=0]="youke",e[e.telephon=1]="telephon",e[e.google=2]="google",e[e.facebook=3]="facebook",e[e.twitter=4]="twitter",e[e.telegram=5]="telegram",e[e.fast=6]="fast"})(I=n.LoginType||(n.LoginType={}));let k=class extends h.default{bindingEvents(){super.bindingEvents(),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_WinDayRank_Res,this.onL2C_WinDayRank_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_WinWeekRank_Res,this.onL2C_WinWeekRank_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_WinMonthRank_Res,this.onL2C_WinMonthRank_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_BetRank_Res,this.onL2C_BetRank_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_Deposit_Res,this.onL2C_Deposit_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_Withdraw_Res,this.onL2C_Withdraw_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_ChipsChange_Mes,this.onL2C_ChipsChange_Mes),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_GetStoreList_Res,this.onL2C_GetStoreList_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_GetDepositLimit_Res,this.onL2C_GetDepositLimit_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_GetWithdrawLimit_Res,this.onL2C_GetWithdrawLimit_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_GetBankList_Res,this.onL2C_GetBankList_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_GetBankCardInfo_Res,this.onL2C_GetBankCardInfo_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_BindBankCard_Res,this.onL2C_BindBankCard_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_GetWithdrawRecords_Res,this.onL2C_GetWithdrawRecords_Res),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_GetDepositList,this.onS2C_GetDepositList),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_GetSignedInfo,this.onS2C_GetSignedInfo),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_Signed,this.onS2C_Signed),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_GetCheckCode,this.onS2C_GetCheckCode),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_Register,this.onS2C_Register),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_BindPhone,this.onS2C_BindPhone),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_BindEmail,this.onS2C_BindEmail),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_ResetPassword,this.onS2C_ResetPassword),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_GetRegisterRewordConfig,this.onS2C_GetRegisterRewordConfig),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_ModifyAvartar,this.onS2C_ModifyAvartar),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_GetMissionList,this.onS2C_GetMissionList),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_MissionClaim,this.onS2C_MissionClaim),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_MessageNotify,this.onS2C_MessageNotify),this.addEvent(f.MST.OuterOpcode_Map.M2C_TransferMap_Res,this.onM2C_TransferMap_Res),this.addEvent(f.MST.OuterOpcode_Map.M2C_AuthOut_Res,this.onM2C_AuthOut_Res),this.addEvent(f.MST.OuterOpcode_Map.M2C_KickOut_Mes,this.onM2C_KickOut_Mes),this.addEvent(f.MST.OuterOpcode_Map.M2C_GoldChange_Mes,this.onM2C_GoldChange_Mes),this.addEvent(f.MST.OuterOpcode_Map.M2C_Auth_Res,this.onM2C_Auth_Res),this.addEvent(f.MST.OuterOpcode_Lobby.L2C_GetGameList_Res,this.onL2C_GetGameList_Res),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_MinigameInfo,this.onS2C_MinigameInfo),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_MinigameLottery,this.onS2C_MinigameLottery),this.addEvent(f.MST.OuterOpcode_Lobby.S2C_PromotionInfo,this.onS2C_PromotionInfo)}L2C_GoldRankDay_Res(e){G.DataMgr.get(y.default).winRankList=e.Units,dispatch("L2C_GoldRankDay_Res")}onL2C_WinDayRank_Res(e){G.DataMgr.get(y.default).winRankList=e.infos,dispatch("L2C_WinDayRank_Res")}onL2C_WinWeekRank_Res(e){G.DataMgr.get(y.default).winRankList=e.infos,dispatch("L2C_WinWeekRank_Res")}onL2C_WinMonthRank_Res(e){G.DataMgr.get(y.default).winRankList=e.infos,dispatch("L2C_WinMonthRank_Res")}onL2C_BetRank_Res(e){G.DataMgr.get(y.default).betRankList=e.infos,dispatch("L2C_BetRank_Res")}onM2C_TransferMap_Res(e){0===e.Error?dispatch("M2C_TransferMap_Res",e):p.default.showErrTip(e.Error)}onM2C_AuthOut_Res(e){0===e.Error?(G.DataMgr.get(_.default).clearUserData(),dispatch("M2C_AuthOut_Res",e)):p.default.showErrTip(e.Error)}onNoticeFirstPay(e){e&&e.data&&(G.Logger.log("\u9996\u51b2",e),m.User._popWindows.length?b.UtilMgr.pushWindows(["openFirstPayView",e.data.firstPayWindowsForceSwitch,40]):dispatch("openFirstPayView",e.data.firstPayWindowsForceSwitch))}onHallIconConfig(e){G.Logger.log("\u5927\u5385\u56fe\u6807",e),e&&e.data&&e.data.hallIconConfig&&(o.hallIconConfig=e.data.hallIconConfig,o.hallIconConfig1=e.data.hallIconConfig1,o.hallIconConfig2=e.data.hallIconConfig2,o.hallIconConfig3=e.data.hallIconConfig3),dispatch("hallIconConfig")}onPushInsertNewPlayerGuid(e){e&&e.data&&e.data.gameId&&m.User._gameIds.push(e.data.gameId),dispatch("CMD_PushInsertNewPlayerGuid",e.data.gameId)}onSendMsg(e){G.Logger.log(e),e&&dispatch(d.makeKey(e.mainCmd),e.data)}getRoomlistRes(e){}onMatchGame(e){G.Logger.log(e)}onNoticeRelief(e){dispatch("openGiveGoldNoti",e.data)}onNoticeExchangeUserGoldType(e){dispatch("openEnterRealFieldNoti",e.data)}onM2C_KickOut_Mes(e){dispatch("M2C_KickOut_Mes")}onM2C_GoldChange_Mes(e){let t=G.DataMgr.get(_.default),n=t.info.Gold;t.info.Gold=e.Gold,dispatch("Event_M2C_GoldChange_Mes",n)}onM2C_Auth_Res(e){if(0!==e.Error)return p.default.showErrTip(e.Error),G.DataMgr.get(_.default).clearUserData(),void dispatch("openLoginEvent");let t=G.DataMgr.get(_.default);t.id=Number(e.AccountId),t.nick=e.PlayerInfo.Nick,t.email=e.BindEmail,t.BindPhone=e.phonoNo,t.extendCode=e.extendCode,t.info=e.PlayerInfo,t.inGame=e.RoomName;let n=e.FastAuthToken;u.Manager.localStorage.setItem(v.ACCOUNT_TOKEN,n),dispatch("updateUserInfo");let o=e.loginType;this.signOutHandler(o)}signOutHandler(e){switch(e){case I.facebook:C.default.instance.FB_SignOut(function(){});break;case I.google:R.default.instance.Google_SignOut();break;case I.twitter:L.default.instance.Twitter_SignOut(function(){})}}onL2C_GetGameList_Res(e){G.DataMgr.get(y.default).games=e.games,dispatch("updateHallGames")}onL2C_Deposit_Res(e){p.default.hideLoading(),0===e.Error?(G.DataMgr.get(w.default).paymentUrl=e.paymentUrl,p.default.showTip(g.i18n.TIPS.RECHARGESUCCESS),dispatch("L2C_Deposit_Res")):p.default.showErrTip(e.Error)}onL2C_ChipsChange_Mes(e){dispatch("L2C_ChipsChange_Mes",e)}onL2C_Withdraw_Res(e){0===e.Error?(p.default.showTip(g.i18n.TIPS.WITHDRAWSUCCESS),dispatch("L2C_Withdraw_Res")):p.default.showErrTip(e.Error)}onL2C_GetStoreList_Res(e){0===e.Error?(G.DataMgr.get(w.default).storeInfoList=e.info,dispatch("L2C_GetStoreList_Res")):p.default.showErrTip(e.Error)}onL2C_GetDepositLimit_Res(e){if(0!==e.Error)return void p.default.showErrTip(e.Error);let t=G.DataMgr.get(w.default);t.minDepAmount=e.minAmount,t.maxDepAmount=e.maxAmount}onL2C_GetWithdrawLimit_Res(e){if(0!==e.Error)return void p.default.showErrTip(e.Error);let t=G.DataMgr.get(w.default);t.minWithAmount=Number(e.minAmount)/100,t.maxWithAmount=Number(e.maxAmount)/100}onL2C_GetBankList_Res(e){0===e.Error?(G.DataMgr.get(w.default).bankInfoList=e.info,dispatch("L2C_GetBankList_Res")):p.default.showErrTip(e.Error)}onL2C_GetBankCardInfo_Res(e){if(0!==e.Error)return void p.default.showErrTip(e.Error);let t=G.DataMgr.get(w.default);if(e.bankNo&&e.bankCode){let n=t.bandBankCardInfo;(n={}).bankCode=e.bankCode,n.bankUserName=e.name,n.bankNo=e.bankNo,t.bandBankCardInfo=n}dispatch("L2C_GetBankCardInfo_Res")}onL2C_BindBankCard_Res(e){0===e.Error?dispatch("L2C_BindBankCard_Res"):p.default.showErrTip(e.Error)}onL2C_GetWithdrawRecords_Res(e){0===e.Error?dispatch("Event_L2C_WithdrawRecord",e):p.default.showErrTip(e.Error)}onS2C_GetDepositList(e){0===e.code?dispatch("Event_S2C_GetDepositList",e):p.default.showErrTip(e.code)}onS2C_GetSignedInfo(e){0===e.code?(G.DataMgr.get(y.default).signinData=e,dispatch("Event_S2C_GetSignedInfo")):p.default.showErrTip(e.code)}onS2C_Signed(e){if(0!==e.code)return void p.default.showErrTip(e.code);let t=G.DataMgr.get(y.default);t.signinData.serial=e.serial,t.signinData.reward=e.reward,dispatch("Event_S2C_Signed")}onS2C_GetCheckCode(e){0===e.code?dispatch("Event_S2C_GetCheckCode"):p.default.showErrTip(e.code)}onS2C_Register(e){0===e.code?dispatch("Event_S2C_Register"):p.default.showErrTip(e.code)}onS2C_BindEmail(e){0===e.code?(G.DataMgr.get(_.default).email=e.email,dispatch("Event_S2C_BindEmail")):p.default.showErrTip(e.code)}onS2C_ResetPassword(e){0===e.code?dispatch("Event_S2C_ResetPassword"):p.default.showErrTip(e.code)}onS2C_BindPhone(e){0===e.code?(G.DataMgr.get(_.default).BindPhone=e.phoneNo,dispatch("Event_S2C_BindPhone")):p.default.showErrTip(e.code)}onS2C_GetRegisterRewordConfig(e){0===e.code?dispatch("Event_S2C_GetRegisterRewordConfig",e):p.default.showErrTip(e.code)}onS2C_ModifyAvartar(e){0===e.code?(G.DataMgr.get(_.default).info.HeaderUrl=e.avartar,dispatch("Event_S2C_ModifyAvartar")):p.default.showErrTip(e.code)}onS2C_MinigameInfo(e){0===e.code?dispatch("Event_S2C_MinigameInfo",e):p.default.showErrTip(e.code)}onS2C_MinigameLottery(e){0===e.code?dispatch("Event_S2C_MinigameLottery",e):p.default.showErrTip(e.code)}onS2C_PromotionInfo(e){0===e.code?dispatch("Event_S2C_PromotionInfo",e):p.default.showErrTip(e.code)}onS2C_GetMissionList(e){0===e.code?(G.DataMgr.get(y.default).missionList=e.info,dispatch("Event_S2C_GetMissionList")):p.default.showErrTip(e.code)}onS2C_MissionClaim(e){0===e.code?dispatch("Event_S2C_MissionClaim",e):p.default.showErrTip(e.code)}onS2C_MessageNotify(e){G.DataMgr.get(y.default).notice.push(e),dispatch("Event_S2C_MessageNotify")}};k=r([E,d.injectService(l.LobbyService.instance)],k),n.default=k,u.Manager.netManager.push(k),cc._RF.pop()},{"../common/define/LocalStorageDefine":"LocalStorageDefine","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/HallData":"HallData","../data/RechargeData":"RechargeData","../data/UserData":"UserData","../framework/controller/Controller":"Controller","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","../sdk/fbsdk":"fbsdk","../sdk/googlesdk":"googlesdk","../sdk/twittersdk":"twittersdk"}],HallNewGameItem:[function(e,t,n){"use strict";cc._RF.push(t,"55a92hZ1ahJuZHMUFFvB6CX","HallNewGameItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/GameManager"),r=i(e("../msgbox/PanelHelp")),s=e("../common/language/LanguageImpl"),c=e("../common/base/HotUpdate"),l=e("../framework/base/Defines"),d=i(e("../framework/ui/UIView")),h=e("../common/config/Config"),u=e("./HallEvent"),p=e("../common/net/LobbyService"),g=e("../framework/decorator/Decorators"),m=e("../common/manager/Manager"),f=e("../global/UtilMgr"),b=e("../global/Global"),y=e("../framework/external/protoc"),{ccclass:_,property:v}=cc._decorator;let w=class extends d.default{constructor(){super(...arguments),this.icon=null,this.gameIcon=null,this.gameSpine=null,this.gameLabel=null,this.picName=null,this.install=null,this.newVersion=null,this.loading=null,this.iconWait=null,this._itemId=0,this._gameInfo=null,this._path="hall/images/dt_game_icon_",this._pathEN="hall/images/dt_game_name_",this._pathHI="languageRes/hindi/hall/dt_game_name_",this._language=""}onLoad(){super.onLoad(),cc.tween(this.iconWait).repeatForever(cc.tween().by(.3,{angle:30}).delay(.01)).start(),this.loading.active=!1,this._language=m.Manager.language.getLanguage()}bindingEvents(){super.bindingEvents(),this.registerEvent(u.HallEvent.DOWNLOAD_PROGRESS,this.onDownloadProgess),this.registerEvent("onCheckUpdateGameStart",this.onCheckUpdateGameStart),this.registerEvent("onCheckUpdateGameEnd",this.onCheckUpdateGameEnd),this.registerEvent("M2C_TransferMap_Res",this.M2C_TransferMap_Res),l.ENABLE_CHANGE_LANGUAGE}onCheckUpdateGameStart(e){let t=h.Config.games;if(this._gameInfo){let n=t[this._gameInfo];n&&n.name&&n.name==e&&(this.loading.active=!0)}}onCheckUpdateGameEnd(e){let t=h.Config.games;if(this._gameInfo){let n=t[this._gameInfo];n&&n.name&&n.name==e&&(this.loading.active=!1)}}onDownloadProgess(e){if(G.Logger.log("onDownloadProgess == ",e.progress),this._gameInfo&&e.config.gameName==h.Config.games[this._gameInfo].name){let t=cc.find("Background/progressBar",this.node).getComponent(cc.ProgressBar),n=cc.find("Background/progressBar/progress",this.node).getComponent(cc.Label);-1==e.progress?(t.node.active=!1,r.default.showTip(s.i18n.TIPS.DOWNLOADFAILED)):e.progress<=1?(t.node.active=!0,e.progress>t.progress&&(t.progress=e.progress,n.string=Math.floor(100*e.progress)+"%")):(t.node.active=!1,this.install&&(this.install.active=!1),this.newVersion&&(this.newVersion.active=!1),r.default.showTip(s.i18n.TIPS.DOWNLOADSUCCEED))}}onLanguageChange(e){this._language=e}updateItem(e,t){cc.log(e,"HallNewGameItem"),this._gameInfo=e,this._itemId=t,this.install&&(this.install.active=!1),this.newVersion&&(this.newVersion.active=!1),h.Config.games[e],this.refreshGameSpine()}refreshGameIcon(){let e=h.Config.games[this._gameInfo].name;this.icon.loadImage({url:`hall/images/domino/btn_${e}`,view:this,bundle:l.BUNDLE_RESOURCES}),this.gameIcon.loadImage({url:`hall/images/domino/icon_${e}`,view:this,bundle:l.BUNDLE_RESOURCES}),this.gameLabel.string=e}refreshGameSpine(){let e=this,t=h.Config.games[this._gameInfo].subName;this.gameSpine.loadSkeleton({url:`hall/anim/btnEff/${t}/${t}`,view:this,bundle:l.BUNDLE_RESOURCES,completeCallback:t=>{t&&(e.gameSpine.animation="animation",e.gameSpine.loop=!0,e.gameSpine.premultipliedAlpha=!1)}})}onBtnClick(e,t){this.jumpToGame()}jumpToGame(){let e=y.MST.C2M_TransferMap_Req.create({RpcId:m.Manager.netManager.getNewSeqId(),RoomName:this._gameInfo}),t=y.MST.C2M_TransferMap_Req.encode(e).finish();p.LobbyService.instance.sendMsg(y.MST.C2M_TransferMap_Req,y.MST.OuterOpcode_Map.C2M_TransferMap_Req,t),this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES)}M2C_TransferMap_Res(e){if(e&&e.RoomName){this._gameInfo=e.RoomName;let t=f.UtilMgr.getGameManifestVersion(h.Config.games[this._gameInfo].subName);if(G.Logger.log("JoinGame",t),t)if(this._gameInfo.gameVersionCode&&parseInt(this._gameInfo.gameVersionCode)>parseInt(t)){let e=c.HotUpdate.allGameConfig[h.Config.games[this._gameInfo].subName];e&&e.isLoaded?r.default.showDialog("",s.i18n.TIPS.GAMENEWVERSION,()=>{b.reStartGame()},()=>{this.enterGame()}):this.enterGame()}else G.Logger.log("\u8df3\u8fc7\u66f4\u65b0"),this.enterGame(!0);else this.enterGame()}}enterGame(e){let t=new c.GameConfig(h.Config.games[this._gameInfo].name,h.Config.games[this._gameInfo].subName,this._itemId);e?a.gameManager().enterGameNoUpdate(t):a.gameManager().enterGame(t)}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([v(cc.Sprite)],w.prototype,"icon",void 0),o([v(cc.Sprite)],w.prototype,"gameIcon",void 0),o([v(sp.Skeleton)],w.prototype,"gameSpine",void 0),o([v(cc.Label)],w.prototype,"gameLabel",void 0),o([v(cc.Sprite)],w.prototype,"picName",void 0),o([v(cc.Node)],w.prototype,"install",void 0),o([v(cc.Node)],w.prototype,"newVersion",void 0),o([v(cc.Node)],w.prototype,"loading",void 0),o([v(cc.Node)],w.prototype,"iconWait",void 0),w=o([_,g.injectService(p.LobbyService.instance)],w),n.default=w,cc._RF.pop()},{"../common/base/HotUpdate":"HotUpdate","../common/config/Config":"Config","../common/language/LanguageImpl":"LanguageImpl","../common/manager/GameManager":"GameManager","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../global/Global":"Global","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./HallEvent":"HallEvent"}],HallNewLogic:[function(e,t,n){"use strict";cc._RF.push(t,"91addo5HKxHypmIXUEqWOPJ","HallNewLogic");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../common/base/Logic"),a=o(e("./HallNewView")),r=o(e("../akun/AkunView")),s=o(e("../login/LoginNewView")),c=e("../common/event/LogicEvent"),l=e("../framework/base/Defines"),d=e("../common/manager/Manager"),h=o(e("../wallet/WalletView")),u=o(e("../activity/MissionView"));d.Manager.logicManager.push(class extends i.Logic{constructor(){super(...arguments),this.logicType=c.LogicType.HALL}get bundle(){return l.BUNDLE_RESOURCES}bindingEvents(){super.bindingEvents(),this.registerEvent(c.LogicEvent.ENTER_HALL,this.onEnterHall),this.registerEvent("openAkunView",this.onOpenAkun),this.registerEvent("openDompetView",this.onOpenDompet),this.registerEvent("openLoginView",this.onOpenLogin),this.registerEvent("openActiveView",this.onOpenActive),this.registerEvent("openRulette",this.openRulette)}onLoad(){super.onLoad()}onEnterHall(e){d.Manager.uiManager.open({type:a.default,bundle:l.BUNDLE_RESOURCES,args:e})}onOpenAkun(){d.Manager.uiManager.open({type:r.default,bundle:l.BUNDLE_RESOURCES})}onOpenLogin(){d.Manager.uiManager.open({type:s.default,bundle:l.BUNDLE_RESOURCES})}onOpenDompet(){d.Manager.uiManager.open({type:h.default,bundle:l.BUNDLE_RESOURCES})}openRulette(){}onOpenActive(){d.Manager.uiManager.open({type:u.default,bundle:l.BUNDLE_RESOURCES})}}),cc._RF.pop()},{"../activity/MissionView":"MissionView","../akun/AkunView":"AkunView","../common/base/Logic":"Logic","../common/event/LogicEvent":"LogicEvent","../common/manager/Manager":"Manager","../framework/base/Defines":"Defines","../login/LoginNewView":"LoginNewView","../wallet/WalletView":"WalletView","./HallNewView":"HallNewView"}],HallNewView:[function(e,t,n){"use strict";cc._RF.push(t,"547127nK89KT7t42mMNOY1b","HallNewView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../common/event/LogicEvent"),s=e("../common/language/LanguageImpl"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=e("../common/manager/Manager"),h=e("../framework/base/Defines"),u=i(e("../data/UserData")),p=i(e("./HallNewGameItem")),g=i(e("../msgbox/PanelHelp")),m=i(e("../data/HallData")),f=e("../framework/external/protoc"),b=e("../framework/event/EventApi"),y=e("../common/define/SubGameDefine"),_=e("../global/UtilMgr"),v=i(e("./HallBetRankItem")),w=i(e("../login/LoginNewView")),C=i(e("../data/AppData")),R=i(e("../login/RegisterView")),L=i(e("../common/utils/NumberUtils")),{ccclass:E,property:S}=cc._decorator;let I=class extends a.default{constructor(){super(...arguments),this.btnHarian=null,this.btnMingguan=null,this.btnSemua=null,this.rankPlayInfo=null,this.btnClosePInfo=null,this.betRankView=null,this.winRankView=null,this.pageView=null,this._userData=null,this._winRankingList=[],this._betRankingList=[],this._rankSelectName="btnHarian",this.gameItem0=null,this.gameItem1=null,this.gameItem2=null,this.gameItem3=null,this.topThree=null,this.loopInterval=null,this.HottestGame=null,this.LatestBet=null,this.BiggestWinner=null,this.labGame=null,this.labUname=null,this.labBetAmount=null,this.labDaily=null,this.labWeekly=null,this.labAll=null,this.enterTimes=0}static getPrefabUrl(){return"hall/prefabs/HallView"}onLoad(){super.onLoad(),this.audioHelper.stopMusic(),this.closeSplashView(),this.btnHarian.on(cc.Node.EventType.TOUCH_END,()=>{this.clickRankTitle("btnHarian")}),this.btnMingguan.on(cc.Node.EventType.TOUCH_END,()=>{this.clickRankTitle("btnMingguan")}),this.btnSemua.on(cc.Node.EventType.TOUCH_END,()=>{this.clickRankTitle("btnSemua")}),this.btnClosePInfo.on(cc.Node.EventType.TOUCH_END,()=>{this.rankPlayInfo.active=!1}),this.initData(),this.clickRankTitle(this._rankSelectName),this.reqBetRankList(),this.reqHallGames(),this.pageView.setCurrentPageIndex(0),r.dispatchEnterComplete({type:r.LogicType.HALL,views:[this]}),this.checkInvitationRegister()}closeSplashView(){cc.sys.isBrowser&&(document.getElementById("splash").style.display="none")}checkInvitationRegister(){G.DataMgr.get(C.default).invcode&&!G.DataMgr.get(u.default).isLogined()&&d.Manager.uiManager.open({type:R.default,bundle:h.BUNDLE_RESOURCES,zIndex:99999})}initData(){this._userData=G.DataMgr.get(u.default)}checkOnGame(){let e=G.DataMgr.get(u.default),t=G.DataMgr.get(m.default),n=e.inGame;if(n&&"Lobby"!=n){let e,o=0,i=t.games;if(!i)return;(()=>{for(let t=0;t<i.length;t++){const a=i[t];if(a==n){e=a;break}o++}})();let a=this[`gameItem${o}`];if(!a)return;let r=a.getComponent(p.default);r.updateItem(e,o),r.jumpToGame()}}reqRankList(){if("btnHarian"==this._rankSelectName){let e=f.MST.C2L_WinDayRank_Req.create({RpcId:d.Manager.netManager.getNewSeqId()}),t=f.MST.C2L_WinDayRank_Req.encode(e).finish();c.LobbyService.instance.sendMsg(f.MST.C2L_WinDayRank_Req,f.MST.OuterOpcode_Lobby.C2L_WinDayRank_Req,t)}else if("btnMingguan"==this._rankSelectName){let e=f.MST.C2L_WinWeekRank_Req.create({RpcId:d.Manager.netManager.getNewSeqId()}),t=f.MST.C2L_WinWeekRank_Req.encode(e).finish();c.LobbyService.instance.sendMsg(f.MST.C2L_WinWeekRank_Req,f.MST.OuterOpcode_Lobby.C2L_WinWeekRank_Req,t)}else{let e=f.MST.C2L_WinMonthRank_Req.create({RpcId:d.Manager.netManager.getNewSeqId()}),t=f.MST.C2L_WinMonthRank_Req.encode(e).finish();c.LobbyService.instance.sendMsg(f.MST.C2L_WinMonthRank_Req,f.MST.OuterOpcode_Lobby.C2L_WinMonthRank_Req,t)}}reqHallGames(){let e=f.MST.C2L_GetGameList_Req.create({RpcId:d.Manager.netManager.getNewSeqId()}),t=f.MST.C2L_GetGameList_Req.encode(e).finish();c.LobbyService.instance.sendMsg(f.MST.C2L_GetGameList_Req,f.MST.OuterOpcode_Lobby.C2L_GetGameList_Req,t)}reqBetRankList(){let e=f.MST.C2L_BetRank_Req.create({RpcId:d.Manager.netManager.getNewSeqId()}),t=f.MST.C2L_BetRank_Req.encode(e).finish();c.LobbyService.instance.sendMsg(f.MST.C2L_BetRank_Req,f.MST.OuterOpcode_Lobby.C2L_BetRank_Req,t)}clickRankTitle(e){this._rankSelectName=e,this.refreshRankTitleBtn()}refreshRankTitleBtn(){let e=this._rankSelectName,t=["btnHarian","btnMingguan","btnSemua"];for(let n=0;n<t.length;n++){const o=t[n];this[o].getChildByName("active").active=e==o,this._rankSelectName=o}this.reqRankList()}openRankInfo(){this.rankPlayInfo.active=!0}openLoginView(){dispatch("openLoginView")}bindingEvents(){super.bindingEvents(),h.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(b.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("openRankInfo",this.openRankInfo),this.registerEvent("openLoginEvent",this.openLoginView),this.registerEvent(r.LogicEvent.ENTER_GAME_READY,this.onEnterGameReady),this.registerEvent("L2C_WinDayRank_Res",this.L2C_WinDayRank_Res),this.registerEvent("L2C_WinWeekRank_Res",this.L2C_WinDayRank_Res),this.registerEvent("L2C_WinMonthRank_Res",this.L2C_WinDayRank_Res),this.registerEvent("L2C_BetRank_Res",this.L2C_BetRank_Res),this.registerEvent("M2C_KickOut_Mes",this.M2C_KickOut_Mes),this.registerEvent("updateHallGames",this.refreshGameRooms)}onLanguageChange(){this.HottestGame.string=s.i18n.TITLE.HOTTESTGAME,this.LatestBet.string=s.i18n.BET_TITLE.LATESTBET,this.BiggestWinner.string=s.i18n.BIGGESTWINNER.BIGGESTWINNER,this.labGame.string=s.i18n.TITLE.LABGAME,this.labUname.string=s.i18n.TITLE.LABPLAYER,this.labBetAmount.string=s.i18n.TITLE.LABBETAMOUNT,this.labDaily.string=s.i18n.TITLE.LABDAILY,this.labWeekly.string=s.i18n.TITLE.LABWEEKLY,this.labAll.string=s.i18n.TITLE.LABALL}refreshGameRooms(){let e=G.DataMgr.get(m.default).games;if(e){for(let t=0;t<4;t++){let n=this[`gameItem${t}`];if(!n)return;if(n.active=!1,t<e.length&&e[t]){n.active=!0;let o=n.getComponent(p.default),i=e[t].id;o.updateItem(e[t],i)}}this.checkOnGame()}}L2C_WinDayRank_Res(){let e=G.DataMgr.get(m.default).winRankList;this._winRankingList=e,this.updateWinRankList()}L2C_BetRank_Res(){let e=G.DataMgr.get(m.default).betRankList;this._betRankingList=e,this.refreshBetRankView()}refreshBetRankView(){if(!this.betRankView)return;let e=this._betRankingList;for(let t=0;t<9;t++){let n=e[t],o=this.betRankView.getChildByName("HallBetRankItem"+t),i=o.getComponent(v.default);o.active=!1,t<e.length&&(o.active=!0,i.updateItem(n,t))}}updateWinRankList(){let e=this._winRankingList;if(e.length>0){if(e.length<=3)this.topThreeList=e,this.hideWinRankView();else{let t=[];for(let n=0;n<3;n++){let n=e[0];t.push(n),e.splice(0,1)}this.topThreeList=t,this.refreshWinRankView()}this.refreshRankTopThree()}else{let e=this.topThree;e&&(e.active=!1,this.hideWinRankView())}}refreshRankTopThree(){if(!this.topThree)return;let e=["One","Two","Three"],t=this.topThreeList;for(let n=0;n<3;n++){let o=this.topThree.getChildByName(`top${e[n]}`);if(o.active=!1,n<t.length){o.active=!0;let e=t[n],i=e.Nick,a=e.Score;o.getChildByName("nickName").getComponent(cc.Label).string=i;let r=L.default.converToC(a),s=L.default.converToE(7,Number(r));o.getChildByName("btnHuang").getChildByName("rp").getComponent(cc.Label).string=`Rp ${s}`;let c=o.getChildByName("imgAvatar").getComponent(cc.Sprite);_.UtilMgr.loadHeadImg(c,e.headUrl,e.headUrl,this)}}}hideWinRankView(){if(this.winRankView)for(let e=0;e<9;e++)this.winRankView.getChildByName("HallWinRankItem"+e).active=!1}refreshWinRankView(){if(!this.winRankView)return;let e=this._winRankingList;for(let t=0;t<9;t++){let n=e[t],o=this.winRankView.getChildByName("HallWinRankItem"+t);if(o.active=!1,t<e.length){o.active=!0;let e=o.getChildByName("labIndex").getComponent(cc.Label),i=o.getChildByName("nameLabel").getComponent(cc.Label),a=o.getChildByName("goldLabel").getComponent(cc.Label),r=o.getChildByName("imgAvatar").getComponent(cc.Sprite);e.string=t+4<10?`0${String(t+4)}`:`${String(t+4)}`,i.string=_.UtilMgr.setString(n.Nick),a.string=`Rp ${L.default.converToC(n.Score)}`,n.headImgUrl&&_.UtilMgr.loadHeadImg(r,n.headImgUrl,n.headImgUrl,this)}}}onPageEvent(e,t){t===cc.PageView.EventType.PAGE_TURNING&&console.log("\u5f53\u524d\u6240\u5728\u7684\u9875\u9762\u7d22\u5f15:"+e.getCurrentPageIndex())}onClick(e,t){switch(e){case"btnAkun":dispatch("openAkunView");break;case"btnDompet":dispatch("openDompetView");break;case"btnEvent":dispatch("openActiveView");break;case"head":dispatch("openAkunView");break;case"btnQiandao":this.checkLogined()&&dispatch("openSigninView");break;case"berputarNode":dispatch("openMinigameView")}}show(e){this.onLanguageChange(),this.loopRequestBetRank()}checkLogined(){return!!this._userData.id||(d.Manager.uiManager.open({type:w.default,bundle:h.BUNDLE_RESOURCES}),!1)}loopRequestBetRank(){let e=this;this.loopHandler=function(){e.reqBetRankList()}}onEnterGameReady(e){let t;switch(e){case"crash":t=y.SubGameDefine.GameName.CRASH;break;case"roulette":t=y.SubGameDefine.GameName.ROULETTE;break;case"wingo":t=y.SubGameDefine.GameName.WINGO}g.default.showLoading(s.i18n.Waiting.EnterGame,!0),this.enterTimes>=1||(dispatch(r.LogicEvent.ENTER_GAME,{bundle:t}),this.enterTimes++)}M2C_KickOut_Mes(){G.DataMgr.get(u.default).clearUserData()}onDestroy(){console.log("2222");let e=this.loopHandler;e&&(this.unschedule(this.loopHandler),e=null)}};o([S(cc.Node)],I.prototype,"btnHarian",void 0),o([S(cc.Node)],I.prototype,"btnMingguan",void 0),o([S(cc.Node)],I.prototype,"btnSemua",void 0),o([S(cc.Node)],I.prototype,"rankPlayInfo",void 0),o([S(cc.Node)],I.prototype,"btnClosePInfo",void 0),o([S(cc.Node)],I.prototype,"betRankView",void 0),o([S(cc.Node)],I.prototype,"winRankView",void 0),o([S(cc.PageView)],I.prototype,"pageView",void 0),o([S(cc.Node)],I.prototype,"gameItem0",void 0),o([S(cc.Node)],I.prototype,"gameItem1",void 0),o([S(cc.Node)],I.prototype,"gameItem2",void 0),o([S(cc.Node)],I.prototype,"gameItem3",void 0),o([S(cc.Node)],I.prototype,"topThree",void 0),o([S(cc.Label)],I.prototype,"HottestGame",void 0),o([S(cc.Label)],I.prototype,"LatestBet",void 0),o([S(cc.Label)],I.prototype,"BiggestWinner",void 0),o([S(cc.Label)],I.prototype,"labGame",void 0),o([S(cc.Label)],I.prototype,"labUname",void 0),o([S(cc.Label)],I.prototype,"labBetAmount",void 0),o([S(cc.Label)],I.prototype,"labDaily",void 0),o([S(cc.Label)],I.prototype,"labWeekly",void 0),o([S(cc.Label)],I.prototype,"labAll",void 0),I=o([E,l.injectService(c.LobbyService.instance)],I),n.default=I,cc._RF.pop()},{"../common/define/SubGameDefine":"SubGameDefine","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../common/utils/NumberUtils":"NumberUtils","../data/AppData":"AppData","../data/HallData":"HallData","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../login/LoginNewView":"LoginNewView","../login/RegisterView":"RegisterView","../msgbox/PanelHelp":"PanelHelp","./HallBetRankItem":"HallBetRankItem","./HallNewGameItem":"HallNewGameItem"}],HallRankItem:[function(e,t,n){"use strict";cc._RF.push(t,"869cbP+eBtE3bSJmh+fcpAi","HallRankItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/UtilMgr"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.index=null,this.uname=null,this.userId=null,this.gold=null,this.imgAvatar=null,this.icon=null}onLoad(){super.onLoad(),this.node.opacity=0,this.index.string="",this.node.on(cc.Node.EventType.TOUCH_END,()=>{dispatch("openRankInfo",[])})}updateItem(e,t){this.index.string=t+3,this.uname.string=r.UtilMgr.setString(e.Nick),this.userId.string=e.AccountId,this.gold.string=`Rp ${e.Score}`;let n=this.imgAvatar.getComponent(cc.Sprite);e.headImgUrl&&r.UtilMgr.loadHeadImg(n,e.headImgUrl,e.headImgUrl,this)}onClick(e){console.log(e)}};o([c(cc.Label)],l.prototype,"index",void 0),o([c(cc.Label)],l.prototype,"uname",void 0),o([c(cc.Label)],l.prototype,"userId",void 0),o([c(cc.Label)],l.prototype,"gold",void 0),o([c(cc.Node)],l.prototype,"imgAvatar",void 0),o([c(cc.Sprite)],l.prototype,"icon",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],HallTimeRankItem:[function(e,t,n){"use strict";cc._RF.push(t,"5c5a7o1h5xABIafP7eUPhSj","HallTimeRankItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/UtilMgr"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.index=null,this.uname=null,this.userId=null,this.gold=null,this.imgAvatar=null}onLoad(){super.onLoad(),this.node.opacity=0,this.index.string="",this.node.on(cc.Node.EventType.TOUCH_END,()=>{dispatch("openRankInfo",[])})}updateItem(e,t){this.index.string=t+3,this.uname.string=r.UtilMgr.setString(e.Nick),this.userId.string=e.AccountId,this.gold.string=`Rp ${e.Score}`;let n=this.imgAvatar.getComponent(cc.Sprite);e.headImgUrl&&r.UtilMgr.loadHeadImg(n,e.headImgUrl,e.headImgUrl,this)}onClick(e){console.log(e)}};o([c(cc.Label)],l.prototype,"index",void 0),o([c(cc.Label)],l.prototype,"uname",void 0),o([c(cc.Label)],l.prototype,"userId",void 0),o([c(cc.Label)],l.prototype,"gold",void 0),o([c(cc.Node)],l.prototype,"imgAvatar",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],HelpView:[function(e,t,n){"use strict";cc._RF.push(t,"370805SRKpOJpt74BaQsppa","HelpView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=e("../framework/decorator/Decorators"),s=i(e("../framework/ui/UIView")),{ccclass:c,property:l}=cc._decorator;let d=class extends s.default{constructor(){super(...arguments),this.str_rule=null}static getPrefabUrl(){return"turntable/prefab/HelpView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){this.rule&&(this.str_rule.string=this.rule)}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this.rule=e[0])}bindingEvents(){super.bindingEvents()}onClick(e,t){switch(e){case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}onDestroy(){super.onDestroy()}};o([l(cc.RichText)],d.prototype,"str_rule",void 0),d=o([c,r.injectService(a.LobbyService.instance)],d),n.default=d,cc._RF.pop()},{"../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView"}],HintRechargePanel:[function(e,t,n){"use strict";cc._RF.push(t,"1289ajHfvNFUZmDO8exe8VJ","HintRechargePanel");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/UtilMgr"),s=e("../global/User"),c=e("../common/language/LanguageImpl"),l=e("../framework/base/Defines"),{ccclass:d,property:h}=cc._decorator;let u=class extends a.default{constructor(){super(...arguments),this.lbl_god=null,this.lbl_hit=null}static getPrefabUrl(){return"MultiCurrency/prefabs/HintRechargePanel"}show(e){let t=e[0];this.scheduleOnce(this.close,3),this.lbl_god.string=r.UtilMgr.changeMoney(s.User._gold),this.lbl_hit.string=1==t?c.i18n.EXPERIENCE_FIELD.hintRecharge:c.i18n.EXPERIENCE_FIELD.hintChipCount}playDefaultEffect(e=""){switch(e){case"shop":case"addGold":this.audioHelper.playEffect("common/audio/RechargeBtn",l.BUNDLE_RESOURCES);break;default:super.playDefaultEffect(e)}}onClick(e){switch(e){case"continue":break;case"addGold":dispatch("openRechargeView")}this.close()}};o([h(cc.Label)],u.prototype,"lbl_god",void 0),o([h(cc.Label)],u.prototype,"lbl_hit",void 0),u=o([d],u),n.default=u,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../framework/base/Defines":"Defines","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr"}],HostData:[function(e,t,n){"use strict";cc._RF.push(t,"b6192FAKuFHCrCQOEYXKzNn","HostData");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../base/BaseData"));let r=class extends a.default{constructor(){super(),this.loginHost=null,this.gameHost=null,this.appHost=null,this.hotUpdateHost=null,this.payHost=null,this.resHost=null}destroy(){this.loginHost=null,this.gameHost=null,this.appHost=null,this.hotUpdateHost=null,this.payHost=null,this.resHost=null}getAppURL(){let e="";switch(cc.sys.os){case cc.sys.OS_ANDROID:case cc.sys.OS_IOS:e="\u8fd9\u91cc\u9700\u8981\u586b\u5199\u5bf9\u5e94\u4e0b\u8f7d\u94fe\u63a5";break;default:console.warn(`\u5f53\u524d\u5e73\u53f0 ${cc.sys.os} \u672a\u5b9a\u4e49\u6574\u5305\u4e0b\u8f7d\u94fe\u63a5`)}return e}getAppStoreURL(){let e="";switch(cc.sys.os){case cc.sys.OS_ANDROID:case cc.sys.OS_IOS:e="\u8fd9\u91cc\u9700\u8981\u586b\u5199\u5bf9\u5e94\u5546\u57ce\u94fe\u63a5";break;default:console.warn(`\u5f53\u524d\u5e73\u53f0 ${cc.sys.os} \u672a\u5b9a\u4e49\u6574\u5305\u4e0b\u8f7d\u94fe\u63a5`)}return e}};r=o([i(e("../framework/decorator/ClassDecorator")).default.classname],r),n.default=r,cc._RF.pop()},{"../base/BaseData":"BaseData","../framework/decorator/ClassDecorator":"ClassDecorator"}],HotUpdate:[function(e,t,n){"use strict";cc._RF.push(t,"62ade2ht0dPYbWnakcMpNfx","HotUpdate");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.HotUpdate=n.GameConfig=n.SubGameUpdateType=n.AssetManagerState=n.AssetManagerCode=void 0;const i=e("../../global/Global"),a=e("../config/Config");var r,s,c;(function(e){e[e.ERROR_NO_LOCAL_MANIFEST=0]="ERROR_NO_LOCAL_MANIFEST",e[e.ERROR_DOWNLOAD_MANIFEST=1]="ERROR_DOWNLOAD_MANIFEST",e[e.ERROR_PARSE_MANIFEST=2]="ERROR_PARSE_MANIFEST",e[e.NEW_VERSION_FOUND=3]="NEW_VERSION_FOUND",e[e.ALREADY_UP_TO_DATE=4]="ALREADY_UP_TO_DATE",e[e.UPDATE_PROGRESSION=5]="UPDATE_PROGRESSION",e[e.ASSET_UPDATED=6]="ASSET_UPDATED",e[e.ERROR_UPDATING=7]="ERROR_UPDATING",e[e.UPDATE_FINISHED=8]="UPDATE_FINISHED",e[e.UPDATE_FAILED=9]="UPDATE_FAILED",e[e.ERROR_DECOMPRESS=10]="ERROR_DECOMPRESS",e[e.CHECKING=11]="CHECKING"})(r=n.AssetManagerCode||(n.AssetManagerCode={})),function(e){e[e.UNINITED=0]="UNINITED",e[e.UNCHECKED=1]="UNCHECKED",e[e.PREDOWNLOAD_VERSION=2]="PREDOWNLOAD_VERSION",e[e.DOWNLOADING_VERSION=3]="DOWNLOADING_VERSION",e[e.VERSION_LOADED=4]="VERSION_LOADED",e[e.PREDOWNLOAD_MANIFEST=5]="PREDOWNLOAD_MANIFEST",e[e.DOWNLOADING_MANIFEST=6]="DOWNLOADING_MANIFEST",e[e.MANIFEST_LOADED=7]="MANIFEST_LOADED",e[e.NEED_UPDATE=8]="NEED_UPDATE",e[e.READY_TO_UPDATE=9]="READY_TO_UPDATE",e[e.UPDATING=10]="UPDATING",e[e.UNZIPPING=11]="UNZIPPING",e[e.UP_TO_DATE=12]="UP_TO_DATE",e[e.FAIL_TO_UPDATE=13]="FAIL_TO_UPDATE",e[e.TRY_DOWNLOAD_FAILED_ASSETS=14]="TRY_DOWNLOAD_FAILED_ASSETS"}(s=n.AssetManagerState||(n.AssetManagerState={})),function(e){e[e.Normal=0]="Normal",e[e.CheckUpdate=1]="CheckUpdate"}(c=n.SubGameUpdateType||(n.SubGameUpdateType={})),n.GameConfig=class{constructor(e,t,n){this.subpackageName="",this.gameName="",this.isLoaded=!1,this.index=0,this.gameName=e,this.subpackageName=t,this.index=n,this.isLoaded=!1}};const{ccclass:l,property:d}=cc._decorator;let h=class{constructor(){this.manifestRoot="manifest/",this.storagePath="",this.updating=!1,this.subGameUpdateType=c.Normal,this._commonHotUpdateUrl=null,this._projectManifest=null,this.onDownload=null,this.checkCallback=null,this.allGameConfig={},this.assetsManagers={},this._hotUpdateUrls={},this.currentAssetsManager=null}get commonHotUpdateUrl(){return this._commonHotUpdateUrl=G.URLMgr.hotUpdateURL,this._commonHotUpdateUrl.length>0?this._commonHotUpdateUrl:this.projectManifest.packageUrl}get projectManifest(){return this._projectManifest}get hallProjectMainfest(){return`${this.manifestRoot}project.manifest`}getHotUpdateUrl(e){return this._hotUpdateUrls[e]?this._hotUpdateUrls[e]:this.commonHotUpdateUrl}getGameLocalName(e){return this.allGameConfig[e]}destroyAssetsManager(e="HALL"){this.assetsManagers[e]&&delete this.assetsManagers[e]}getAssetsManager(e="HALL"){return this.assetsManagers[e],this.assetsManagers[e]}isTryDownloadFailedAssets(){return!(!this.currentAssetsManager||this.currentAssetsManager.manager.getState()!=s.FAIL_TO_UPDATE||this.currentAssetsManager.code!=r.ERROR_NO_LOCAL_MANIFEST&&this.currentAssetsManager.code!=r.ERROR_DOWNLOAD_MANIFEST&&this.currentAssetsManager.code!=r.ERROR_PARSE_MANIFEST&&this.currentAssetsManager.code!=r.UPDATE_FAILED)}checkUpdate(e){if(cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.isBrowser)this.updating=!1,e(r.ALREADY_UP_TO_DATE,s.UP_TO_DATE);else{if(cc.log("--checkUpdate--"),this.updating)return cc.log("Checking or updating..."),void e(r.CHECKING,s.PREDOWNLOAD_VERSION);if(!this.currentAssetsManager.manager.getLocalManifest()||!this.currentAssetsManager.manager.getLocalManifest().isLoaded())return cc.log("Failed to load local manifest ...."),void e(r.ERROR_DOWNLOAD_MANIFEST,s.FAIL_TO_UPDATE);this.isTryDownloadFailedAssets()?(cc.log("\u4e4b\u524d\u4e0b\u8f7d\u8d44\u6e90\u672a\u5b8c\u5168\u4e0b\u8f7d\u5b8c\u6210\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u65b0\u4e0b\u8f7d"),e(r.UPDATE_FAILED,s.TRY_DOWNLOAD_FAILED_ASSETS)):(this.updating=!0,this.checkCallback=e,this.currentAssetsManager.manager.setEventCallback(this.checkCb.bind(this)),this.currentAssetsManager.manager.checkUpdate())}}downloadFailedAssets(){this.currentAssetsManager&&this.currentAssetsManager.manager.downloadFailedAssets()}checkHallUpdate(e){cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.isBrowser?(cc.log("\u9884\u89c8\u6216\u6d4f\u89c8\u5668"),e(r.ALREADY_UP_TO_DATE,s.UP_TO_DATE)):(this.currentAssetsManager=this.getAssetsManager(),this.currentAssetsManager.manager.loadLocalManifest(this.hallProjectMainfest),this.checkUpdate(e))}getGameManifest(e){return`${e}_project.manifest`}checkGameUpdate(e,t){if(cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.isBrowser||!a.Config.isOpenHotUpdate)cc.log("\u4e0d\u9700\u8981\u6709\u66f4\u65b0\u7684\u64cd\u4f5c"),t(r.ALREADY_UP_TO_DATE,s.UP_TO_DATE);else{this.currentAssetsManager=this.getAssetsManager(e);let n=this.getGameManifest(e);if(jsb.fileUtils.isFileExist(n)){let e=jsb.fileUtils.getStringFromFile(n),o=new jsb.Manifest(e,this.storagePath,this.getHotUpdateUrl(this.currentAssetsManager.name));cc.log("--\u5b58\u5728\u672c\u5730\u7248\u672c\u63a7\u5236\u6587\u4ef6checkUpdate--"),cc.log(`mainifestUrl : ${n}`),this.currentAssetsManager.manager.loadLocalManifest(o,""),this.checkUpdate(t)}else{if(this.updating)return cc.log("Checking or updating..."),void t(r.CHECKING,s.PREDOWNLOAD_VERSION);let o=this.getHotUpdateUrl(e),i={version:"0",packageUrl:o,remoteManifestUrl:`${o}${this.manifestRoot}${n}`,remoteVersionUrl:`${o}${this.manifestRoot}${e}_version.manifest`,assets:{},searchPaths:[]},a=JSON.stringify(i),c=new jsb.Manifest(a,this.storagePath,this.getHotUpdateUrl(this.currentAssetsManager.name));cc.log("--checkUpdate--"),cc.log(`mainifest content : ${a}`),this.currentAssetsManager.manager.loadLocalManifest(c,""),this.checkUpdate(t)}}}checkCb(e){switch(this.currentAssetsManager.code=e.getEventCode(),cc.log(`checkCb event code : ${e.getEventCode()} state : ${this.currentAssetsManager.manager.getState()}`),e.getEventCode()){case r.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped.");break;case r.ERROR_DOWNLOAD_MANIFEST:case r.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped.");break;case r.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version.");break;case r.NEW_VERSION_FOUND:cc.log("New version found, please try to update.");break;case r.UPDATE_FINISHED:cc.log(" UPDATE_FINISHED ");break;default:return}this.updating=!1,this.checkCallback&&this.currentAssetsManager.manager.getState()!=s.DOWNLOADING_VERSION&&(this.checkCallback(e.getEventCode(),this.currentAssetsManager.manager.getState()),this.checkCallback=null)}hotUpdate(){this.currentAssetsManager?(cc.log(`\u5373\u5c06\u70ed\u66f4\u65b0\u6a21\u5757\u4e3a:${this.currentAssetsManager.name} , updating : ${this.updating}`),this.updating||(cc.log(`\u6267\u884c\u66f4\u65b0 ${this.currentAssetsManager.name} `),this.currentAssetsManager.manager.setEventCallback(this.updateCb.bind(this)),this.currentAssetsManager.manager.update())):cc.error("\u70ed\u66f4\u65b0\u7ba1\u7406\u5668\u672a\u521d\u59cb\u5316")}updateCb(e){var t=!1,n=!1;switch(cc.log(`--update cb code : ${e.getEventCode()} state : ${this.currentAssetsManager.manager.getState()}`),this.currentAssetsManager.code=e.getEventCode(),e.getEventCode()){case r.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped."),n=!0;break;case r.UPDATE_PROGRESSION:cc.log(`${e.getDownloadedBytes()} / ${e.getTotalBytes()}`),cc.log(`${e.getDownloadedFiles()} / ${e.getTotalFiles()}`),cc.log(`percent : ${e.getPercent()}`),cc.log(`percent by file : ${e.getPercentByFile()}`);var o=e.getMessage();o&&cc.log(`Updated file: ${o}`);break;case r.ERROR_DOWNLOAD_MANIFEST:case r.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped."),n=!0;break;case r.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version."),n=!0;break;case r.UPDATE_FINISHED:cc.log(`Update finished. ${e.getMessage()}`),t=!0;break;case r.UPDATE_FAILED:cc.log(`Update failed. ${e.getMessage()}`),this.updating=!1;break;case r.ERROR_UPDATING:cc.log(`Asset update error: ${e.getAssetId()} , ${e.getMessage()}`);break;case r.ERROR_DECOMPRESS:cc.log(`${e.getMessage()}`)}if(n&&(this.currentAssetsManager.manager.setEventCallback(null),this.updating=!1),t){var a=jsb.fileUtils.getSearchPaths(),s=this.currentAssetsManager.manager.getLocalManifest().getSearchPaths();cc.log(JSON.stringify(s)),Array.prototype.unshift.apply(a,s);let e={};for(let t=0;t<a.length;t++)e[a[t]]=!0;a=Object.keys(e),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(a)),jsb.fileUtils.setSearchPaths(a)}"HALL"==this.currentAssetsManager.name?t&&(this.currentAssetsManager.manager.setEventCallback(null),e.getDownloadedFiles()>0&&(cc.log("\u66f4\u65b0\u5927\u5385\uff0c\u9700\u8981\u91cd\u542fapp\u751f\u6548"),i.reStartGame())):t&&(e.getDownloadedFiles()>0?this.allGameConfig[this.currentAssetsManager.name].isLoaded?(cc.log("\u5df2\u7ecf\u52a0\u8f7d\u8fc7\u6e38\u620f\u4ee3\u7801\uff0c\u9700\u8981\u91cd\u542fapp\u751f\u6548"),t=!0,i.reStartGame()):(cc.log("\u7b2c\u4e00\u6b21\u52a0\u8f7d\u5b50\u6e38\u620f\u4ee3\u7801\uff0c\u4e0d\u9700\u8981\u91cd\u542f"),t=!1):t=!1),this.onDownload&&this.onDownload(e.getDownloadedBytes(),e.getTotalBytes(),e.getDownloadedFiles(),e.getTotalFiles(),e.getPercent(),e.getPercentByFile(),e.getEventCode(),this.currentAssetsManager.manager.getState(),t),cc.log(`update cb  failed : ${n}  , need restart : ${t} , updating : ${this.updating}`)}versionCompareHanle(e,t){cc.log(`JS Custom Version Compare : version A is ${e} , version B is ${t}`);let n=e.split("."),o=t.split(".");cc.log(`version A ${n} , version B ${o}`);for(let i=0;i<n.length&&i<o.length;++i){let e=parseInt(n[i]),t=parseInt(o[i]);if(e!==t)return e-t}return o.length>n.length?1:0}};h=o([l],h),n.HotUpdate=new h,cc._RF.pop()},{"../../global/Global":"Global","../config/Config":"Config"}],HttpClient:[function(e,t,n){"use strict";var o,i;cc._RF.push(t,"9440fYu/95D5orBXWIAUqJ9","HttpClient"),Object.defineProperty(n,"__esModule",{value:!0}),n.RequestPackge=n.RequestPackgeData=n.HttpRequestType=n.HttpErrorType=void 0,function(e){e[e.UrlError=0]="UrlError",e[e.TimeOut=1]="TimeOut",e[e.RequestError=2]="RequestError"}(o=n.HttpErrorType||(n.HttpErrorType={})),function(e){e.POST="POST",e.GET="GET"}(i=n.HttpRequestType||(n.HttpRequestType={}));class a{constructor(){this.data=null,this.url=null,this.timeout=1e4,this.type=i.GET,this.requestHeader=null,this.isAutoAttachCurrentTime=!1,this._responseType=""}set responseType(e){this._responseType=e}get responseType(){return this._responseType}}n.RequestPackgeData=a;class r{constructor(){this._data=new a}set data(e){this._data=e}get data(){return this._data}send(e,t){s.request(this,e,t)}}n.RequestPackge=r,r.crossProxy={},r.location={host:"",pathname:"",protocol:""};class s{static crossProxy(e){if(cc.sys.isBrowser&&r.crossProxy){let t=r.crossProxy,n=r.location,o=Object.keys(t);for(let i=0;i<o.length;i++){let a=o[i],r=t[a];if(e.indexOf(a)>-1&&r.protocol&&r.api)return n.protocol!=r.protocol&&(e=e.replace(r.protocol,n.protocol)),e.replace(a,`${n.host}/${r.api}`)}return e}return e}static request(e,t,n){let a=e.data.url;if(!a)return void(n&&n({type:o.UrlError,reason:"\u9519\u8bef\u7684Url\u5730\u5740"}));let r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState)if(r.status>=200&&r.status<300){if("arraybuffer"==r.responseType||"blob"==r.responseType)t&&t(r.response);else if(t){let e=null;e="text"===r.responseType?r.responseText:JSON.parse(r.responseText),t(e)}}else{let e=r.status;cc.error(`request error status : ${r.status} url : ${a} `),n&&n({type:o.RequestError,reason:e})}},r.responseType=e.data.responseType,r.timeout=e.data.timeout,r.ontimeout=()=>{r.abort(),n&&n({type:o.TimeOut,reason:"\u8fde\u63a5\u8d85\u65f6"})},r.onerror=()=>{cc.error(`request error : ${a} `),n&&n({type:o.RequestError,reason:"\u8bf7\u6c42\u9519\u8bef"})},cc.sys.isBrowser&&e.data.isAutoAttachCurrentTime&&(a=a.indexOf("?")>=0?`${a}&cur_loc_t=${Date.timeNow()}`:`${a}?cur_loc_t=${Date.timeNow()}`),cc.sys.isBrowser,e.data.type===i.POST?(r.open(i.POST,a),e.data.requestHeader?r.setRequestHeader(e.data.requestHeader.name,e.data.requestHeader.value):r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send(e.data.data)):(r.open(i.GET,a,!0),e.data.requestHeader&&r.setRequestHeader(e.data.requestHeader.name,e.data.requestHeader.value),r.send())}}cc._RF.pop()},{}],HttpUtils:[function(e,t,n){"use strict";cc._RF.push(t,"434544RPyVFNps1+hdt1FdH","HttpUtils"),Object.defineProperty(n,"__esModule",{value:!0});class o{constructor(){}static get instance(){return this._instance||(this._instance=new o)}httpGet(e,t){let n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&200==n.status){let e=n.responseText,o=JSON.parse(e);t(o)}else 4===n.readyState&&401==n.status&&t({status:401})},n.withCredentials=!0,n.open("GET",e,!0),n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),n.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type,authorization"),n.setRequestHeader("Content-Type","application/json"),n.timeout=8e3,n.send()}httpPost(e,t,n){let o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(4===o.readyState&&200==o.status){let e=o.responseText,t=JSON.parse(e);n(t)}else n(-1)},o.open("POST",e,!0),o.setRequestHeader("Access-Control-Allow-Origin","*"),o.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),o.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type"),o.setRequestHeader("Content-Type","application/json"),o.timeout=8e3,o.send(JSON.stringify(t))}}n.default=o,o._instance=null,cc._RF.pop()},{}],IndicatorView:[function(e,t,n){"use strict";cc._RF.push(t,"343b2gmf59HG6w6quKjqFdG","IndicatorView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../../common/net/LobbyService"),r=i(e("../../common/utils/TypeUtils")),s=e("../../framework/decorator/Decorators"),c=i(e("../../framework/ui/UIView")),l=e("../define/CommonDefine"),{ccclass:d,property:h}=cc._decorator;let u=class extends c.default{constructor(){super(...arguments),this.imgArrows=null,this.imgBg=null,this.labContent=null,this._pos=null,this._language=null,this._width=null,this._direction=null}static getPrefabUrl(){return"common/prefabs/IndicatorView"}onLoad(){super.onLoad(),this.initData(),this.initView()}start(){}show(e){super.show(e),this._pos=e[0],this._language=e[1],this._width=e[2],this._direction=e[3],r.default.isNull(this._width)&&(this._width=698),this.refreshContent()}initData(){}initView(){this.labContent.string="",this.imgBg.node.setContentSize(0,0)}setDirectionLayout(e,t=!1){if(r.default.isNull(e))return void this.setDirectionLayout(l.CommonDefine.Direction.DOWN);let n=0;if(e===l.CommonDefine.Direction.UP){if((n=this._pos.y+this.imgArrows.node.height/2+this.imgBg.node.height)>this.node.height/2&&!t)return void this.setDirectionLayout(l.CommonDefine.Direction.DOWN,!0);this.imgArrows.node.scaleY=-1,this.imgArrows.node.position=cc.v2(this._pos.x,this._pos.y+this.imgArrows.node.height/2),this.imgBg.node.position=cc.v2(0,this.imgArrows.node.y+this.imgArrows.node.height/2+this.imgBg.node.height/2)}else if(e===l.CommonDefine.Direction.DOWN){if((n=this._pos.y-this.imgArrows.node.height/2-this.imgBg.node.height)<0-this.node.height/2&&!t)return void this.setDirectionLayout(l.CommonDefine.Direction.UP,!0);this.imgArrows.node.scaleY=1,this.imgArrows.node.position=cc.v2(this._pos.x,this._pos.y-this.imgArrows.node.height/2),this.imgBg.node.position=cc.v2(0,this.imgArrows.node.y-this.imgArrows.node.height/2-this.imgBg.node.height/2)}}refreshContent(){this.imgBg.node.width=this._width,this.labContent.node.width=this._width-20,this.labContent.language=this._language,this.labContent._forceUpdateRenderData(),this.imgBg.node.height=this.labContent.node.height+20,this.setDirectionLayout(this._direction)}onClick(e,t,n){switch(e){case"btnClose":this.close()}}};o([h(cc.Sprite)],u.prototype,"imgArrows",void 0),o([h(cc.Sprite)],u.prototype,"imgBg",void 0),o([h(cc.Label)],u.prototype,"labContent",void 0),u=o([d,s.injectService(a.LobbyService.instance)],u),n.default=u,cc._RF.pop()},{"../../common/net/LobbyService":"LobbyService","../../common/utils/TypeUtils":"TypeUtils","../../framework/decorator/Decorators":"Decorators","../../framework/ui/UIView":"UIView","../define/CommonDefine":"CommonDefine"}],JsonMessage:[function(e,t,n){"use strict";cc._RF.push(t,"765cbLoNc5HRY+HAc3KtQVO","JsonMessage"),Object.defineProperty(n,"__esModule",{value:!0}),n.JsonMessage=n.serialize=void 0;const o=e("./Message");n.serialize=function(e,t,n,o){return function(i,a){if(void 0===Reflect.getOwnPropertyDescriptor(i,"__serialize__")){let e={};if(Reflect.getPrototypeOf(i).__serialize__&&void 0===Reflect.getOwnPropertyDescriptor(i,"__serialize__")){let t=Reflect.getPrototypeOf(i).__serialize__,n=Object.keys(t);for(let o=n.length,i=0;i<o;i++)e[n[i]]=t[n[i]].slice(0)}Reflect.defineProperty(i,"__serialize__",{value:e})}if(i.__serialize__[e])throw`SerializeKey has already been declared:${e}`;i.__serialize__[e]=[a,t,n,o]}};class i extends o.Message{fillData(){}serialize(){let e={},t=Reflect.getPrototypeOf(this).__serialize__;if(!t)return null;let n=Object.keys(t);for(let o=n.length,i=0;i<o;i++){let o=n[i],[a]=t[o],r=this.serializeMember(this[a]);null===r&&cc.warn("Invalid serialize member : "+a),e[o]=r}return e}serializeMember(e){return"number"==typeof e?this.serializeNumber(e):"string"==typeof e?this.serializeString(e):e instanceof Array?this.serializeArray(e):e instanceof Map?this.serializeMap(e):e instanceof i?e.serialize():(cc.warn("Invalid serialize value : "+e),null)}serializeNumber(e){return null==e?"0":e.toString()}serializeString(e){return null==e?"":e.toString()}serializeArray(e){let t=[];return e.forEach(e=>{t.push(this.serializeMember(e))}),t}serializeMap(e){let t=[],n=this;return e.forEach((e,o)=>{let i={k:n.serializeMember(o),v:n.serializeMember(e)};null===i.k&&(cc.warn("Invalid map key!"),i.k=""),null===i.v&&(cc.warn("Invalid map value"),i.v=""),t.push(i)}),t}decode(e){return!!super.decode(e)&&(super.decode(e),this.deserialize(this.data))}deserialize(e){let t=Reflect.getPrototypeOf(this).__serialize__;if(!t)return!0;let n=Object.keys(t);for(let o=n.length,i=0;i<o;i++){let o=n[i],[a,r,s,c]=t[o];if(!this.deserializeMember(a,r,s,c,e[o]))return cc.warn("Invalid deserialize member :"+a),!1}return!0}deserializeMember(e,t,n,o,a){try{let s=this[e];if("number"==typeof s)this[e]=this.deserializeNumber(e,a);else if("string"==typeof s)this[e]=this.deserializeString(e,a);else if(s instanceof Array)this.deserializeArray(e,n,a);else if(s instanceof Map)this.deserializeMap(e,n,o,a);else if(s instanceof i)s.deserialize(a);else{if(null!==s)return cc.warn("Invalid deserialize member : "+e+" value:"+s),!1;switch(t){case Number:this[e]=this.deserializeNumber(e,a);break;case String:this[e]=this.deserializeString(e,a);break;case Array:this[e]=[];break;case Map:this[e]=new Map;break;default:if(this[e]=new t,!(this[e]instanceof i))return cc.warn("Invalid deserialize member :"+e+" value:"+s),!1;this[e].deserialize(a)}}return!0}catch(r){return cc.warn(r.message),this[e]=r.data||null,!1}}deserializeNumber(e,t){if(null==t||NaN===t)throw{message:`Invalid deserializeNumber member : ${e} value : ${t}`,data:0};return Number(t)}deserializeString(e,t){if(null==t)throw{message:`Invalid deserializeString member : ${e} value : ${t}`,data:""};return t}deserializeArray(e,t,n){if(!(n instanceof Array))throw{message:`Invalid deserializeArray member : ${e} value : ${n}`,data:[]};this[e]=[],n.forEach((n,o)=>{if(t===Number)this[e].push(this.deserializeNumber(e+"["+o+"]",n));else if(t===String)this[e].push(this.deserializeString(e+"["+o+"]",n));else{if(t===Array)throw{message:`Invalid deserializeArray member : ${e} array value type is Array`};if(t instanceof Map)throw{message:`Invalid deserializeArray member : ${e} array value type is Map`};if(this[e]instanceof i)this[e].deserialize(n);else{let o=new t;if(!(o instanceof i))throw{message:`Invalid deserializeArray member : ${e} array value type is `+t};o.deserialize(n),this[e].push(o)}}})}deserializeMap(e,t,n,o){if(!(o instanceof Array))throw{message:`Invalid deserializeMap member : ${e} value : ${o}`,data:new Map};this[e].clear(),o.forEach((o,a)=>{if(null===o||void 0===o.k||null===o.k||void 0===o.v||null===o.v)throw{message:`Invalid deserializeMap member : ${e} invalid element : ${o}`};let r,s;if(t===Number)r=this.deserializeNumber(e+"["+a+"]:key",o.k);else{if(t!==String)throw{message:`Invalid deserializeMap member : ${e} invalid key type : ${t}`};r=this.deserializeString(e+"["+a+"]:key",o.k)}if(n===Number)s=this.deserializeNumber(e+"["+a+"]:value",o.v);else if(n===String)s=this.deserializeString(e+"["+a+"]:value",o.v);else{if(n===Array)throw{message:`Invalid deserializeMap member : ${e} invalid value type : Array`};if(n instanceof Map)throw{message:`Invalid deserializeMap member : ${e} invalid value type : Map`};if(!((s=new n)instanceof i))throw{message:`Invalid deserializeMap member : ${e} invalid value type : ${n}`};s.deserialize(o.v)}this[e].set(r,s)})}}n.JsonMessage=i,cc._RF.pop()},{"./Message":"Message"}],LabelTip:[function(e,t,n){"use strict";cc._RF.push(t,"083f42x3axB5JSWK8z00xwZ","LabelTip");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.item=null,this.imgBg=null,this.label=null,this.delayTime=.5,this.bgOriginSize=null}static getPrefabUrl(){return"msgbox/prefabs/LabelTip"}onLoad(){super.onLoad(),this.bgOriginSize=this.imgBg.node.getContentSize()}show(e){super.show(e),this.args[0]&&(this.label.language=this.args[0],this.label._forceUpdateRenderData(),this.delayTime=this.args[1]?this.args[1]:.5,this.doOpenAction()),this.label.node.width>this.bgOriginSize.width&&(this.imgBg.node.width=this.label.node.width+40),this.imgBg.node.height=this.label.node.height+40}doOpenAction(){this.node.stopAllActions(),this.node.opacity=255;let e=cc.tween;e(this.node).delay(this.delayTime).parallel(e().by(.5,{position:cc.v2(0,100)}),e().to(.5,{opacity:0})).call(()=>{this.close()}).start()}onDestroy(){super.onDestroy()}};o([s(cc.Node)],c.prototype,"item",void 0),o([s(cc.Sprite)],c.prototype,"imgBg",void 0),o([s(cc.Label)],c.prototype,"label",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],LanguageChange:[function(e,t,n){"use strict";cc._RF.push(t,"d2d2cC2PjtHf6nPC6nwu7HC","LanguageChange");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../framework/ui/UIView")),r=e("../manager/Manager"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.toggleContainer=null}static getPrefabUrl(){return"common/prefabs/LanguageChange"}onLoad(){super.onLoad(),this.content=cc.find("content",this.node);let e="english";r.Manager.language.getLanguage()===cc.sys.LANGUAGE_ENGLISH?e="english":r.Manager.language.getLanguage()===cc.sys.LANGUAGE_HINDI&&(e="hindi"),this.toggleContainer.toggleItems.forEach(t=>{t.node.name==e&&(t.isChecked=!0)}),this.showWithAction()}onClick(e,t){switch(e){case"confirm":this.okCall();break;case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}okCall(){this.toggleContainer.toggleItems.forEach(e=>{if(e.isChecked)switch(e.node.name){case"english":r.Manager.language.getLanguage()!=cc.sys.LANGUAGE_ENGLISH&&r.Manager.language.change(cc.sys.LANGUAGE_ENGLISH);break;case"hindi":r.Manager.language.getLanguage()!=cc.sys.LANGUAGE_HINDI&&r.Manager.language.change(cc.sys.LANGUAGE_HINDI)}}),this.closeWithAction()}};o([c(cc.ToggleContainer)],l.prototype,"toggleContainer",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../../framework/ui/UIView":"UIView","../manager/Manager":"Manager"}],LanguageEN:[function(e,t,n){"use strict";cc._RF.push(t,"68bedXgXqhAR6OQN4AqyK+p","LanguageEN"),Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageEN=void 0,n.LanguageEN={language:cc.sys.LANGUAGE_ENGLISH,TITLE:{HOTTESTGAME:"Hottes Game",LATESTBET:"Latest Bet",BIGGESTWINNER:"Biggest Winner",LABGAME:"Permainan",LABPLAYER:"Pemain",LABBETAMOUNT:"Jumlah Taruhan",LABDAILY:"Daily",LABWEEKLY:"Weekly",LABALL:"All"},BET_TITLE:{LATESTBET:"Latest Bet",GAMES:"Permainan",PLAYER:"Pemain",BETAMOUNT:"Jumlah Taruhan"},BIGGESTWINNER:{BIGGESTWINNER:"Biggest Winner",DAILY:"Daily",WEEKLY:"Weekly",ALL:"All"},AKUN_TITLE:{PROFILE:"Profile",RANKING:"Ranking",GAMES:"Games",INTEGRATION:"Integration",USED:"Used",REFERENCE:"Reference",ARRANGE:"Arrange",EMAIL_VERIFICATION:"Verifikasl Email",PHONE_VERIFICATION:"Verifikasl Telepon",SECURITY_SETTING:"Security Settings",CHANGE_PASSWORD:"MengubahKatesandi",PRIVACY_SETTING:"PengaturanPrivasl",LANGUAGE:"Bahasa",ABOUT:"Tentang",FAQ:"FAQ",CONTACT_US:"HubungiKaml"},MISSION:{RECEIVEDSUCCESS:"Received successfully!"},WAIT:{DISCONNECT:"Network disconnected, reconnecting now...",ENTERGAMEWAIT:"Entering game, please hold...",NETERROR:"Network request failed, please retry\uff01",CONNECTSERVER:"Connecting to the server...",WAGEWAY:"identity authentication...",LOGIN:"Login...",LOADING:"Loading...",UPLOADING:"Uploading..."},REGISTER:{NOBOUDMAIL:"No bound mailbox!",EMAILWRONG:"The mailbox format is incorrect!",EMAILINFORMATIONEMPTY:"Please fill in the email or telephone!",CODEINFORMATIONEMPTY:"Please fill in the verification code!",PLEASECHECK:"Sent, please check!",PHONEWRONG:"Incorrect mobile phone format!",PASSWORD8:"Password length cannot be less than 8!",MUST_INCLUDE_CASE_NUMBER:"Passwords must contain upper and lower case letters and numbers",REGISTERSUCCESS:"Registration successful, Good Luck!",CHANGEPASSWORDSUCCESS:"ChangePassword successful!",CHANGEAVATARSUCCESS:"ChangeAvatar successful!",BINDSUCCESS:"Bound successful!"},TIPS:{NOTBINDEMAIL:"No bound mailbox!",GAMEDOWNLOADCOPYERROR:"Failed to copy!",NETWAITTIMEOUT:"Net-work time-out!",NOTOPENPLEASEWAIT:"Not yet open, please wait!",SHARESUCCESS:"Share Success",SHAREFAILED:"Share Failed",RECHARGESUCCESS:"Recharge Success",ENTERRECHARGE:"Please enter the recharge amount or select the product",WITHDRAWSUCCESS:"Withdraw Success",BINDBANKSUCCESS:"BindBank Success",BANDBANKINFOFAIL:"Please complete the bank binding information",SEVENSIGNINSUCCESS:"Congratulations on getting the seven day sign in reward",THIRTYSIGNINSUCCESS:"Congratulations on getting the 30 day sign in reward",SIGNINSUCCESS:"Sign Success",SENDCHECK:"Sent, please check",SELECTBANk:"Please select a bank first",QUITGAME:"Are you sure you want to quit the game ?",VERSIONUPDATE:"Current version does not match and need download game pack!",UPDATE:"Update",CHECKJOINGAME:"You are in the hosting of {0} Game, temporarily unable to enter other games",DOWNLOADFAILED:"Network is not good. Please change the network environment!",DOWNLOADSUCCEED:"Download update succeeded!",GAMENEWVERSION:"There is a new version of the game. Do you want to restart it?",RETRY:"Retry",historyTip:"Only keep the last seven days of history",BetID:"Bet ID",Time:"Time",BetAmount:"Bet Amount",Odds:"Odds",Profit:"Profit",Multiple:"Multiple",Typeofbet:"Type of bet",WinorLost:"Win or Lost",SettlementAmount:"Settlement Amount",noGoldEnterRoom:"You don\u2019t have enough chips. A minimum of {0} chips is required to enter the room. Do you want to recharge now?",removedRoom:"You have not fired for more than 1 minute and are removed from the room"},ERRORTIPS:{REQSEND:"Aapplication has sent",REQSENDCHECKMESSAGE:"Application sent already, please note the messages",CODETIMESHORT:"The interval of sending OTPs is too short",FEIFACAOZUO:"Illegal operation",GOLDFEW:"Inadequate coins",ADDGOLDFEIFA:"Bet amount is illegal",QIPAI:"Player folded",NOTREADYSTATE:"Non-prepare status",CAOZUOTOFAST:"Actions too oftenm, please wait for %s retry",SERVERTIMEOUT:"Server request time-out!",HUOQU:"Obtain",TOPACCOUNT:"Your account is logged in on another device, If you did not do it yourself, please change the password in time",GUESTBINDERROR:"Guest need to bind mobile phone number first",ROOMLISTERROR:"Room list does not exist"},AGENT:{INPUT_PARENT_ID:"Promoter ID",PARENT_ID_LENGTH_ERROR:"Wrong superior agent ID",BIND_SUCCEED:"Bind successfully",DATA_EMPTY:"Empty data",CHECKING:"Review",PASS:"Pass",REJECTED:"Not Pass",WITHDRAW_NUM_ERR:"Incorrect receive amount",APPLY_WITHDRAW:"Has applied for receive",AGENTPOT:"Agent Pot"},PROMOTION:{LABELA:"User",LABELB:"Member linked to User",LABELC:"Member linked to B",LABELD:"Member linked to C",BOUNSCALCULATION:"=Sevice Fee by B x Level 1 Ratio+Sevice Fee by C x Level 2 Ratio+Sevice Fee by D x Level 3 Ratio",CONNECTLABEL:"Enter your promoter ID",EXCLUSIVELINK:"individual link\uff1a",EXCLUSIVELINK2:"individual link",SHARETO:"Share to\uff1a",TOTALBONUS:"Total Bonus",AVAILABEL:"Availabel Bonus",BONUS:"Bonus",RATIO:"Ratio",DTRAILSNODE:{TIP1:"All Turnover:",TIP2:"All Rebate:",TIP3:"The total number of:",TIP4:"Only show the details of 1 week",TITLE1:"Name",TITLE2:"ID",TITLE3:"Type",TITLE4:"Turnover",TITLE5:"Rebate",NEARLYAWEEK:"Nearly a week",ALLTYPE:"All Types"},ACCOUNTDETAILSORRECORDNODE:{LEVEL_TITLE1:"Invitation Time",LEVEL_TITLE2:"Name",LEVEL_TITLE3:"ID",LEVEL_TITLE4:"NO.offline",LEVEL_TITLE5:"Total Bonus",NOD_TITLE1:"Number",NOD_TITLE2:"Time",NOD_TITLE3:"Amount",NOD_TITLE4:"Overage"}},ERRORCODE:{VERSIONCHECK:"Serverversion examine, failed please retry",NETCLOSE:"The network is disconnected. Please check the network",PLEASECHECK:"Game server developer please check",SERVERERROR:"Server request failed, please retry",SERVERTIMEOUT:"Server request timeout\uff0cplease retry!",GAMELISTERROR:"Failed to get the game list please try again",DATAERROR:"Server request returned data error,status:",E20010001:"Network disconnected, please login again\uff01",E10020007:"Failed to login",11:"Login timeout, please try again later...",12:"The current room is not open....",13:"Password reset failed, please try again later!",14:"The parameter is wrong",15:"Too many new users have registered, please try again later!",104:"This session is not open yet!",107:"The player does not exist!",110:"The player login has expired, please log in again",111:"The player is not registered",114:"There is already someone at this location",120:"Your account is logged in elsewhere, you are forced to go offline",122:"The room has been disbanded...",145:"This account is forbidden to log in",146:"The player is not logged in!",149:"The server has been maintained Please follow the official news for the duration",170:"Friend room is not opened",174:"The game has started!",175:"The number of people who can start is not reached",176:"Mobile phone number has been registered",227:"The room does not exist or has been disbanded!",229:"In the game!",231:"This phone number is not registered",232:"Incorrect verification code",233:"You have signed in today, please do not sign in again",235:"Can't add yourself as a friend",237:"There is a problem with the amount you entered, please re-enter",240:"The player is not in the room",241:"The room does not exist or has been disbanded!",242:"Your chips are overmuch",243:"Your chips are insufficient",244:"You are in the game, please wait to log out after this round is over",245:"Failed to stand up, the player has not yet sat down",249:"Cannot bet now",251:"Your account balance is insufficient",254:"The amount you entered exceeds the safe deposit box assets",257:"The player status is wrong",264:"The betting limit has been reached",272:"Cannot find a suitable room, please try again later",276:"You can stand up after you fold",279:"Your balance does not match, please log in again and then operate",280:"The phone number has been bound, please do not bind it again!",297:"The operation failed",308:"Please enter password",309:"Your old password is wrong, please re-enter\uff01",337:"Too many registered users under the same ip!",352:"Current seat is full",354:"At least 2 people can start the game.",357:"This Facebook account has been bound, please do not bind it again!",358:"The amount of withdrawal does not meet the requirements!",359:"The bank card currently bound does not open the withdrawal function!",360:"Each user can bind up to 3 banks\u2018 information!",361:"The bank information that needs to be updated does not exist!",362:"Incorrect verification code",363:"The mail has been read!",364:"The record does not exist!",365:"The record status of the player piggy bank is incorrect and cannot be operated!",366:"The player's piggy bank already has a profit and cannot be cancelled!",367:"The player failed to cancel the piggy bank operation!",368:"The player failed to transfer to the piggy bank!",369:"The player failed to transfer out of the piggy bank!",370:"The player piggy bank has no income and cannot be transferred out!",371:"Configuration does not exist, saving failed!",372:"The player's account balance is insufficient and the deposit failed!",373:"Your deposit limit is insufficient, please re-enter!",374:"Deposit failed, deposit too few gold coins!",375:"The input password is wrong, the transfer failed!",378:"Gold shortage",379:"Account not registered",380:"Account and password do not match\uff01",385:"The bank account been used!",386:"Bank config info error!",387:"Bank info save error!",388:"The number of friends of the other party has reached the upper limit",389:"The record has expired, try refreshing",390:"Cannot bet repeatedly",392:"Activity not open",393:"Failed to receive, please contact customer service",395:"Player not checked in",396:"There is no number of draws available",397:"No active items configured",398:"Operation failed, please try again",400:"Insufficient stock, please contact customer service",440:"This player is already your friend",441:"Already applied",442:"You have reached the maximum number of friends",443:"The other party is not allowed to add friends",466:"More than the number of frist pay",470:"Login Failed",471:"Failed to obtain user information",472:"Please set the secondary password first",473:"Currency Exchange Failed",474:"The input currency is below the minimum limit",475:"Failed to obtain the history",476:"Access timeout",477:"Amount exceeds limit",478:"The number of transfers exceeds the limit",479:"The transfer amount exceeds the limit",480:"BTI SPORTS Login Failed, please retry",481:"BTI SPORTS Transfer in Failed, please retry",482:"BTI SPORTS Transfer out Failed, please retry",490:"Please wait, the game is preparing.",491:"Gold coin field is closed\uff0cplease log in again.",500:"The connection is abnormal, please try again later...",505:"Wrong bet chips",530:"Login switch is not turned on",531:"The recharge switch is not turned on",532:"The withdrawal switch is not turned on",533:"Game switch is not turned on",610:"leaderboard is not enabled",611:"there is no reward to receive",612:"reward received",613:"rule configuration error, please contact customer service",620:"The tournament has been disbanded",621:"the game has begun",622:"already signed up",623:"the number of people is full",624:"not registered",625:"full or started",626:"the game is over",627:"failed to close the game",628:"Failed to create the game, exceeding the maximum limit of creating the game on the day",629:"Game started or ended or not found",5001:"Has a superior and cannot be bound",5002:"Do not allow loop binding",5003:"User does not exist",5004:"Not allowed to bind yourself",5005:"Insufficient balance to withdraw",5006:"Only query data within seven days",701:"Illegal operation",702:"Currently carrying insufficient gold coins",704:"Gold Shortage"},PageName:{LoremIpsum:"Lorem Ipsum"},Waiting:{EnterGame:"Entering game, please hold..."},Tips:{SilakanMasuk:"Silakan Masuk",GameIsLoading:"The game is loading, please try again when finished",InputBetGold:"Masukkan Jumlah Taruhan {0}-{1}",CopySuccess:"Salin berhasil",BonusAlreadyReceived:"Hadiah misi hari ini telah diterima",PleaseBindYourEmail:"Tolong ikat email Anda",CompleteAnyGameToGetIt:"Selesaikan game apa saja untuk mendapatkannya"},ErrCode:{300002:"kesalahan masuk",300003:"panggilan berulang",300004:"Login diblokir",300005:"Gagal memasuki permainan",300006:"Data akun tidak normal",300007:"Status data akun tidak normal",300008:"Game tidak masuk",300009:"perlu masuk kembali",300010:"Keadaan saat ini tidak bisa bertaruh",300011:"koin taruhan salah",300012:"Gagal menambahkan langganan",300013:"Batas tekanan taruhan otomatis crash",300014:"batas taruhan",300015:"Menambahkan taruhan otomatis tidak diperbolehkan",300016:"Crash secara otomatis bertaruh stop loss",300017:"Crash otomatis bertaruh take profit",300018:"Taruhan crash otomatis selesai",300019:"Kecelakaan unbet gagal, tidak ada",300020:"Ulangi untuk menambahkan langganan",300021:"Dapatkan kesalahan parameter catatan hash",300022:"Dapatkan catatan hash tidak ada",300023:"Token Tidak Valid",300024:"Logout gagal",300025:"Saldo tidak mencukupi",300026:"Isi ulang gagal",300027:"Penarikan gagal",300028:"Gagal mendapatkan daftar kartu bank",300029:"Gagal masuk",300030:"Nomor telepon atau email tidak valid",300031:"Kesalahan parameter",300032:"Kode verifikasi tidak benar",300033:"Nomor telepon sudah ada",300034:"Email sudah ada",300035:"imei sudah ada",300036:"registrasi gagal",300037:"Gagal menyetel ulang sandi",300038:"Gagal memainkan mini-game"},EDITBOX:{NICKNAMENULL:"Please enter nickname!",VERIFINULL:"Please enter verification code",PHONENULL:"Please enter phone number",EMAILNULL:"Please enter email number",PHONETYPEERR:"Wrong phone number format",PSWNULL:"Please enter code",PSWWRONGFUL:"Code contains additional character, please re-enter",PSWCOFAIL:"Two codes you entered are different, please re-enter",NEWPSWNULL:"Please enter new code",NEWPSWWRONGFUL:"New code contains additional characters, please re-enter",CONFIRMPSWNULL:"Two codes you entered are different,please re-enter.",CONFIRMPSWWRONGFUL:"Two codes you entered are different,please re-enter.",OLDNEWPSWEQUALS:"New code is same with old one,failed to modify.",BANKPSWNULL:"Please enter bank account password",BANKPSWFAIL:"Wrong bank account password",PSDLENGTHERROE:"Wrong password length! Please enter 6-12 characters!",UIPID:"Please enter Bank account number",USERNAME:"Please enter Receiver Name",BANKNAME:"Please enter Bank Name",IFSC:"Please enter Accounts Bank ",BANKTIXUANAMOUNT:"Please ensure that  Withdrawal amount entered correctly",ADDRESSNULL:"Please enter address number"},Common:{NoData:"Ups! Belum ada data!"},Promotion:{labPageName:"Referensi",labLevelTitle:"Rasio rebate Anda",labInvitationCodeTitle:"Kode Anda",labInvitationUrlTitle:"Tautan Referensi Anda",labStatTitle:"Ringkasan data",labTotalGoldTitle:"Penghasilan total",labWithdrawGoldTitle:"Jumlah penarikan",labYesterdayGoldTitle:"Penghasilan kemarin",labYesterdayInvitationTitle:"Diundang kemarin",labAllInvitationTitle:"Semua diundang",labUpdateDate:"Perbarui waktu: {0}",labGoldGraphTitle:"Riwayat Pendapatan Anda",labInvitationGraphTitle:"Riwayat Referensi Anda",labRankTitle:"Mitra utama kami",RpGold:"RP {0}",labCollaborateTitle:"Menjadi partner kami",labCollaborateContent:"After becoming our partner, you will enjoy high rewards. At the same time, friends who fill in your referral code can also get additional registration and recharge rewards.",labGetInvitationContent:"Dapatkan kode referensi eksklusif Anda sekarang",labGotAwardTitle:"Berapa banyak hadiah yang bisa anda dapatkan?",labLevelContent:"Tingkat promotor yang berbeda, kami memberikan tingkat penghargaan yang berbeda untuk mendorong promosi",labLevelTitle0:"Promotor Emas",labLevelContent0:"Promosi tingkat 1 mencapai 1000 orang, untung mencapai Rp100000000",labLevelTitle1:"Promotor perak",labLevelContent1:"Promosi tingkat 2 mencapai 100 orang, untung mencapai Rp10000000",labLevelTitle2:"Promotor perunggu",labLevelContent2:"Tidak ada persyaratan",labAwardTitle:"Bagaimana memberi Anda penghargaan ?",labAwardContent:"Setelah teman Anda memainkan game tersebut, kami akan membagi keuntungan yang dia hasilkan kepada Anda sesuai dengan level Anda",labBrokerageTitle:"Your commission",labBrokerageContent:"Keuntungan teman anda\xb7House edge\xb7 ",labLogin:"Mulai Menghasilkan",promotionUpdateDateTips:"Karena banyaknya penghitungan, sistem akan memperbarui data sekali sehan, dan Anda dapat melihat data kemarin setiap hari."},Minigame:{labPageName:"Berputar",RpGold:"RP {0}",labTaskTitle:"Persyaratan",labTaskDesc0:"1.Mengikat email Anda",labBindEmail:"Pergi mengikat",labTaskDesc1:"2.Bermain satu kali putaran pemainan",labBonusTitle:"Lsi",labBonusTips:"Bunos harian hingga"}},cc._RF.pop()},{}],LanguageHI:[function(e,t,n){"use strict";cc._RF.push(t,"9e955NmCjtPb55zQ9XDnB4l","LanguageHI"),Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageHI=void 0,cc.sys.LANGUAGE_HINDI="hi",n.LanguageHI={language:cc.sys.LANGUAGE_HINDI,TITLE:{HOTTESTGAME:"Hottes Game",LATESTBET:"Latest Bet",BIGGESTWINNER:"Biggest Winner",LABGAME:"Permainan",LABPLAYER:"Pemain",LABBETAMOUNT:"Jumlah Taruhan",LABDAILY:"Daily",LABWEEKLY:"Weekly",LABALL:"All"},BET_TITLE:{LATESTBET:"Latest Bet",GAMES:"Permainan",PLAYER:"Pemain",BETAMOUNT:"Jumlah Taruhan"},BIGGESTWINNER:{BIGGESTWINNER:"Biggest Winner",DAILY:"Daily",WEEKLY:"Weekly",ALL:"All"},AKUN_TITLE:{PROFILE:"Profile",RANKING:"Ranking",GAMES:"Games",INTEGRATION:"Integration",USED:"Used",REFERENCE:"Reference",ARRANGE:"Arrange",EMAIL_VERIFICATION:"Verifikasl Email",PHONE_VERIFICATION:"Verifikasl Telepon",SECURITY_SETTING:"Security Settings",CHANGE_PASSWORD:"MengubahKatesandi",PRIVACY_SETTING:"PengaturanPrivasl",LANGUAGE:"Bahasa",ABOUT:"Tentang",FAQ:"FAQ",CONTACT_US:"HubungiKaml"},MISSION:{RECEIVEDSUCCESS:"Received successfully!"},WAIT:{DISCONNECT:"Network disconnected, reconnecting now...",ENTERGAMEWAIT:"Entering game, please hold...",NETERROR:"Network request failed, please retry\uff01",CONNECTSERVER:"Connecting to the server...",WAGEWAY:"identity authentication...",LOGIN:"Login...",LOADING:"Loading...",UPLOADING:"Uploading..."},REGISTER:{NOBOUDMAIL:"No bound mailbox!",EMAILWRONG:"The mailbox format is incorrect!",EMAILINFORMATIONEMPTY:"Please fill in the email or telephone!",CODEINFORMATIONEMPTY:"Please fill in the verification code!",PLEASECHECK:"Sent, please check!",PHONEWRONG:"Incorrect mobile phone format!",PASSWORD8:"Password length cannot be less than 8!",MUST_INCLUDE_CASE_NUMBER:"Passwords must contain upper and lower case letters and numbers",REGISTERSUCCESS:"Registration successful, Good Luck!",CHANGEPASSWORDSUCCESS:"ChangePassword successful!",CHANGEAVATARSUCCESS:"ChangeAvatar successful!",BINDSUCCESS:"Bound successful!"},TIPS:{NOTBINDEMAIL:"No bound mailbox!",GAMEDOWNLOADCOPYERROR:"Failed to copy!",NETWAITTIMEOUT:"Net-work time-out!",NOTOPENPLEASEWAIT:"Not yet open, please wait!",SHARESUCCESS:"Share Success",SHAREFAILED:"Share Failed",RECHARGESUCCESS:"Recharge Success",ENTERRECHARGE:"Please enter the recharge amount or select the product",WITHDRAWSUCCESS:"Withdraw Success",BINDBANKSUCCESS:"BindBank Success",BANDBANKINFOFAIL:"Please complete the bank binding information",SEVENSIGNINSUCCESS:"Congratulations on getting the seven day sign in reward",THIRTYSIGNINSUCCESS:"Congratulations on getting the 30 day sign in reward",SIGNINSUCCESS:"Sign Success",SENDCHECK:"Sent, please check",SELECTBANk:"Please select a bank first",QUITGAME:"Are you sure you want to quit the game ?",VERSIONUPDATE:"Current version does not match and need download game pack!",UPDATE:"Update",CHECKJOINGAME:"You are in the hosting of {0} Game, temporarily unable to enter other games",DOWNLOADFAILED:"Network is not good. Please change the network environment!",DOWNLOADSUCCEED:"Download update succeeded!",GAMENEWVERSION:"There is a new version of the game. Do you want to restart it?",RETRY:"Retry",historyTip:"Only keep the last seven days of history",BetID:"Bet ID",Time:"Time",BetAmount:"Bet Amount",Odds:"Odds",Profit:"Profit",Multiple:"Multiple",Typeofbet:"Type of bet",WinorLost:"Win or Lost",SettlementAmount:"Settlement Amount",noGoldEnterRoom:"You don\u2019t have enough chips. A minimum of {0} chips is required to enter the room. Do you want to recharge now?",removedRoom:"You have not fired for more than 1 minute and are removed from the room"},ERRORTIPS:{REQSEND:"Aapplication has sent",REQSENDCHECKMESSAGE:"Application sent already, please note the messages",CODETIMESHORT:"The interval of sending OTPs is too short",FEIFACAOZUO:"Illegal operation",GOLDFEW:"Inadequate coins",ADDGOLDFEIFA:"Bet amount is illegal",QIPAI:"Player folded",NOTREADYSTATE:"Non-prepare status",CAOZUOTOFAST:"Actions too oftenm, please wait for %s retry",SERVERTIMEOUT:"Server request time-out!",HUOQU:"Obtain",TOPACCOUNT:"Your account is logged in on another device, If you did not do it yourself, please change the password in time",GUESTBINDERROR:"Guest need to bind mobile phone number first",ROOMLISTERROR:"Room list does not exist"},AGENT:{INPUT_PARENT_ID:"Promoter ID",PARENT_ID_LENGTH_ERROR:"Wrong superior agent ID",BIND_SUCCEED:"Bind successfully",DATA_EMPTY:"Empty data",CHECKING:"Review",PASS:"Pass",REJECTED:"Not Pass",WITHDRAW_NUM_ERR:"Incorrect receive amount",APPLY_WITHDRAW:"Has applied for receive",AGENTPOT:"Agent Pot"},PROMOTION:{LABELA:"User",LABELB:"Member linked to User",LABELC:"Member linked to B",LABELD:"Member linked to C",BOUNSCALCULATION:"=Sevice Fee by B x Level 1 Ratio+Sevice Fee by C x Level 2 Ratio+Sevice Fee by D x Level 3 Ratio",CONNECTLABEL:"Enter your promoter ID",EXCLUSIVELINK:"individual link\uff1a",EXCLUSIVELINK2:"individual link",SHARETO:"Share to\uff1a",TOTALBONUS:"Total Bonus",AVAILABEL:"Availabel Bonus",BONUS:"Bonus",RATIO:"Ratio",DTRAILSNODE:{TIP1:"All Turnover:",TIP2:"All Rebate:",TIP3:"The total number of:",TIP4:"Only show the details of 1 week",TITLE1:"Name",TITLE2:"ID",TITLE3:"Type",TITLE4:"Turnover",TITLE5:"Rebate",NEARLYAWEEK:"Nearly a week",ALLTYPE:"All Types"},ACCOUNTDETAILSORRECORDNODE:{LEVEL_TITLE1:"Invitation Time",LEVEL_TITLE2:"Name",LEVEL_TITLE3:"ID",LEVEL_TITLE4:"NO.offline",LEVEL_TITLE5:"Total Bonus",NOD_TITLE1:"Number",NOD_TITLE2:"Time",NOD_TITLE3:"Amount",NOD_TITLE4:"Overage"}},ERRORCODE:{VERSIONCHECK:"Serverversion examine, failed please retry",NETCLOSE:"The network is disconnected. Please check the network",PLEASECHECK:"Game server developer please check",SERVERERROR:"Server request failed, please retry",SERVERTIMEOUT:"Server request timeout\uff0cplease retry!",GAMELISTERROR:"Failed to get the game list please try again",DATAERROR:"Server request returned data error,status:",E20010001:"Network disconnected, please login again\uff01",E10020007:"Failed to login",11:"Login timeout, please try again later...",12:"The current room is not open....",13:"Password reset failed, please try again later!",14:"The parameter is wrong",15:"Too many new users have registered, please try again later!",104:"This session is not open yet!",107:"The player does not exist!",110:"The player login has expired, please log in again",111:"The player is not registered",114:"There is already someone at this location",120:"Your account is logged in elsewhere, you are forced to go offline",122:"The room has been disbanded...",145:"This account is forbidden to log in",146:"The player is not logged in!",149:"The server has been maintained Please follow the official news for the duration",170:"Friend room is not opened",174:"The game has started!",175:"The number of people who can start is not reached",176:"Mobile phone number has been registered",227:"The room does not exist or has been disbanded!",229:"In the game!",231:"This phone number is not registered",232:"Incorrect verification code",233:"You have signed in today, please do not sign in again",235:"Can't add yourself as a friend",237:"There is a problem with the amount you entered, please re-enter",240:"The player is not in the room",241:"The room does not exist or has been disbanded!",242:"Your chips are overmuch",243:"Your chips are insufficient",244:"You are in the game, please wait to log out after this round is over",245:"Failed to stand up, the player has not yet sat down",249:"Cannot bet now",251:"Your account balance is insufficient",254:"The amount you entered exceeds the safe deposit box assets",257:"The player status is wrong",264:"The betting limit has been reached",272:"Cannot find a suitable room, please try again later",276:"You can stand up after you fold",279:"Your balance does not match, please log in again and then operate",280:"The phone number has been bound, please do not bind it again!",297:"The operation failed",308:"Please enter password",309:"Your old password is wrong, please re-enter\uff01",337:"Too many registered users under the same ip!",352:"Current seat is full",354:"At least 2 people can start the game.",357:"This Facebook account has been bound, please do not bind it again!",358:"The amount of withdrawal does not meet the requirements!",359:"The bank card currently bound does not open the withdrawal function!",360:"Each user can bind up to 3 banks\u2018 information!",361:"The bank information that needs to be updated does not exist!",362:"Incorrect verification code",363:"The mail has been read!",364:"The record does not exist!",365:"The record status of the player piggy bank is incorrect and cannot be operated!",366:"The player's piggy bank already has a profit and cannot be cancelled!",367:"The player failed to cancel the piggy bank operation!",368:"The player failed to transfer to the piggy bank!",369:"The player failed to transfer out of the piggy bank!",370:"The player piggy bank has no income and cannot be transferred out!",371:"Configuration does not exist, saving failed!",372:"The player's account balance is insufficient and the deposit failed!",373:"Your deposit limit is insufficient, please re-enter!",374:"Deposit failed, deposit too few gold coins!",375:"The input password is wrong, the transfer failed!",378:"Gold shortage",379:"Account not registered",380:"Account and password do not match\uff01",385:"The bank account been used!",386:"Bank config info error!",387:"Bank info save error!",388:"The number of friends of the other party has reached the upper limit",389:"The record has expired, try refreshing",390:"Cannot bet repeatedly",392:"Activity not open",393:"Failed to receive, please contact customer service",395:"Player not checked in",396:"There is no number of draws available",397:"No active items configured",398:"Operation failed, please try again",400:"Insufficient stock, please contact customer service",440:"This player is already your friend",441:"Already applied",442:"You have reached the maximum number of friends",443:"The other party is not allowed to add friends",466:"More than the number of frist pay",470:"Login Failed",471:"Failed to obtain user information",472:"Please set the secondary password first",473:"Currency Exchange Failed",474:"The input currency is below the minimum limit",475:"Failed to obtain the history",476:"Access timeout",477:"Amount exceeds limit",478:"The number of transfers exceeds the limit",479:"The transfer amount exceeds the limit",480:"BTI SPORTS Login Failed, please retry",481:"BTI SPORTS Transfer in Failed, please retry",482:"BTI SPORTS Transfer out Failed, please retry",490:"Please wait, the game is preparing.",491:"Gold coin field is closed\uff0cplease log in again.",500:"The connection is abnormal, please try again later...",505:"Wrong bet chips",530:"Login switch is not turned on",531:"The recharge switch is not turned on",532:"The withdrawal switch is not turned on",533:"Game switch is not turned on",610:"leaderboard is not enabled",611:"there is no reward to receive",612:"reward received",613:"rule configuration error, please contact customer service",620:"The tournament has been disbanded",621:"the game has begun",622:"already signed up",623:"the number of people is full",624:"not registered",625:"full or started",626:"the game is over",627:"failed to close the game",628:"Failed to create the game, exceeding the maximum limit of creating the game on the day",629:"Game started or ended or not found",5001:"Has a superior and cannot be bound",5002:"Do not allow loop binding",5003:"User does not exist",5004:"Not allowed to bind yourself",5005:"Insufficient balance to withdraw",5006:"Only query data within seven days",701:"Illegal operation",702:"Currently carrying insufficient gold coins",704:"Gold Shortage"},PageName:{LoremIpsum:"Lorem Ipsum"},Waiting:{EnterGame:"Entering game, please hold..."},Tips:{SilakanMasuk:"Silakan Masuk",GameIsLoading:"The game is loading, please try again when finished",InputBetGold:"Masukkan Jumlah Taruhan {0}-{1}",CopySuccess:"Salin berhasil",BonusAlreadyReceived:"Hadiah misi hari ini telah diterima",PleaseBindYourEmail:"Tolong ikat email Anda",CompleteAnyGameToGetIt:"Selesaikan game apa saja untuk mendapatkannya"},ErrCode:{300002:"kesalahan masuk",300003:"panggilan berulang",300004:"Login diblokir",300005:"Gagal memasuki permainan",300006:"Data akun tidak normal",300007:"Status data akun tidak normal",300008:"Game tidak masuk",300009:"perlu masuk kembali",300010:"Keadaan saat ini tidak bisa bertaruh",300011:"koin taruhan salah",300012:"Gagal menambahkan langganan",300013:"Batas tekanan taruhan otomatis crash",300014:"batas taruhan",300015:"Menambahkan taruhan otomatis tidak diperbolehkan",300016:"Crash secara otomatis bertaruh stop loss",300017:"Crash otomatis bertaruh take profit",300018:"Taruhan crash otomatis selesai",300019:"Kecelakaan unbet gagal, tidak ada",300020:"Ulangi untuk menambahkan langganan",300021:"Dapatkan kesalahan parameter catatan hash",300022:"Dapatkan catatan hash tidak ada",300023:"Token Tidak Valid",300024:"Logout gagal",300025:"Saldo tidak mencukupi",300026:"Isi ulang gagal",300027:"Penarikan gagal",300028:"Gagal mendapatkan daftar kartu bank",300029:"Gagal masuk",300030:"Nomor telepon atau email tidak valid",300031:"Kesalahan parameter",300032:"Kode verifikasi tidak benar",300033:"Nomor telepon sudah ada",300034:"Email sudah ada",300035:"imei sudah ada",300036:"registrasi gagal",300037:"Gagal menyetel ulang sandi",300038:"Gagal memainkan mini-game"},EDITBOX:{NICKNAMENULL:"Please enter nickname!",VERIFINULL:"Please enter verification code",PHONENULL:"Please enter phone number",EMAILNULL:"Please enter email number",PHONETYPEERR:"Wrong phone number format",PSWNULL:"Please enter code",PSWWRONGFUL:"Code contains additional character, please re-enter",PSWCOFAIL:"Two codes you entered are different, please re-enter",NEWPSWNULL:"Please enter new code",NEWPSWWRONGFUL:"New code contains additional characters, please re-enter",CONFIRMPSWNULL:"Two codes you entered are different,please re-enter.",CONFIRMPSWWRONGFUL:"Two codes you entered are different,please re-enter.",OLDNEWPSWEQUALS:"New code is same with old one,failed to modify.",BANKPSWNULL:"Please enter bank account password",BANKPSWFAIL:"Wrong bank account password",PSDLENGTHERROE:"Wrong password length! Please enter 6-12 characters!",UIPID:"Please enter Bank account number",USERNAME:"Please enter Receiver Name",BANKNAME:"Please enter Bank Name",IFSC:"Please enter Accounts Bank ",BANKTIXUANAMOUNT:"Please ensure that  Withdrawal amount entered correctly",ADDRESSNULL:"Please enter address number"},Common:{NoData:"Ups! Belum ada data!"},Promotion:{labPageName:"Referensi",labLevelTitle:"Rasio rebate Anda",labInvitationCodeTitle:"Kode Anda",labInvitationUrlTitle:"Tautan Referensi Anda",labStatTitle:"Ringkasan data",labTotalGoldTitle:"Penghasilan total",labWithdrawGoldTitle:"Jumlah penarikan",labYesterdayGoldTitle:"Penghasilan kemarin",labYesterdayInvitationTitle:"Diundang kemarin",labAllInvitationTitle:"Semua diundang",labUpdateDate:"Perbarui waktu: {0}",labGoldGraphTitle:"Riwayat Pendapatan Anda",labInvitationGraphTitle:"Riwayat Referensi Anda",labRankTitle:"Mitra utama kami",RpGold:"RP {0}",labCollaborateTitle:"Menjadi partner kami",labCollaborateContent:"After becoming our partner, you will enjoy high rewards. At the same time, friends who fill in your referral code can also get additional registration and recharge rewards.",labGetInvitationContent:"Dapatkan kode referensi eksklusif Anda sekarang",labGotAwardTitle:"Berapa banyak hadiah yang bisa anda dapatkan?",labLevelContent:"Tingkat promotor yang berbeda, kami memberikan tingkat penghargaan yang berbeda untuk mendorong promosi",labLevelTitle0:"Promotor Emas",labLevelContent0:"Promosi tingkat 1 mencapai 1000 orang, untung mencapai Rp100000000",labLevelTitle1:"Promotor perak",labLevelContent1:"Promosi tingkat 2 mencapai 100 orang, untung mencapai Rp10000000",labLevelTitle2:"Promotor perunggu",labLevelContent2:"Tidak ada persyaratan",labAwardTitle:"Bagaimana memberi Anda penghargaan ?",labAwardContent:"Setelah teman Anda memainkan game tersebut, kami akan membagi keuntungan yang dia hasilkan kepada Anda sesuai dengan level Anda",labBrokerageTitle:"Your commission",labBrokerageContent:"Keuntungan teman anda\xb7House edge\xb7 ",labLogin:"Mulai Menghasilkan",promotionUpdateDateTips:"Karena banyaknya penghitungan, sistem akan memperbarui data sekali sehan, dan Anda dapat melihat data kemarin setiap hari."},Minigame:{labPageName:"Berputar",RpGold:"RP {0}",labTaskTitle:"Persyaratan",labTaskDesc0:"1.Mengikat email Anda",labBindEmail:"Pergi mengikat",labTaskDesc1:"2.Bermain satu kali putaran pemainan",labBonusTitle:"Lsi",labBonusTips:"Bunos harian hingga"}},cc._RF.pop()},{}],LanguageImpl:[function(e,t,n){"use strict";cc._RF.push(t,"d4760sSVC1OF61w5itElGvR","LanguageImpl"),Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageImpl=n.i18n=void 0;const o=e("./LanguageZH"),i=e("./LanguageEN"),a=e("./LanguageHI");n.i18n=i.LanguageEN;class r{static Instance(){return this._instance||(this._instance=new r)}data(e){return n.i18n=i.LanguageEN,e&&e==o.LanguageZH.language?n.i18n=o.LanguageZH:e&&e==a.LanguageHI.language&&(n.i18n=a.LanguageHI),n.i18n}}n.LanguageImpl=r,r._instance=null,cc._RF.pop()},{"./LanguageEN":"LanguageEN","./LanguageHI":"LanguageHI","./LanguageZH":"LanguageZH"}],LanguageLabel:[function(e,t,n){"use strict";cc._RF.push(t,"9adebAK20FFxaXha2trufC5","LanguageLabel");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../../framework/base/Defines"),r=i(e("../../framework/base/EventComponent")),s=e("../../framework/event/EventApi"),c=e("../manager/Manager"),{ccclass:l,property:d,menu:h}=cc._decorator;let u=class extends r.default{constructor(){super(...arguments),this.en=null,this.enSize=20,this.zh=null,this.zhSize=20,this.hi=null,this.hiSize=20}onLoad(){super.onLoad(),c.Manager.language.getLanguage()===cc.sys.LANGUAGE_ENGLISH?this.en&&(this.getComponent(cc.Label).font=this.en,this.getComponent(cc.Label).fontSize=this.enSize):c.Manager.language.getLanguage()===cc.sys.LANGUAGE_HINDI&&this.hi&&(this.getComponent(cc.Label).font=this.hi,this.getComponent(cc.Label).fontSize=this.hiSize)}bindingEvents(){super.bindingEvents(),a.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(s.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(e){this&&cc.isValid(this)&&this.getComponent(cc.Sprite)&&cc.isValid(this.getComponent(cc.Sprite))&&(e==cc.sys.LANGUAGE_ENGLISH?this.en?(this.getComponent(cc.Label).font=this.en,this.getComponent(cc.Label).fontSize=this.enSize):G.Logger.warn("\u672a\u914d\u7f6e\u591a\u8bed\u8a00"):e==cc.sys.LANGUAGE_CHINESE?this.zh?(this.getComponent(cc.Label).font=this.zh,this.getComponent(cc.Label).fontSize=this.zhSize):G.Logger.warn("\u672a\u914d\u7f6e\u591a\u8bed\u8a00"):e==cc.sys.LANGUAGE_HINDI&&(this.hi?(this.getComponent(cc.Label).font=this.hi,this.getComponent(cc.Label).fontSize=this.hiSize):G.Logger.warn("\u672a\u914d\u7f6e\u591a\u8bed\u8a00")))}};o([d({displayName:"\u82f1\u6587(\u9ed8\u8ba4)",type:cc.Font})],u.prototype,"en",void 0),o([d({displayName:"\u82f1\u6587\u5b57\u4f53\u5927\u5c0f",type:cc.Integer})],u.prototype,"enSize",void 0),o([d({displayName:"\u4e2d\u6587",type:cc.Font})],u.prototype,"zh",void 0),o([d({displayName:"\u4e2d\u6587\u5b57\u4f53\u5927\u5c0f",type:cc.Integer})],u.prototype,"zhSize",void 0),o([d({displayName:"\u5370\u5730\u8bed",type:cc.Font})],u.prototype,"hi",void 0),o([d({displayName:"\u5370\u5730\u5b57\u4f53\u5927\u5c0f",type:cc.Integer})],u.prototype,"hiSize",void 0),u=o([l,h("\u591a\u8bed\u8a00/FontLabel")],u),n.default=u,cc._RF.pop()},{"../../framework/base/Defines":"Defines","../../framework/base/EventComponent":"EventComponent","../../framework/event/EventApi":"EventApi","../manager/Manager":"Manager"}],LanguageSpine:[function(e,t,n){"use strict";cc._RF.push(t,"9fb0aSyX09KR6PtUT4CAeb4","LanguageSpine");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../../framework/base/Defines"),r=i(e("../../framework/base/EventComponent")),s=e("../../framework/event/EventApi"),c=e("../../framework/Framework"),{ccclass:l,property:d,menu:h}=cc._decorator;let u=class extends r.default{constructor(){super(...arguments),this.en=null,this.zh=null,this.hi=null}onLoad(){super.onLoad();let e=c.Manager.language.getLanguage();this.onLanguageChange(e)}bindingEvents(){super.bindingEvents(),a.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(s.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(e){let t=null;e==cc.sys.LANGUAGE_ENGLISH?t=this.en:e==cc.sys.LANGUAGE_CHINESE?t=this.zh:e==cc.sys.LANGUAGE_HINDI&&(t=this.hi),t&&(this.getComponent(sp.Skeleton).skeletonData=t,this.getComponent(sp.Skeleton).setAnimation(0,"newAnimation",!0))}};o([d({displayName:"\u82f1\u6587(\u9ed8\u8ba4)",type:sp.SkeletonData})],u.prototype,"en",void 0),o([d({displayName:"\u4e2d\u6587",type:sp.SkeletonData})],u.prototype,"zh",void 0),o([d({displayName:"\u5370\u5730",type:sp.SkeletonData})],u.prototype,"hi",void 0),u=o([l,h("\u591a\u8bed\u8a00/spine")],u),n.default=u,cc._RF.pop()},{"../../framework/Framework":"Framework","../../framework/base/Defines":"Defines","../../framework/base/EventComponent":"EventComponent","../../framework/event/EventApi":"EventApi"}],LanguageSprite:[function(e,t,n){"use strict";cc._RF.push(t,"76442325NhCzbDMqmRlsRuP","LanguageSprite");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../../framework/base/Defines"),r=i(e("../../framework/base/EventComponent")),s=e("../../framework/event/EventApi"),c=e("../manager/Manager"),{ccclass:l,property:d,menu:h}=cc._decorator;let u=class extends r.default{constructor(){super(...arguments),this.en=null,this.zh=null,this.hi=null}onLoad(){super.onLoad(),c.Manager.language.getLanguage()===cc.sys.LANGUAGE_ENGLISH?this.en&&(this.getComponent(cc.Sprite).spriteFrame=this.en):c.Manager.language.getLanguage()===cc.sys.LANGUAGE_HINDI&&this.hi&&(this.getComponent(cc.Sprite).spriteFrame=this.hi)}bindingEvents(){super.bindingEvents(),a.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(s.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(e){this&&cc.isValid(this)&&this.getComponent(cc.Sprite)&&cc.isValid(this.getComponent(cc.Sprite))&&(e==cc.sys.LANGUAGE_ENGLISH?this.en?this.getComponent(cc.Sprite).spriteFrame=this.en:G.Logger.warn("\u672a\u914d\u7f6e\u591a\u8bed\u8a00"):e==cc.sys.LANGUAGE_CHINESE?this.zh?this.getComponent(cc.Sprite).spriteFrame=this.zh:G.Logger.warn("\u672a\u914d\u7f6e\u591a\u8bed\u8a00"):e==cc.sys.LANGUAGE_HINDI&&(this.hi?this.getComponent(cc.Sprite).spriteFrame=this.hi:G.Logger.warn("\u672a\u914d\u7f6e\u591a\u8bed\u8a00")))}};o([d({displayName:"\u82f1\u6587(\u9ed8\u8ba4)",type:cc.SpriteFrame})],u.prototype,"en",void 0),o([d({displayName:"\u4e2d\u6587",type:cc.SpriteFrame})],u.prototype,"zh",void 0),o([d({displayName:"\u5370\u5730\u8bed",type:cc.SpriteFrame})],u.prototype,"hi",void 0),u=o([l,h("\u591a\u8bed\u8a00/sprite")],u),n.default=u,cc._RF.pop()},{"../../framework/base/Defines":"Defines","../../framework/base/EventComponent":"EventComponent","../../framework/event/EventApi":"EventApi","../manager/Manager":"Manager"}],LanguageZH:[function(e,t,n){"use strict";cc._RF.push(t,"17894YfmvRGcaBN7+o1yulR","LanguageZH"),Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageZH=void 0,n.LanguageZH={language:cc.sys.LANGUAGE_CHINESE,TITLE:{HOTTESTGAME:"Hottes Game",LATESTBET:"Latest Bet",BIGGESTWINNER:"Biggest Winner",LABGAME:"Permainan",LABPLAYER:"Pemain",LABBETAMOUNT:"Jumlah Taruhan",LABDAILY:"Daily",LABWEEKLY:"Weekly",LABALL:"All"},BET_TITLE:{LATESTBET:"Latest Bet",GAMES:"Permainan",PLAYER:"Pemain",BETAMOUNT:"Jumlah Taruhan"},BIGGESTWINNER:{BIGGESTWINNER:"Biggest Winner",DAILY:"Daily",WEEKLY:"Weekly",ALL:"All"},AKUN_TITLE:{PROFILE:"Profile",RANKING:"Ranking",GAMES:"Games",INTEGRATION:"Integration",USED:"Used",REFERENCE:"Reference",ARRANGE:"Arrange",EMAIL_VERIFICATION:"Verifikasl Email",PHONE_VERIFICATION:"Verifikasl Telepon",SECURITY_SETTING:"Security Settings",CHANGE_PASSWORD:"MengubahKatesandi",PRIVACY_SETTING:"PengaturanPrivasl",LANGUAGE:"Bahasa",ABOUT:"Tentang",FAQ:"FAQ",CONTACT_US:"HubungiKaml"},MISSION:{RECEIVEDSUCCESS:"Received successfully!"},WAIT:{DISCONNECT:"Network disconnected, reconnecting now...",ENTERGAMEWAIT:"Entering game, please hold...",NETERROR:"Network request failed, please retry\uff01",CONNECTSERVER:"Connecting to the server...",WAGEWAY:"identity authentication...",LOGIN:"Login...",LOADING:"Loading...",UPLOADING:"Uploading..."},REGISTER:{NOBOUDMAIL:"No bound mailbox!",EMAILWRONG:"The mailbox format is incorrect!",EMAILINFORMATIONEMPTY:"Please fill in the email or telephone!",CODEINFORMATIONEMPTY:"Please fill in the verification code!",PLEASECHECK:"Sent, please check!",PHONEWRONG:"Incorrect mobile phone format!",PASSWORD8:"Password length cannot be less than 8!",MUST_INCLUDE_CASE_NUMBER:"Passwords must contain upper and lower case letters and numbers",REGISTERSUCCESS:"Registration successful, Good Luck!",CHANGEPASSWORDSUCCESS:"ChangePassword successful!",CHANGEAVATARSUCCESS:"ChangeAvatar successful!",BINDSUCCESS:"Bound successful!"},TIPS:{NOTBINDEMAIL:"No bound mailbox!",GAMEDOWNLOADCOPYERROR:"Failed to copy!",NETWAITTIMEOUT:"Net-work time-out!",NOTOPENPLEASEWAIT:"Not yet open, please wait!",SHARESUCCESS:"Share Success",SHAREFAILED:"Share Failed",RECHARGESUCCESS:"Recharge Success",ENTERRECHARGE:"Please enter the recharge amount or select the product",WITHDRAWSUCCESS:"Withdraw Success",BINDBANKSUCCESS:"BindBank Success",BANDBANKINFOFAIL:"Please complete the bank binding information",SEVENSIGNINSUCCESS:"Congratulations on getting the seven day sign in reward",THIRTYSIGNINSUCCESS:"Congratulations on getting the 30 day sign in reward",SIGNINSUCCESS:"Sign Success",SENDCHECK:"Sent, please check",SELECTBANk:"Please select a bank first",QUITGAME:"Are you sure you want to quit the game ?",VERSIONUPDATE:"Current version does not match and need download game pack!",UPDATE:"Update",CHECKJOINGAME:"You are in the hosting of {0} Game, temporarily unable to enter other games",DOWNLOADFAILED:"Network is not good. Please change the network environment!",DOWNLOADSUCCEED:"Download update succeeded!",GAMENEWVERSION:"There is a new version of the game. Do you want to restart it?",RETRY:"Retry",historyTip:"Only keep the last seven days of history",BetID:"Bet ID",Time:"Time",BetAmount:"Bet Amount",Odds:"Odds",Profit:"Profit",Multiple:"Multiple",Typeofbet:"Type of bet",WinorLost:"Win or Lost",SettlementAmount:"Settlement Amount",noGoldEnterRoom:"You don\u2019t have enough chips. A minimum of {0} chips is required to enter the room. Do you want to recharge now?",removedRoom:"You have not fired for more than 1 minute and are removed from the room"},ERRORTIPS:{REQSEND:"Aapplication has sent",REQSENDCHECKMESSAGE:"Application sent already, please note the messages",CODETIMESHORT:"The interval of sending OTPs is too short",FEIFACAOZUO:"Illegal operation",GOLDFEW:"Inadequate coins",ADDGOLDFEIFA:"Bet amount is illegal",QIPAI:"Player folded",NOTREADYSTATE:"Non-prepare status",CAOZUOTOFAST:"Actions too oftenm, please wait for %s retry",SERVERTIMEOUT:"Server request time-out!",HUOQU:"Obtain",TOPACCOUNT:"Your account is logged in on another device, If you did not do it yourself, please change the password in time",GUESTBINDERROR:"Guest need to bind mobile phone number first",ROOMLISTERROR:"Room list does not exist"},AGENT:{INPUT_PARENT_ID:"Promoter ID",PARENT_ID_LENGTH_ERROR:"Wrong superior agent ID",BIND_SUCCEED:"Bind successfully",DATA_EMPTY:"Empty data",CHECKING:"Review",PASS:"Pass",REJECTED:"Not Pass",WITHDRAW_NUM_ERR:"Incorrect receive amount",APPLY_WITHDRAW:"Has applied for receive",AGENTPOT:"Agent Pot"},PROMOTION:{LABELA:"User",LABELB:"Member linked to User",LABELC:"Member linked to B",LABELD:"Member linked to C",BOUNSCALCULATION:"=Sevice Fee by B x Level 1 Ratio+Sevice Fee by C x Level 2 Ratio+Sevice Fee by D x Level 3 Ratio",CONNECTLABEL:"Enter your promoter ID",EXCLUSIVELINK:"individual link\uff1a",EXCLUSIVELINK2:"individual link",SHARETO:"Share to\uff1a",TOTALBONUS:"Total Bonus",AVAILABEL:"Availabel Bonus",BONUS:"Bonus",RATIO:"Ratio",DTRAILSNODE:{TIP1:"All Turnover:",TIP2:"All Rebate:",TIP3:"The total number of:",TIP4:"Only show the details of 1 week",TITLE1:"Name",TITLE2:"ID",TITLE3:"Type",TITLE4:"Turnover",TITLE5:"Rebate",NEARLYAWEEK:"Nearly a week",ALLTYPE:"All Types"},ACCOUNTDETAILSORRECORDNODE:{LEVEL_TITLE1:"Invitation Time",LEVEL_TITLE2:"Name",LEVEL_TITLE3:"ID",LEVEL_TITLE4:"NO.offline",LEVEL_TITLE5:"Total Bonus",NOD_TITLE1:"Number",NOD_TITLE2:"Time",NOD_TITLE3:"Amount",NOD_TITLE4:"Overage"}},ERRORCODE:{VERSIONCHECK:"Serverversion examine, failed please retry",NETCLOSE:"The network is disconnected. Please check the network",PLEASECHECK:"Game server developer please check",SERVERERROR:"Server request failed, please retry",SERVERTIMEOUT:"Server request timeout\uff0cplease retry!",GAMELISTERROR:"Failed to get the game list please try again",DATAERROR:"Server request returned data error,status:",E20010001:"Network disconnected, please login again\uff01",E10020007:"Failed to login",11:"Login timeout, please try again later...",12:"The current room is not open....",13:"Password reset failed, please try again later!",14:"The parameter is wrong",15:"Too many new users have registered, please try again later!",104:"This session is not open yet!",107:"The player does not exist!",110:"The player login has expired, please log in again",111:"The player is not registered",114:"There is already someone at this location",120:"Your account is logged in elsewhere, you are forced to go offline",122:"The room has been disbanded...",145:"This account is forbidden to log in",146:"The player is not logged in!",149:"The server has been maintained Please follow the official news for the duration",170:"Friend room is not opened",174:"The game has started!",175:"The number of people who can start is not reached",176:"Mobile phone number has been registered",227:"The room does not exist or has been disbanded!",229:"In the game!",231:"This phone number is not registered",232:"Incorrect verification code",233:"You have signed in today, please do not sign in again",235:"Can't add yourself as a friend",237:"There is a problem with the amount you entered, please re-enter",240:"The player is not in the room",241:"The room does not exist or has been disbanded!",242:"Your chips are overmuch",243:"Your chips are insufficient",244:"You are in the game, please wait to log out after this round is over",245:"Failed to stand up, the player has not yet sat down",249:"Cannot bet now",251:"Your account balance is insufficient",254:"The amount you entered exceeds the safe deposit box assets",257:"The player status is wrong",264:"The betting limit has been reached",272:"Cannot find a suitable room, please try again later",276:"You can stand up after you fold",279:"Your balance does not match, please log in again and then operate",280:"The phone number has been bound, please do not bind it again!",297:"The operation failed",308:"Please enter password",309:"Your old password is wrong, please re-enter\uff01",337:"Too many registered users under the same ip!",352:"Current seat is full",354:"At least 2 people can start the game.",357:"This Facebook account has been bound, please do not bind it again!",358:"The amount of withdrawal does not meet the requirements!",359:"The bank card currently bound does not open the withdrawal function!",360:"Each user can bind up to 3 banks\u2018 information!",361:"The bank information that needs to be updated does not exist!",362:"Incorrect verification code",363:"The mail has been read!",364:"The record does not exist!",365:"The record status of the player piggy bank is incorrect and cannot be operated!",366:"The player's piggy bank already has a profit and cannot be cancelled!",367:"The player failed to cancel the piggy bank operation!",368:"The player failed to transfer to the piggy bank!",369:"The player failed to transfer out of the piggy bank!",370:"The player piggy bank has no income and cannot be transferred out!",371:"Configuration does not exist, saving failed!",372:"The player's account balance is insufficient and the deposit failed!",373:"Your deposit limit is insufficient, please re-enter!",374:"Deposit failed, deposit too few gold coins!",375:"The input password is wrong, the transfer failed!",378:"Gold shortage",379:"Account not registered",380:"Account and password do not match\uff01",385:"The bank account been used!",386:"Bank config info error!",387:"Bank info save error!",388:"The number of friends of the other party has reached the upper limit",389:"The record has expired, try refreshing",390:"Cannot bet repeatedly",392:"Activity not open",393:"Failed to receive, please contact customer service",395:"Player not checked in",396:"There is no number of draws available",397:"No active items configured",398:"Operation failed, please try again",400:"Insufficient stock, please contact customer service",440:"This player is already your friend",441:"Already applied",442:"You have reached the maximum number of friends",443:"The other party is not allowed to add friends",466:"More than the number of frist pay",470:"Login Failed",471:"Failed to obtain user information",472:"Please set the secondary password first",473:"Currency Exchange Failed",474:"The input currency is below the minimum limit",475:"Failed to obtain the history",476:"Access timeout",477:"Amount exceeds limit",478:"The number of transfers exceeds the limit",479:"The transfer amount exceeds the limit",480:"BTI SPORTS Login Failed, please retry",481:"BTI SPORTS Transfer in Failed, please retry",482:"BTI SPORTS Transfer out Failed, please retry",490:"Please wait, the game is preparing.",491:"Gold coin field is closed\uff0cplease log in again.",500:"The connection is abnormal, please try again later...",505:"Wrong bet chips",530:"Login switch is not turned on",531:"The recharge switch is not turned on",532:"The withdrawal switch is not turned on",533:"Game switch is not turned on",610:"leaderboard is not enabled",611:"there is no reward to receive",612:"reward received",613:"rule configuration error, please contact customer service",620:"The tournament has been disbanded",621:"the game has begun",622:"already signed up",623:"the number of people is full",624:"not registered",625:"full or started",626:"the game is over",627:"failed to close the game",628:"Failed to create the game, exceeding the maximum limit of creating the game on the day",629:"Game started or ended or not found",5001:"Has a superior and cannot be bound",5002:"Do not allow loop binding",5003:"User does not exist",5004:"Not allowed to bind yourself",5005:"Insufficient balance to withdraw",5006:"Only query data within seven days",701:"Illegal operation",702:"Currently carrying insufficient gold coins",704:"Gold Shortage"},PageName:{LoremIpsum:"Lorem Ipsum"},Waiting:{EnterGame:"Entering game, please hold..."},Tips:{SilakanMasuk:"Silakan Masuk",GameIsLoading:"The game is loading, please try again when finished",InputBetGold:"Masukkan Jumlah Taruhan {0}-{1}",CopySuccess:"Salin berhasil",BonusAlreadyReceived:"Hadiah misi hari ini telah diterima",PleaseBindYourEmail:"Tolong ikat email Anda",CompleteAnyGameToGetIt:"Selesaikan game apa saja untuk mendapatkannya"},ErrCode:{300002:"kesalahan masuk",300003:"panggilan berulang",300004:"Login diblokir",300005:"Gagal memasuki permainan",300006:"Data akun tidak normal",300007:"Status data akun tidak normal",300008:"Game tidak masuk",300009:"perlu masuk kembali",300010:"Keadaan saat ini tidak bisa bertaruh",300011:"koin taruhan salah",300012:"Gagal menambahkan langganan",300013:"Batas tekanan taruhan otomatis crash",300014:"batas taruhan",300015:"Menambahkan taruhan otomatis tidak diperbolehkan",300016:"Crash secara otomatis bertaruh stop loss",300017:"Crash otomatis bertaruh take profit",300018:"Taruhan crash otomatis selesai",300019:"Kecelakaan unbet gagal, tidak ada",300020:"Ulangi untuk menambahkan langganan",300021:"Dapatkan kesalahan parameter catatan hash",300022:"Dapatkan catatan hash tidak ada",300023:"Token Tidak Valid",300024:"Logout gagal",300025:"Saldo tidak mencukupi",300026:"Isi ulang gagal",300027:"Penarikan gagal",300028:"Gagal mendapatkan daftar kartu bank",300029:"Gagal masuk",300030:"Nomor telepon atau email tidak valid",300031:"Kesalahan parameter",300032:"Kode verifikasi tidak benar",300033:"Nomor telepon sudah ada",300034:"Email sudah ada",300035:"imei sudah ada",300036:"registrasi gagal",300037:"Gagal menyetel ulang sandi",300038:"Gagal memainkan mini-game"},EDITBOX:{NICKNAMENULL:"Please enter nickname!",VERIFINULL:"Please enter verification code",PHONENULL:"Please enter phone number",EMAILNULL:"Please enter email number",PHONETYPEERR:"Wrong phone number format",PSWNULL:"Please enter code",PSWWRONGFUL:"Code contains additional character, please re-enter",PSWCOFAIL:"Two codes you entered are different, please re-enter",NEWPSWNULL:"Please enter new code",NEWPSWWRONGFUL:"New code contains additional characters, please re-enter",CONFIRMPSWNULL:"Two codes you entered are different,please re-enter.",CONFIRMPSWWRONGFUL:"Two codes you entered are different,please re-enter.",OLDNEWPSWEQUALS:"New code is same with old one,failed to modify.",BANKPSWNULL:"Please enter bank account password",BANKPSWFAIL:"Wrong bank account password",PSDLENGTHERROE:"Wrong password length! Please enter 6-12 characters!",UIPID:"Please enter Bank account number",USERNAME:"Please enter Receiver Name",BANKNAME:"Please enter Bank Name",IFSC:"Please enter Accounts Bank ",BANKTIXUANAMOUNT:"Please ensure that  Withdrawal amount entered correctly",ADDRESSNULL:"Please enter address number"},Common:{NoData:"Ups! Belum ada data!"},Promotion:{labPageName:"Referensi",labLevelTitle:"Rasio rebate Anda",labInvitationCodeTitle:"Kode Anda",labInvitationUrlTitle:"Tautan Referensi Anda",labStatTitle:"Ringkasan data",labTotalGoldTitle:"Penghasilan total",labWithdrawGoldTitle:"Jumlah penarikan",labYesterdayGoldTitle:"Penghasilan kemarin",labYesterdayInvitationTitle:"Diundang kemarin",labAllInvitationTitle:"Semua diundang",labUpdateDate:"Perbarui waktu: {0}",labGoldGraphTitle:"Riwayat Pendapatan Anda",labInvitationGraphTitle:"Riwayat Referensi Anda",labRankTitle:"Mitra utama kami",RpGold:"RP {0}",labCollaborateTitle:"Menjadi partner kami",labCollaborateContent:"After becoming our partner, you will enjoy high rewards. At the same time, friends who fill in your referral code can also get additional registration and recharge rewards.",labGetInvitationContent:"Dapatkan kode referensi eksklusif Anda sekarang",labGotAwardTitle:"Berapa banyak hadiah yang bisa anda dapatkan?",labLevelContent:"Tingkat promotor yang berbeda, kami memberikan tingkat penghargaan yang berbeda untuk mendorong promosi",labLevelTitle0:"Promotor Emas",labLevelContent0:"Promosi tingkat 1 mencapai 1000 orang, untung mencapai Rp100000000",labLevelTitle1:"Promotor perak",labLevelContent1:"Promosi tingkat 2 mencapai 100 orang, untung mencapai Rp10000000",labLevelTitle2:"Promotor perunggu",labLevelContent2:"Tidak ada persyaratan",labAwardTitle:"Bagaimana memberi Anda penghargaan ?",labAwardContent:"Setelah teman Anda memainkan game tersebut, kami akan membagi keuntungan yang dia hasilkan kepada Anda sesuai dengan level Anda",labBrokerageTitle:"Your commission",labBrokerageContent:"Keuntungan teman anda\xb7House edge\xb7 ",labLogin:"Mulai Menghasilkan",promotionUpdateDateTips:"Karena banyaknya penghitungan, sistem akan memperbarui data sekali sehan, dan Anda dapat melihat data kemarin setiap hari."},Minigame:{labPageName:"Berputar",RpGold:"RP {0}",labTaskTitle:"Persyaratan",labTaskDesc0:"1.Mengikat email Anda",labBindEmail:"Pergi mengikat",labTaskDesc1:"2.Bermain satu kali putaran pemainan",labBonusTitle:"Lsi",labBonusTips:"Bunos harian hingga"}},cc._RF.pop()},{}],Language:[function(e,t,n){"use strict";cc._RF.push(t,"9dd04SnyLlDxaxIql2b+JXA","Language"),Object.defineProperty(n,"__esModule",{value:!0}),n.Language=void 0;const o=e("../event/EventApi"),i=e("./Defines"),a=e("../Framework"),r="using_language";class s{constructor(){this._data={language:"unknown"}}static Instance(){return this._instance||(this._instance=new s)}set delegate(e){this._delegate=e,this.change(this.getLanguage())}get delegate(){return this._delegate}change(e){this.delegate&&(this._data&&this._data.language==e||(i.ENABLE_CHANGE_LANGUAGE?(this._data=this.delegate.data(e),a.Manager.localStorage.setItem(r,this._data.language),dispatch(o.EventApi.CHANGE_LANGUAGE,e)):(this._data=this.delegate.data(this.getLanguage()),a.Manager.localStorage.setItem(r,this._data.language))))}get(e){let t="";do{if(!e)break;if(e.length<1)break;let n=e[0];if("string"!=typeof n){cc.error("key error");break}if(!(n.indexOf(i.USING_LAN_KEY)>-1))return n=e.shift(),String.format(n,e);{let o=n.split(".");if(o.length<2){cc.error("key error");break}if(o.shift(),e.shift(),!(t=this._data[o[0]])){cc.error(`\u8bed\u8a00\u5305\u4e0d\u5b58\u5728 : ${n}`);break}let i=1;for(;i<o.length&&null!=t[o[i]];i++)t=t[o[i]];i!=o.length&&cc.error(`\u8bed\u8a00\u5305\u4e0d\u5b58\u5728 : ${n}`),t=String.format(t,e)}}while(0);return t}getLanguage(){return a.Manager.localStorage.getItem(r,cc.sys.LANGUAGE_ENGLISH)}}n.Language=s,s._instance=null,cc._RF.pop()},{"../Framework":"Framework","../event/EventApi":"EventApi","./Defines":"Defines"}],LeaderBoardItem:[function(e,t,n){"use strict";cc._RF.push(t,"15747K2ICBK2bNN9K+nPBUV","LeaderBoardItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=i(e("../framework/ui/UIView")),s=e("../global/User"),c=e("../global/UtilMgr"),{ccclass:l,property:d}=cc._decorator;let h=class extends a.default{constructor(){super(...arguments),this.index=null,this.uname=null,this.reward=null,this.gold=null,this.head=null,this.icon1=null,this.icon2=null,this.icon3=null,this.bg=null,this.bg2=null,this.view=null}onLoad(){this.icon1.active=!1,this.icon2.active=!1,this.icon3.active=!1,this.index.string=""}updateItem(e,t){super.updateItem(e,t),e&&(1==e.rank?(this.icon1.active=!0,this.index.string=""):2==e.rank?(this.icon2.active=!0,this.index.string=""):3==e.rank?(this.icon3.active=!0,this.index.string=""):(this.icon1.active=!1,this.icon2.active=!1,this.icon3.active=!1,this.index.string=e.rank),this.bg.active=e.userId===s.User._userID,this.bg2.active=!this.bg.active,this.uname.string=c.UtilMgr.setString(e.nickname),this.gold.string=c.UtilMgr.changeMoney(e.winGold,!0,!0),this.reward.string=c.UtilMgr.changeMoney(e.reward),this.reward.node.color=(new cc.Color).fromHEX(e.rank<=3?"#7DFFFD":"#00FF66"),this.reward.fontSize=e.rank<=3?30:24,c.UtilMgr.loadHeadImg(this.head,e.headImg,e.userId,this.view))}};o([d(cc.Label)],h.prototype,"index",void 0),o([d(cc.Label)],h.prototype,"uname",void 0),o([d(cc.Label)],h.prototype,"reward",void 0),o([d(cc.Label)],h.prototype,"gold",void 0),o([d(cc.Sprite)],h.prototype,"head",void 0),o([d(cc.Node)],h.prototype,"icon1",void 0),o([d(cc.Node)],h.prototype,"icon2",void 0),o([d(cc.Node)],h.prototype,"icon3",void 0),o([d(cc.Node)],h.prototype,"bg",void 0),o([d(cc.Node)],h.prototype,"bg2",void 0),o([d(r.default)],h.prototype,"view",void 0),h=o([l],h),n.default=h,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr"}],LeaderBoardView:[function(e,t,n){"use strict";cc._RF.push(t,"3598aKvShNNvI8EhRuxspma","LeaderBoardView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.rankType=void 0;const r=a(e("../common/component/ScroViewCtrl")),s=a(e("../common/component/ScroViewLogic")),c=e("../common/language/LanguageImpl"),l=e("../common/manager/Manager"),d=e("../common/net/CommonService"),h=e("../common/net/LobbyService"),u=e("../framework/base/Defines"),p=e("../framework/decorator/Decorators"),g=a(e("../framework/ui/UIView")),m=e("../global/User"),f=e("../global/UtilMgr"),b=a(e("../msgbox/PanelHelp")),y=a(e("./RecordView")),_=a(e("./RuleView")),{ccclass:v,property:w}=cc._decorator;(function(e){e[e.Friends=1]="Friends",e[e.Wealth=2]="Wealth",e[e.DayEarn=3]="DayEarn"})(n.rankType||(n.rankType={}));let C=class extends g.default{constructor(){super(...arguments),this.scrollView=null,this.myName=null,this.myReward=null,this.myRankIndex=null,this.myGold=null,this.myHead=null,this.noResult=null,this.redPoint=null,this._rankingList=[]}static getPrefabUrl(){return"rank/prefabs/LeaderBoardView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}bindingEvents(){super.bindingEvents(),this.registerEvent(p.makeKey(d.serverType.Lobby,d.protoPackage.hall.HallCmd.CMD_NewRankingList),this.updateList),this.registerEvent(p.makeKey(d.serverType.Lobby,d.protoPackage.hall.HallCmd.FLUSH_RED_DOT),this.flushRedDot),this.registerEvent("updateUserInfo",this.updateUserInfo),this.registerEvent("OpenBox",this.reqFlushRedDot)}updateUserInfo(){this.myName.string=f.UtilMgr.setString(m.User._userName),f.UtilMgr.loadHeadImg(this.myHead,m.User._headImgUrl,m.User._userID,this)}updateList(e){if(cc.log(e,"Rank"),e)if(0==e.statusMsg.status){e.rankingPlayer.length>0&&(this._rankingList=e.rankingPlayer,this.getComponent(s.default).initUI(this._rankingList),this.moveToMe()),b.default.hideLoading();let t=this.getMeRankInfo();this.myRankIndex.string=t.rankIndex?t.rankIndex:e.winGold>0?e.rankingSize+"+":"none",this.myReward.string=t.reward?f.UtilMgr.changeMoney(t.reward):"none",this.myGold.string=t.winChips?f.UtilMgr.changeMoney(t.winChips,!0,!0):e.winGold>0?f.UtilMgr.changeMoney(e.winGold,!0,!0):"0",this.noResult.active=0==e.rankingPlayer.length}else b.default.showMsgBox("",l.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}getMeRankInfo(){let e=null,t=null,n=null;for(let o=0;o<this._rankingList.length;o++){let i=this._rankingList[o];if(i.userId==m.User._userID){e=i.rank,t=i.reward,n=i.winGold;break}}return{rankIndex:e,reward:t,winChips:n}}rankView(e){return i(this,void 0,void 0,function*(){let t=this.getComponent(r.default);t.dataList=e,yield t.framingLoad(e.length),b.default.hideLoading(),this.moveToMe()})}show(e){super.show(e),this.showWithAction(!0)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"ruleBtn":l.Manager.uiManager.open({type:_.default,bundle:u.BUNDLE_RESOURCES});break;case"recordBtn":l.Manager.uiManager.open({type:y.default,bundle:u.BUNDLE_RESOURCES});break;case"backBtn":this.moveToMe();break;default:G.Logger.error("no find button name -> %s",e)}}moveToMe(){let e=this.getMeRankInfo().rankIndex,t=this._rankingList.length,n=t-6;if(e)if(t<6)this.scrollView.scrollToTop(.2);else if(e+4-6>t)this.scrollView.scrollToBottom(.2);else if(n<=3)if(e<=4)this.scrollView.scrollToTop(.2);else{let t=1-(e-4)/n;this.scrollView.scrollTo(new cc.Vec2(0,t),.2)}else{let t=1-(e-4)/n;this.scrollView.scrollTo(new cc.Vec2(0,t),.2)}else this.scrollView.scrollToBottom(.2)}refreshRank(){this.service.sendMsg(d.serverType.Lobby,d.protoPackage.hall.HallCmd.CMD_NewRankingList,null)}start(){this.myName.string=f.UtilMgr.setString(m.User._userName),this.myGold.string=m.User.isRechargedPlayer?"0":c.i18n.EXPERIENCE_FIELD.NoGold,f.UtilMgr.loadHeadImg(this.myHead,m.User._headImgUrl,m.User._userID,this),b.default.showLoading(c.i18n.WAIT.LOADING),this.refreshRank(),this.reqFlushRedDot()}flushRedDot(e){cc.log(e,"rankRedPoint"),e&&(0==e.statusMsg.status?this.redPoint&&(this.redPoint.active=e.rank&&1==e.rank.redDot):b.default.showMsgBox("",l.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}reqFlushRedDot(){let e=d.protoPackage.hall.base.FlushRedDot.create({userId:m.User._userID}),t=d.protoPackage.hall.base.FlushRedDot.encode(e).finish();this.service.sendMsg(d.serverType.Lobby,d.protoPackage.hall.HallCmd.FLUSH_RED_DOT,t)}onDestroy(){super.onDestroy()}};o([w(cc.ScrollView)],C.prototype,"scrollView",void 0),o([w(cc.Label)],C.prototype,"myName",void 0),o([w(cc.Label)],C.prototype,"myReward",void 0),o([w(cc.Label)],C.prototype,"myRankIndex",void 0),o([w(cc.Label)],C.prototype,"myGold",void 0),o([w(cc.Sprite)],C.prototype,"myHead",void 0),o([w(cc.Node)],C.prototype,"noResult",void 0),o([w(cc.Node)],C.prototype,"redPoint",void 0),C=o([v,p.injectService(h.LobbyService.instance)],C),n.default=C,cc._RF.pop()},{"../common/component/ScroViewCtrl":"ScroViewCtrl","../common/component/ScroViewLogic":"ScroViewLogic","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./RecordView":"RecordView","./RuleView":"RuleView"}],ListView:[function(e,t,n){"use strict";cc._RF.push(t,"df317NFqC5COIrGmHLMpHw2","ListView");var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const l=r(e("../define/ComponentDefine")),d=c(e("../utils/TypeUtils")),{ccclass:h,property:u}=cc._decorator;let p=class extends cc.ScrollView{constructor(){super(...arguments),this.directionType=l.DirectionType.HORIZONTAL,this.isPaging=!1,this.pullLeftEventHandler=new cc.Component.EventHandler,this.pullRightEventHandler=new cc.Component.EventHandler,this.pullTopEventHandler=new cc.Component.EventHandler,this.pullBottomEventHandler=new cc.Component.EventHandler,this.waitingImage=null,this.itemPrefab=null,this.mode=l.ListViewLoadMode.NONE,this.horizontal=this.direction===l.DirectionType.HORIZONTAL,this.vertical=this.direction===l.DirectionType.VERTICAL,this.brake=.75,this.bounceDuration=.23,this.spacingY=0,this.top=0,this.bottom=0,this.spacingX=0,this.left=0,this.right=0,this.clickItemEventHandler=new cc.Component.EventHandler,this._isLoaded=!1,this._itemDataList=[],this._itemNodePool=new cc.NodePool,this._lastPos=cc.v2(0,0),this._renderItemStartIndex=null,this._renderItemEndIndex=null,this._isRendering=!1,this._itemCacheDataList=[],this._renderingOperateCount=0,this._cacheRenderItemStartIndex=null}get direction(){return this.directionType}set direction(e){e!==this.directionType&&(this.directionType=e,this.changeDirection(e))}changeDirection(e){this.horizontal=e===l.DirectionType.HORIZONTAL,this.vertical=e===l.DirectionType.VERTICAL,cc.Class.Attr.setClassAttr(this,"top","visible",this.direction===l.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"bottom","visible",this.direction===l.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"spacingY","visible",this.direction===l.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"verticalScrollBar","visible",this.direction===l.DirectionType.VERTICAL),cc.Class.Attr.setClassAttr(this,"left","visible",this.direction===l.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"right","visible",this.direction===l.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"spacingX","visible",this.direction===l.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"horizontalScrollBar","visible",this.direction===l.DirectionType.HORIZONTAL)}onLoad(){this.register(),this.initData(),this.initView()}start(){super.start()}set(e){d.default.isNull(e)?this.remove(0):d.default.isArray(e)&&e.length<=0?this.remove(0):(this._isRendering?(this.setData(this._itemCacheDataList,e),this._cacheRenderItemStartIndex=0,++this._renderingOperateCount):(this.setData(this._itemDataList,e),this._renderItemStartIndex=0,this._renderItemEndIndex=this._itemDataList.length,this.updateListItem()),this.stopAutoScroll(),this.scrollToTop())}setData(e,t){e.length=0,this.insertData(e,t,0)}insert(e,t){if(d.default.isNull(e))return;if(d.default.isArray(e)&&e.length<=0)return;let n=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),n=this._itemCacheDataList):n=this._itemDataList,d.default.isNull(t)?t=n.length:t<0?t=0:t>n.length&&(t=n.length),this._isRendering?(this.insertData(n,e,t),d.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=t:this._cacheRenderItemStartIndex>t&&(this._cacheRenderItemStartIndex=t),++this._renderingOperateCount):(this.insertData(n,e,t),this._renderItemStartIndex=t,this._renderItemEndIndex=n.length,this.updateListItem())}insertData(e,t,n){if(Array.isArray(t)){let o=[n,0];o=o.concat(t),e.splice.apply(e,o)}else e.splice(n,0,t)}remove(e,t){if(this._itemDataList.length<=0)return;let n=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),n=this._itemCacheDataList):n=this._itemDataList,d.default.isNull(e)&&d.default.isNull(t)?(e=0,t=n.length):d.default.isNull(e)?(e=n.length-t)<0&&(e=0,t=n.length):d.default.isNull(t)&&(e<0?e=0:e>=n.length&&(e=n.length-1),t=n.length-e),this._isRendering?(n.splice(e,t),d.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=e:this._cacheRenderItemStartIndex>e&&(this._cacheRenderItemStartIndex=e),++this._renderingOperateCount):(n.splice(e,t),this._renderItemStartIndex=e,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem())}updateListItem(){if(!this._isLoaded)return;this.setRendering(!0);let e=!1;if(this.content.setContentSize(this.getInnerEstimateSize()),this.mode===l.ListViewLoadMode.ENDLESS);else{let t=[];for(let n=this._renderItemStartIndex;n<this._renderItemEndIndex;++n){let o=this.content.children[n],i=this._itemDataList[n];if(!d.default.isNull(o)&&this._itemDataList.hasOwnProperty(n)){this.clickItemEventHandler&&(o.getComponent(cc.Button).node.off("click"),o.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,o,i)));let e=o.getComponent(o.name);e.onShow&&e.onShow(i)}else{if(d.default.isNull(o)&&!this._itemDataList.hasOwnProperty(n))continue;if(this._itemDataList.hasOwnProperty(n)){if(d.default.isNull(o)){let t=this._itemDataList.slice(n,this._itemDataList.length);if(this.mode===l.ListViewLoadMode.FRAME){let o=this._itemNodePool.size();if(o>0){let i=n+o;t=this._itemDataList.slice(n,i),this.directLoadItem(t),i<this._renderItemEndIndex&&(t=this._itemDataList.slice(i,this._renderItemEndIndex),this.frameLoadItem(t),e=!0)}else this.frameLoadItem(t),e=!0}else this.mode===l.ListViewLoadMode.NONE&&this.directLoadItem(t);break}}else t.push(n)}}for(let e=t.length-1;e>=0;--e){let n=this.content.children[t[e]];this.putNode(n)}e||this.setRendering(!1)}}updateCacheDataList(){this.setData(this._itemDataList,this._itemCacheDataList),this._itemCacheDataList.length=0,this._renderItemStartIndex=this._cacheRenderItemStartIndex,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem()}initData(){this._isLoaded=!0}register(){this.node.on("scroll-to-top",this.onScrollToTop,this),this.node.on("scroll-to-bottom",this.onScrollToBottom,this),this.node.on("scroll-to-left",this.onScrollToLeft,this),this.node.on("scroll-to-right",this.onScrollToRight,this),this.node.on("bounce-bottom",this.onBounceBottom,this),this.node.on("bounce-top",this.onBounceTop,this),this.node.on("bounce-left",this.onBounceLeft,this),this.node.on("bounce-right",this.onBounceRight,this),this.node.on("scrolling",this.onScrolling,this),this.node.on("scroll-ended",this.onScrollEnded,this),this.node.on("touch-up",this.onTouchUp,this),this.node.on("scroll-began",this.onScrollBegan,this)}unregister(){this.node.off("scroll-to-top",this.onScrollToTop,this),this.node.off("scroll-to-bottom",this.onScrollToBottom,this),this.node.off("scroll-to-left",this.onScrollToLeft,this),this.node.off("scroll-to-right",this.onScrollToRight,this),this.node.off("bounce-bottom",this.onBounceBottom,this),this.node.off("bounce-top",this.onBounceTop,this),this.node.off("bounce-left",this.onBounceLeft,this),this.node.off("bounce-right",this.onBounceRight,this),this.node.off("scrolling",this.onScrolling,this),this.node.off("scroll-ended",this.onScrollEnded,this),this.node.off("touch-up",this.onTouchUp,this),this.node.off("scroll-began",this.onScrollBegan,this)}initView(){let e=0;switch(this.direction){case l.DirectionType.HORIZONTAL:.5===this.content.anchorX&&(this.content.anchorX=0,this.content.x=this.content.x-.5*this.content.width),this.content.anchorY=.5,e=Math.ceil((this.node.width-this.spacingX)/(this.itemPrefab.data.width+this.spacingX))+2;break;case l.DirectionType.VERTICAL:.5===this.content.anchorY&&(this.content.anchorY=1,this.content.y=this.content.y+.5*this.content.height),this.content.anchorX=.5,e=Math.ceil((this.node.height-this.spacingY)/(this.itemPrefab.data.height+this.spacingY))+2}if(this.mode===l.ListViewLoadMode.ENDLESS)for(let t=0;t<e;++t)this.putNode(this.getNode());this._itemDataList.length>0&&this.updateListItem()}setRendering(e){this._isRendering=e,e||this.onRendered()}getNode(){if(!this.itemPrefab)return G.Logger.error("\u8bf7\u5728 ListView \u6dfb\u52a0\u9884\u5236\u9879 prefab"),null;let e=this._itemNodePool.get();if(!e&&(e=cc.instantiate(this.itemPrefab),this.clickItemEventHandler)){let t=e.getComponent(cc.Button);t||(t=e.addComponent(cc.Button))}return e}putNode(e){if(!e||e.name!==this.itemPrefab.data.name)return G.Logger.warn(`\u8bf7\u4e0d\u8981\u653e\u5165\u4e0e ${e.name} \u4e0d\u76f8\u5173\u7684\u8282\u70b9`),null;this.clickItemEventHandler&&e.getComponent(cc.Button).node.off("click"),e.removeFromParent(),e.getComponent(e.name).reset(),this.scheduleOnce(()=>{this._itemNodePool.put(e)})}initItemPos(e){let t=this.content.childrenCount-1;this.direction===l.DirectionType.HORIZONTAL?e.setPosition(this.left+.5*this.itemPrefab.data.width+t*this.itemPrefab.data.width+t*this.spacingX,0):this.direction===l.DirectionType.VERTICAL&&e.setPosition(0,0-this.top-.5*this.itemPrefab.data.height-t*this.itemPrefab.data.height-t*this.spacingY)}makeItem(e){let t=this.getNode();this.content.addChild(t);let n=t.getComponent(t.name);n&&!d.default.isNull(e)&&(this.clickItemEventHandler&&t.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,t,e)),n.onShow&&n.onShow(e)),this.initItemPos(t)}*makeGeneratorItem(e){for(let t=0;t<e.length;++t)yield this.makeItem(e[t])}execGeneratorItem(e,t){return s(this,void 0,void 0,function*(){return new Promise(n=>{let o=()=>{let i=Date.now();for(let a=e.next();;a=e.next()){if(null==a||a.done){n();break}if(Date.now()-i>t){this.scheduleOnce(()=>{o()});break}}};o()})})}frameLoadItem(e){return s(this,void 0,void 0,function*(){yield this.execGeneratorItem(this.makeGeneratorItem(e),8),this.setRendering(!1)})}directLoadItem(e){for(let t=0;t<e.length;++t)this.makeItem(e[t])}getPadding(){let e=0;return this.direction===l.DirectionType.HORIZONTAL?e+=this.left+this.right:this.direction===l.DirectionType.VERTICAL&&(e+=this.top+this.bottom),e}getSpacing(){let e=0;return this.direction===l.DirectionType.HORIZONTAL?e=this.spacingX:this.direction===l.DirectionType.VERTICAL&&(e=this.spacingY),e}getInnerEstimateSize(){let e=this.content.parent.getContentSize();return this.direction===l.DirectionType.HORIZONTAL?(e.width=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.width,e.width<this.content.parent.width&&(e.width=this.content.parent.width)):this.direction===l.DirectionType.VERTICAL&&(e.height=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.height,e.height<this.content.parent.height&&(e.height=this.content.parent.height)),e}onScrollToTop(e){this.isPaging&&this.pullTopEventHandler&&this.pullTopEventHandler.emit([e])}onScrollToBottom(e){this.isPaging&&this.pullBottomEventHandler&&this.pullBottomEventHandler.emit([e])}onScrollToLeft(e){this.isPaging&&this.pullLeftEventHandler&&this.pullLeftEventHandler.emit([e])}onScrollToRight(e){this.isPaging&&this.pullRightEventHandler&&this.pullRightEventHandler.emit([e])}onScrolling(e){}onBounceBottom(e){this.brake}onBounceTop(e){this.brake}onBounceLeft(e){this.brake}onBounceRight(e){this.brake}onScrollEnded(e){}onTouchUp(e){}onScrollBegan(e){}onRendered(){this._renderingOperateCount=0,this._itemCacheDataList.length<=0?this._cacheRenderItemStartIndex=null:this.updateCacheDataList()}update(e){super.update(e)}onClickItem(e,t){this.clickItemEventHandler.emit([e,t])}onDestroy(){this.unregister()}};a([u({visible:function(){return cc.Class.Attr.setClassAttr(this,"horizontalScrollBar","visible",this.direction===l.DirectionType.HORIZONTAL),cc.Class.Attr.setClassAttr(this,"verticalScrollBar","visible",this.direction===l.DirectionType.VERTICAL),!1}})],p.prototype,"directionType",void 0),a([u({tooltip:"\u662f\u5426\u5206\u9875\u52a0\u8f7d"})],p.prototype,"isPaging",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u5de6\u8fb9\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"pullLeftEventHandler",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u53f3\u8fb9\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"pullRightEventHandler",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u9876\u90e8\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===l.DirectionType.VERTICAL}})],p.prototype,"pullTopEventHandler",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u5e95\u90e8\u62c9\u53d6\u56de\u8c03",visible:function(){return this.isPaging&&this.direction===l.DirectionType.VERTICAL}})],p.prototype,"pullBottomEventHandler",void 0),a([u({type:cc.SpriteFrame,tooltip:"\u5237\u65b0\u62c9\u53d6\u7b49\u5f85\u56fe\u7247",visible:function(){return this.isPaging}})],p.prototype,"waitingImage",void 0),a([u({type:cc.Prefab,tooltip:"\u5217\u8868\u9879\u9884\u5236"})],p.prototype,"itemPrefab",void 0),a([u({type:cc.Enum(l.ListViewLoadMode),tooltip:"\u52a0\u8f7d\u6a21\u5f0f\nNONE \u76f4\u63a5\u52a0\u8f7d\nFRAME \u5206\u5e27\u52a0\u8f7d\nENDLESS \u65e0\u9650\u52a0\u8f7d"})],p.prototype,"mode",void 0),a([u({type:cc.Enum(l.DirectionType),tooltip:"\u6ed1\u52a8\u65b9\u5411\nHORIZONTAL \u6c34\u5e73\nVERTICAL \u5782\u76f4"})],p.prototype,"direction",null),a([u({override:!0,visible:!1})],p.prototype,"horizontal",void 0),a([u({override:!0,visible:!1})],p.prototype,"vertical",void 0),a([u({type:cc.Float,tooltip:"\u6eda\u52a8\u4e4b\u540e\u7684\u51cf\u901f\u7cfb\u6570\u3002\u53d6\u503c\u8303\u56f4\u662f 0-1\uff0c\u5982\u679c\u662f 1 \u5219\u7acb\u9a6c\u505c\u6b62\u6eda\u52a8\uff0c\u5982\u679c\u662f 0\uff0c\u5219\u4f1a\u4e00\u76f4\u6eda\u52a8\u5230 content \u7684\u8fb9\u754c\u3002",override:!0,visible:!0})],p.prototype,"brake",void 0),a([u({type:cc.Float,tooltip:"\u56de\u5f39\u6240\u9700\u8981\u7684\u65f6\u95f4\u3002\u53d6\u503c\u8303\u56f4\u662f 0-10\u3002",override:!0,visible:!0})],p.prototype,"bounceDuration",void 0),a([u({type:cc.Float,tooltip:"\u5782\u76f4\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.VERTICAL}})],p.prototype,"spacingY",void 0),a([u({type:cc.Float,tooltip:"\u9876\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.VERTICAL}})],p.prototype,"top",void 0),a([u({type:cc.Float,tooltip:"\u5e95\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.VERTICAL}})],p.prototype,"bottom",void 0),a([u({type:cc.Float,tooltip:"\u6c34\u5e73\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"spacingX",void 0),a([u({type:cc.Float,tooltip:"\u5de6\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"left",void 0),a([u({type:cc.Float,tooltip:"\u53f3\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"right",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u70b9\u51fb\u5217\u8868\u9879\u56de\u8c03",visible:!0})],p.prototype,"clickItemEventHandler",void 0),p=a([h],p),n.default=p,cc._RF.pop()},{"../define/ComponentDefine":"ComponentDefine","../utils/TypeUtils":"TypeUtils"}],Loading:[function(e,t,n){"use strict";cc._RF.push(t,"0bfc0+1NYVIFZzN7U4JqAro","Loading");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.label=null}static getPrefabUrl(){return"common/prefabs/Loading"}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),cc.sys.isBrowser}show(e){super.show(e),this.args[0]&&(this.label.language=this.args[0]),this.outTimeCall&&clearTimeout(this.outTimeCall),this.outTimeCall=setTimeout(()=>{this.close(),dispatch("serverOutTime")},this.args[1]),this.args[2]&&cc.sys.isBrowser}start(){}onDestroy(){super.onDestroy(),this.outTimeCall&&clearTimeout(this.outTimeCall)}};o([s(cc.Label)],c.prototype,"label",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],LobbyService:[function(e,t,n){"use strict";cc._RF.push(t,"a70853uQHdFyq17JF74OVGc","LobbyService");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LobbyService=void 0;const i=e("../../global/Global"),a=o(e("../../msgbox/PanelHelp")),r=e("../manager/Manager"),s=e("./CommonService");class c extends s.CommonService{constructor(){super(...arguments),this._disconnectTimeOut=!1,this._isdisConnect=!1}static get instance(){return this._instance||(this._instance=new c)}onOpen(){super.onOpen(),this._isdisConnect&&(this._disconnectNum=0,this._isdisConnect=!1,this.stopSendDisConnectSchedule(),this._disconnectTimeOut||setTimeout(()=>{i.reStartGame()},1e3))}onClose(e){super.onClose(e),"CustomClose"==e.type||this._isdisConnect||(this._disconnectNum=0,this._isdisConnect=!0,this.stopSendDisConnectSchedule(),this.sendDisConnect(),this.startSendDisConnectSchedule(),a.default.hideLoading(),a.default.showDisconnectWait(()=>{}))}stopSendDisConnectSchedule(){this._sendDisConnectId&&(clearInterval(this._sendDisConnectId),this._sendDisConnectId=null)}startSendDisConnectSchedule(){let e=this;this._sendDisConnectId=setInterval(()=>{if(e._disconnectNum=e._disconnectNum+1,e._disconnectNum>3)return e.stopSendDisConnectSchedule(),void e.onDisConnectTimeOut();e.sendDisConnect()},5e3)}sendDisConnect(){this.disconnect()}onDisConnectTimeOut(){G.Logger.log("\u91cd\u8fde\u8d85\u65f6"),this._disconnectTimeOut=!0,a.default.hideDisconnectWait(),a.default.showMsgBox(null,r.Manager.makeLanguage("ERRORCODE.E20010001"),()=>{r.Manager.localStorage.cleanLoginCache(),i.reStartGame()},r.Manager.getLanguage("TIPS.RETRY"),!1)}}n.LobbyService=c,cc._RF.pop()},{"../../global/Global":"Global","../../msgbox/PanelHelp":"PanelHelp","../manager/Manager":"Manager","./CommonService":"CommonService"}],LocalStorageDefine:[function(e,t,n){"use strict";cc._RF.push(t,"c8ec1Cx5iVGApjnDl0cF/Z6","LocalStorageDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.ACCOUNT_TOKEN=void 0,n.ACCOUNT_TOKEN="ACCOUNT_TOKEN",cc._RF.pop()},{}],LocalStorage:[function(e,t,n){"use strict";cc._RF.push(t,"6b21dZgaiRM4Icrn82GhezL","LocalStorage"),Object.defineProperty(n,"__esModule",{value:!0}),n.LocalStorage=void 0;const o=e("../extentions/BitEncrypt");class i{constructor(){this.key="VuxiAKihQ0VR9WRe"}static Instance(){return this._instance||(this._instance=new i)}encrypt(e){return o.BitEncrypt.encode(JSON.stringify(e),this.key)}decryption(e){return o.BitEncrypt.decode(e,this.key)}getItem(e,t=null){let n=cc.sys.localStorage.getItem(e);if(!n)return t;try{let e=this.decryption(n),t=JSON.parse(e);return t.type?t.value:n}catch(o){return n}}setItem(e,t){let n=typeof t;if("number"==n||"string"==n||"boolean"==n||"object"==n){let i={type:n,value:t};try{let t=this.encrypt(i);cc.sys.localStorage.setItem(e,t)}catch(o){}}}removeItem(e){cc.sys.localStorage.removeItem(e)}cleanLoginCache(){this.removeItem("facebookLoginCache"),this.removeItem("loginCache")}}n.LocalStorage=i,i._instance=null,cc._RF.pop()},{"../extentions/BitEncrypt":"BitEncrypt"}],LocalizationUtils:[function(e,t,n){"use strict";cc._RF.push(t,"f3617w+A31ABYpmr3C9zU4g","LocalizationUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{static get(e,...t){let n=e;return n&&n.length>0&&t.length>0&&(n=n.replace(/{(\d+)}/g,(e,n)=>{let o=Number(n),i=t[o];return void 0===i?"?":"number"==typeof i?i.toString():i})),n}},cc._RF.pop()},{}],Logger:[function(e,t,n){"use strict";cc._RF.push(t,"4f092xQUTRC8LZPtIHwZ9sc","Logger");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),o(e("../extentions/DateUtils"));class i{constructor(){}static getInstance(){return null===this.s_instance&&(this.s_instance=new i),this.s_instance}static destroy(){null!==this.s_instance&&this.s_instance.destroy(),this.s_instance=null}color(e,t,...n){n=[`${e} %c ${t} %c`,"background: #31A43D;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #00FF24;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"].concat(n),console.log.apply(console.log,n)}log(...e){}warn(...e){}error(...e){}destroy(){}}n.default=i,i.s_instance=null,cc._RF.pop()},{"../extentions/DateUtils":"DateUtils"}],LogicEvent:[function(e,t,n){"use strict";cc._RF.push(t,"cb2abAqji1KJZFoYBz4KmuA","LogicEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.GAME_RESTART_EVENT=n.LogicEvent=n.dispatchEnterComplete=n.LogicType=void 0,function(e){e.UNKNOWN="UNKNOWN",e.HALL="HALL",e.GAME="GAME",e.LOGIN="LOGIN",e.ROOM_LIST="ROOM_LIST"}(n.LogicType||(n.LogicType={})),n.dispatchEnterComplete=function(e){dispatch(n.LogicEvent.ENTER_COMPLETE,e)},n.LogicEvent={ENTER_COMPLETE:"ENTER_COMPLETE",LOGIN_SUCCESS:"LOGIN_SUCCESS",ENTER_HALL:"ENTER_HALL",ENTER_GAME:"ENTER_GAME",ENTER_GAME_READY:"ENTER_GAME_READY",ENTER_LOGIN:"ENTER_LOGIN",ENTER_UPDATING:"ENTER_UPDATING",ENTER_ROOM_LIST:"ENTER_ROOM_LIST",ENTER_GAME_MATCH:"ENTER_GAME_MATCH",ENTER_EXTERNAL_GAME:"ENTER_EXTERNAL_GAME"},n.GAME_RESTART_EVENT="GAME_RESTART_EVENT",cc._RF.pop()},{}],LogicManager:[function(e,t,n){"use strict";cc._RF.push(t,"dc2c0079ExICL2e4HMg+a06","LogicManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogicManager=void 0;const o=e("../event/LogicEvent"),i=e("./Manager");class a{constructor(){this._logTag="[LogicManager]",this._logics=[],this._logicTypes=[],this.node=null}static Instance(){return this._instance||(this._instance=new a)}push(e){for(let t=0;t<this._logicTypes.length;t++)if(this._logicTypes[t]==e)return void cc.error(this._logTag,`\u91cd\u590d\u6dfb\u52a0${cc.js.getClassName(e)}`);if(this.node){let t=new e;t.init(this.node),this._logics.push(t),t.onLoad()}else this._logicTypes.push(e)}onLoad(e){if(this.node=e,i.Manager.eventDispatcher.addEventListener(o.LogicEvent.ENTER_COMPLETE,this.onEnterComplete,this),0==this._logics.length)for(let t=0;t<this._logicTypes.length;t++){let n=this._logicTypes[t];cc.log(this._logTag,`\u6dfb\u52a0Logic : ${cc.js.getClassName(n)}`);let o=new n;o.init(e),this._logics.push(o)}this._logics.forEach(e=>{e.onLoad()})}onDestroy(e){i.Manager.eventDispatcher.removeEventListener(o.LogicEvent.ENTER_COMPLETE,this),this._logics.forEach(e=>{e.onDestroy()})}onEnterComplete(e){if(e.type!=o.LogicType.ROOM_LIST){e&&e.views&&e.views.length>0&&i.Manager.uiManager.closeExcept(e.views);for(let t=0;t<this._logics.length;t++){let n=this._logics[t];n&&n.onEnterComplete(e)}}}}n.LogicManager=a,a._instance=null,cc._RF.pop()},{"../event/LogicEvent":"LogicEvent","./Manager":"Manager"}],Logic:[function(e,t,n){"use strict";cc._RF.push(t,"aef19i0aeFBvY497I6IWj/K","Logic");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Logic=void 0;const i=e("../event/LogicEvent"),a=o(e("../../framework/base/EventComponent")),r=e("../../framework/base/Defines"),s=o(e("../../framework/assetManager/ResourceLoader")),c=e("../../framework/event/EventApi"),l=e("../config/Config");n.Logic=class extends a.default{constructor(){super(),this.logTag="[Logic]",this._loader=null,this.logicType=i.LogicType.UNKNOWN,this._loader=new s.default,this._loader.getLoadResources=this.getLoadResources.bind(this),this._loader.onLoadComplete=this.onLoadResourceComplete.bind(this),this._loader.onLoadProgress=this.onLoadResourceProgress.bind(this)}bindingEvents(){super.bindingEvents(),r.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(c.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}get bundle(){return cc.error("\u8bf7\u5b50\u7c7b\u91cd\u5199protected get bundle,\u8fd4\u56de\u6e38\u620f\u7684\u5305\u540d,\u5373 asset bundle name"),""}onEnterComplete(e){}onLanguageChange(){}init(e){this.logicType==i.LogicType.UNKNOWN&&cc.error("\u672a\u5bf9\u6b63\u786e\u7684\u5bf9logicType\u8d4b\u503c"),this.node=e}onLoad(){this.bundle?l.Config.assetBundle[`${this.bundle}`]=this.bundle:cc.error("\u8bf7\u5b50\u7c7b\u91cd\u5199protected get bundle,\u8fd4\u56de\u6e38\u620f\u7684\u5305\u540d,\u5373 asset bundle name"),super.onLoad()}onDestroy(){super.onDestroy(),this.node=null}getLoadResources(){return[]}onLoadResourceComplete(e){}onLoadResourceProgress(e,t,n){}removeNetComponent(){}addNetComponent(){}},cc._RF.pop()},{"../../framework/assetManager/ResourceLoader":"ResourceLoader","../../framework/base/Defines":"Defines","../../framework/base/EventComponent":"EventComponent","../../framework/event/EventApi":"EventApi","../config/Config":"Config","../event/LogicEvent":"LogicEvent"}],LoginLogic:[function(e,t,n){"use strict";cc._RF.push(t,"7b178KIKBdGUqrLpGFiIBz+","LoginLogic");var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const s=e("../common/base/Logic"),c=e("../common/event/LogicEvent"),l=e("../framework/base/Defines"),d=e("../common/manager/Manager"),h=e("../common/net/LobbyService"),u=e("../common/config/Config"),p=e("../framework/event/EventApi"),g=e("../framework/external/protoc"),m=a(e("../common/define/LocalStorageDefine")),f=r(e("../data/HallData")),b=e("../framework/base/Language"),y=r(e("../data/AppData"));d.Manager.logicManager.push(class extends s.Logic{constructor(){super(...arguments),this.logicType=c.LogicType.LOGIN}get bundle(){return l.BUNDLE_RESOURCES}bindingEvents(){super.bindingEvents(),this.registerEvent(c.LogicEvent.ENTER_LOGIN,this.onEnterLogin),this.registerEvent(p.EventApi.NetEvent.ON_OPEN,this.onOpen),this.registerEvent("updateUserInfo",this.onUpdateUserInfo)}onLoad(){this._service=h.LobbyService.instance,super.onLoad(),b.Language.Instance().change(cc.sys.LANGUAGE_HINDI)}getOS(){switch(cc.sys.os){case cc.sys.OS_ANDROID:return 0;case cc.sys.OS_IOS:return 1;default:return 2}}onOpen(){let e=d.Manager.localStorage.getItem(m.ACCOUNT_TOKEN);if(e){let t=G.DataMgr.get(y.default).invcode,n="123456",o="test ThirdId",i=d.Manager.localStorage.getItem("IMEI");i||(i="test imei"+Math.floor(1e4*Math.random()+1),d.Manager.localStorage.setItem("IMEI",i));let a=g.MST.C2M_Auth_Req.create({RpcId:d.Manager.netManager.getNewSeqId(),AuthKey:e,Password:n,AuthType:7,ThirdId:o,imei:i,invcode:t}),r=g.MST.C2M_Auth_Req.encode(a).finish();h.LobbyService.instance.sendMsg(g.MST.C2M_Auth_Req,g.MST.OuterOpcode_Map.C2M_Auth_Req,r)}else this.removeEvent("updateUserInfo"),dispatch(c.LogicEvent.ENTER_HALL)}onEnterLogin(){G.Logger.log("==onEnterLogin=="),h.LobbyService.instance.connect(u.Config.WS_URL)}onG2C_LoginGate_Res(e){G.DataMgr.get(f.default)}onUpdateUserInfo(){dispatch(c.LogicEvent.ENTER_HALL),this.removeEvent("updateUserInfo")}}),cc._RF.pop()},{"../common/base/Logic":"Logic","../common/config/Config":"Config","../common/define/LocalStorageDefine":"LocalStorageDefine","../common/event/LogicEvent":"LogicEvent","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/AppData":"AppData","../data/HallData":"HallData","../framework/base/Defines":"Defines","../framework/base/Language":"Language","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc"}],LoginNewView:[function(e,t,n){"use strict";cc._RF.push(t,"c9ef1tuCidPIKW5AkwxB8WK","LoginNewView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoginEvent=n.LoginType=void 0;const a=e("../common/event/LogicEvent"),r=e("../common/language/LanguageImpl"),s=e("../common/manager/Manager"),c=e("../common/net/LobbyService"),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=i(e("../framework/ui/UIView")),u=i(e("../msgbox/PanelHelp")),p=i(e("./RegisterView")),g=i(e("./ForgetPassView")),m=e("../framework/external/protoc"),f=i(e("../data/UserData")),b=i(e("../sdk/fbsdk")),y=i(e("./Validator")),_=i(e("../sdk/googlesdk")),v=i(e("../common/bindItemView/BindPhoneView")),w=i(e("../data/AppData")),{ccclass:C,property:R}=cc._decorator;(function(e){e[e.phone=1]="phone",e[e.tourist=2]="tourist",e[e.password=3]="password",e[e.facebook=4]="facebook"})(n.LoginType||(n.LoginType={})),n.LoginEvent={TOURIST:"TOURIST",FACEBOOK:"FACEBOOK",PHONE:"PHONE"};let L=class extends h.default{constructor(){super(...arguments),this.btnBack=null,this.hidePassNode=null,this.btnForgetPass=null,this.btnRegister=null,this.emailEditbox=null,this.pwdEditbox=null,this.loginType=null,this.service=null}static getPrefabUrl(){return"login/prefabs/LoginNewView"}onLoad(){super.onLoad(),this.btnBack.on(cc.Node.EventType.TOUCH_END,()=>{this.close()}),this.btnForgetPass.on(cc.Node.EventType.TOUCH_END,()=>{this.clickForgetPass()}),this.btnRegister.on(cc.Node.EventType.TOUCH_END,()=>{this.clickRegister()})}bindingEvents(){super.bindingEvents(),this.registerEvent(a.LogicEvent.ENTER_HALL,this.onEnterHall),this.registerEvent("updateUserInfo",this.onEnterHall)}onEnterHall(){this.checkBindPhone(),this.close()}checkBindPhone(){let e=G.DataMgr.get(f.default);null!==e.id&&(e.BindPhone||s.Manager.uiManager.open({type:v.default,bundle:l.BUNDLE_RESOURCES}))}start(){b.default.instance.init(),this.refreshPlayInfo()}refreshPlayInfo(){G.DataMgr.get(f.default).PlayerInfo}clickForgetPass(){s.Manager.uiManager.open({type:g.default,bundle:l.BUNDLE_RESOURCES})}clickRegister(){s.Manager.uiManager.open({type:p.default,bundle:l.BUNDLE_RESOURCES})}onClick(e,t){switch(e){case"btnMasuk":this.todoLogin();break;case"btnFacebook":this.facebookLogin();break;case"btnGoogle":this.googleLogin();break;case"btnTelegram":this.telegramLogin();break;case"btnTestLogin":this.testLogin();break;case"btnHidePassword":this.clickHidePass()}}clickHidePass(){let e=this.hidePassNode.getChildByName("iconHide"),t=this.hidePassNode.getChildByName("iconShow");e.active=!e.active,t.active=!t.active,this.pwdEditbox.inputFlag=t.active?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD}validataFunc(){let e=new y.default,t=this.emailEditbox.string,n=this.pwdEditbox.string;return e.add(t,[{strategy:"isNonEmpty",errorMsg:r.i18n.EDITBOX.EMAILNULL}]),e.add(n,[{strategy:"isNonEmpty",errorMsg:r.i18n.EDITBOX.PSWNULL}]),e.add(t,[{strategy:"isEmail",errorMsg:r.i18n.REGISTER.EMAILWRONG}]),e.start()}todoLogin(){let e=G.DataMgr.get(w.default),t=this.emailEditbox.string,n=this.pwdEditbox.string,o=e.invcode,i=this.validataFunc();if(i)return void u.default.showTip(i);let a=s.Manager.localStorage.getItem("IMEI");a||(a="test imei"+Math.floor(1e4*Math.random()+1),s.Manager.localStorage.setItem("IMEI",a));let r=m.MST.C2M_Auth_Req.create({RpcId:s.Manager.netManager.getNewSeqId(),AuthKey:t.toString(),Password:n,AuthType:1,imei:a,ThirdId:"test ThirdId",invcode:o}),l=m.MST.C2M_Auth_Req.encode(r).finish();c.LobbyService.instance.sendMsg(m.MST.C2M_Auth_Req,m.MST.OuterOpcode_Map.C2M_Auth_Req,l)}telegramLogin(){let e=this,t=window.Telegram;t&&t.Login.auth({bot_id:"5556295577",request_access:"read",embed:1},t=>{console.log(t,"\u8fd9\u662f\u56de\u8c03\u6570\u636e"),t||alert(t);let n=G.DataMgr.get(w.default).invcode,o=s.Manager.localStorage.getItem("IMEI");o||(o="test imei"+Math.floor(1e4*Math.random()+1),s.Manager.localStorage.setItem("IMEI",o));let i={};i.AuthKey=JSON.stringify(t),console.log(i.AuthKey),i.Password="123456",i.AuthType=5,i.imei=o,i.invcode=n,e.requestLoginHandler(i)})}testLogin(){let e=String(Math.floor(1e4*Math.random()+1)),t=s.Manager.localStorage.getItem("IMEI");t||(t="test imei"+Math.floor(1e4*Math.random()+1),s.Manager.localStorage.setItem("IMEI",t));let n=G.DataMgr.get(w.default).invcode,o={};o.AuthKey=e,o.Password="",o.ThirdId="",o.AuthType=6,o.imei=t,o.invcode=n,this.requestLoginHandler(o)}facebookLogin(){let e=this;b.default.instance.FB_Login(function(t){if(t){let n=s.Manager.localStorage.getItem("IMEI");n||(n="test imei"+Math.floor(1e4*Math.random()+1),s.Manager.localStorage.setItem("IMEI",n));let o=G.DataMgr.get(w.default).invcode;if(alert("facebook \u6536\u5230\u56de\u8c03\u6570\u636e"),t){console.log("fb,info.accessToken : "+t.accessToken),console.log("fb info.id : "+t.id);let i={};i.AuthKey=t.accessToken,i.Password="123456",i.ThirdId=t.id,i.AuthType=3,i.imei=n,i.invcode=o,e.requestLoginHandler(i)}}})}googleLogin(){let e=this;_.default.instance.Google_Login(function(t){if(t){let n=s.Manager.localStorage.getItem("IMEI");n||(n="test imei"+Math.floor(1e4*Math.random()+1),s.Manager.localStorage.setItem("IMEI",n));let o=G.DataMgr.get(w.default).invcode,i={};i.AuthKey=t.id,i.Password="123456",i.AuthType=2,i.imei=n,i.invcode=o,e.requestLoginHandler(i)}})}requestLoginHandler(e){let t=e.AuthKey,n=e.Password,o=e.AuthType,i=e.ThirdId,a=e.imei,r=e.invcode,l=m.MST.C2M_Auth_Req.create({RpcId:s.Manager.netManager.getNewSeqId(),AuthKey:t,Password:n,ThirdId:i,AuthType:o,imei:a,invcode:r}),d=m.MST.C2M_Auth_Req.encode(l).finish();c.LobbyService.instance.sendMsg(m.MST.C2M_Auth_Req,m.MST.OuterOpcode_Map.C2M_Auth_Req,d)}onDestroy(){super.onDestroy()}};o([R(cc.Node)],L.prototype,"btnBack",void 0),o([R(cc.Node)],L.prototype,"hidePassNode",void 0),o([R(cc.Node)],L.prototype,"btnForgetPass",void 0),o([R(cc.Node)],L.prototype,"btnRegister",void 0),o([R(cc.EditBox)],L.prototype,"emailEditbox",void 0),o([R(cc.EditBox)],L.prototype,"pwdEditbox",void 0),L=o([C,d.injectService(c.LobbyService.instance)],L),n.default=L,cc._RF.pop()},{"../common/bindItemView/BindPhoneView":"BindPhoneView","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/AppData":"AppData","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","../sdk/fbsdk":"fbsdk","../sdk/googlesdk":"googlesdk","./ForgetPassView":"ForgetPassView","./RegisterView":"RegisterView","./Validator":"Validator"}],LoginView:[function(e,t,n){"use strict";cc._RF.push(t,"5616eKwD1FNnYdoyijrEvlF","LoginView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoginEvent=n.LoginType=void 0;const a=e("../common/config/Config"),r=e("../common/event/LogicEvent"),s=e("../common/language/LanguageImpl"),c=e("../common/manager/Manager"),l=e("../common/net/CommonService"),d=e("../common/net/LobbyService"),h=e("../framework/base/Defines"),u=e("../framework/decorator/Decorators"),p=e("../framework/event/EventApi"),g=e("../framework/net/HttpClient"),m=i(e("../framework/ui/UIView")),f=e("../global/User"),b=i(e("../msgbox/PanelHelp")),y=e("../Helpder/shareTrace/ShareTraceHelpder"),_=i(e("../common/language/LanguageChange")),v=i(e("../service/ServiceView")),w=i(e("./RichTextHandler")),{ccclass:C,property:R}=cc._decorator;var L;(function(e){e[e.phone=1]="phone",e[e.tourist=2]="tourist",e[e.password=3]="password",e[e.facebook=4]="facebook"})(L=n.LoginType||(n.LoginType={})),n.LoginEvent={TOURIST:"TOURIST",FACEBOOK:"FACEBOOK",PHONE:"PHONE"};let E=class extends m.default{constructor(){super(...arguments),this.loginType=null,this.service=null}static getPrefabUrl(){return"login/prefabs/LoginView"}onLoad(){super.onLoad(),r.dispatchEnterComplete({type:r.LogicType.LOGIN,views:[this]})}bindingEvents(){super.bindingEvents(),this.registerEvent(n.LoginEvent.FACEBOOK,this.reqFaceBookAccLogin),this.registerEvent(p.EventApi.NetEvent.ON_OPEN,this.onGateWayReq),this.registerEvent("webSocketIsOpen",this.onGateWayReq),this.registerEvent(u.makeKey(l.serverType.GateWay,l.protoPackage.gateway.Gate_Cmd_ID.Identity_Auth),this.onGateWayCall),this.registerEvent(u.makeKey(l.serverType.Lobby,l.protoPackage.hall.HallCmd.LOGIN),this.onLoginReqCall),this.registerEvent("serverOutTime",this.serverOutTime)}serverOutTime(){d.LobbyService.instance.close(),b.default.showMsgBox("",s.i18n.ERRORCODE.SERVERTIMEOUT)}onGateWayReq(){if(f.User._token){b.default.showLoading(s.i18n.WAIT.LOGIN);let e=l.protoPackage.gateway.IdenityAuthReq.create({token:f.User._token}),t=l.protoPackage.gateway.IdenityAuthReq.encode(e).finish();this.service.sendMsg(l.serverType.GateWay,l.protoPackage.gateway.Gate_Cmd_ID.Identity_Auth,t)}}onGateWayCall(e){if(G.Logger.log("token\u9a8c\u8bc1\u56de\u8c03",e),0==e.statusMsg.status){let e=l.protoPackage.hallBase.Login.create({appType:this.loginType}),t=l.protoPackage.hallBase.Login.encode(e).finish();this.service.sendMsg(l.serverType.Lobby,l.protoPackage.hall.HallCmd.LOGIN,t)}else b.default.hideLoading(),b.default.showMsgBox("",s.i18n.ERRORCODE.E20010001),c.Manager.localStorage.cleanLoginCache()}onLoginReqCall(e){G.Logger.log("\u8fdb\u5165\u5927\u5385\u56de\u8c03",e),0==e.statusMsg.status?(f.User.resetData(),f.User.updateUserData(e.user),f.User._needSetPassword=e.setPassword,f.User._promoteUrl=e.promoteUrl,f.User._shareImgUrl=e.shareImgUrl,f.User._goldType=e.newBee,y.ShareTraceHelpder.checkNeedBindInviterId(!0),b.default.showLoading(s.i18n.WAIT.LOADING,!0),dispatch(r.LogicEvent.ENTER_HALL,e)):e.statusMsg.status>1e6?b.default.showMsgBox("",e.statusMsg.msg):(b.default.hideLoading(),b.default.showMsgBox("",c.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}start(){this.reqLoginText();let e=c.Manager.localStorage.getItem("loginCache");e&&this.autoLogin(e)}onDestroy(){super.onDestroy(),this.outTimeCall&&clearTimeout(this.outTimeCall)}onClick(e,t){switch(G.Logger.log(e),e){case"btn_guest":this.touLogin();break;case"btn_facebook":window.platformUtil.loginToFacebook(!0);break;case"btn_phone":dispatch("accountLoginIn",this);break;case"language":c.Manager.uiManager.open({type:_.default,bundle:h.BUNDLE_RESOURCES});break;case"service":this.reqService()}}touLogin(){let e=c.Manager.localStorage.getItem("touristLoginCache");if(e){c.Manager.localStorage.setItem("loginCache",e);let t={uuid:e.openId};this.loginType=L.tourist,this.reqLogin(t)}else{let e={uuid:null};e.uuid=window.platformUtil.getDeviceUUID(),this.loginType=L.tourist,this.reqLogin(e)}}reqFaceBookAccLogin(e){if(!e)return;G.Logger.log("facebook \u767b\u5f55 = ",e),this.loginType=L.facebook;let t={};t.uuid=e.fbId,t.nickName=e.fbName,t.headImgUrl=e.fbHeadImg,this.reqLogin(t)}getReqURL(e){let t="",n=y.ShareTraceHelpder.getInviterId(),o=y.ShareTraceHelpder.getAgentId(),i=window.platformUtil.getDeviceUUID(),a=window.platformUtil.getAppQuDaoId();return t+=G.URLMgr.loginURL+"login?inviterId="+n+"&agentId="+o+"&",t+="appType="+this.loginType,this.loginType==L.tourist?t+="&openId="+e.uuid+"&signData="+base64Encrypt(e.uuid)+"&deviceId="+i+"&channel="+a:this.loginType==L.facebook?t+="&openId="+e.uuid+"&signData="+base64Encrypt(e.uuid)+"&unionid="+e.uuid+"&nickName="+encodeURIComponent(e.nickName)+"&headImgUrl="+encodeURIComponent(e.headImgUrl)+"&deviceId="+i+"&channel="+a:this.loginType!=L.phone&&this.loginType!=L.password||(t+="&openId="+e.uuid+"&signData="+base64Encrypt(e.uuid)+"&deviceId="+i+"&channel="+a+"&phone="+e.uuid+"&code="+e.code+"&password="+base64Encrypt(e.password||"")+"&area="+encodeURIComponent(e.areaCode)),G.Logger.log("url == ",t),t}reqLogin(e){if(!e)return;let t=this.getReqURL(e);b.default.showLoading(s.i18n.WAIT.CONNECTSERVER);let n=new g.RequestPackge;n.data.url=t,n.send(t=>{if(G.Logger.log("Login = ",t),0==t.state){let n=t.result;f.User._userID=n.userId,f.User._token=n.token,a.Config.webServiceCfg=n.serverList[0],a.Config.headImageURL=n.picDomain,d.LobbyService.instance.connect(a.Config.webServiceCfg.ip,a.Config.webServiceCfg.wsPort,a.Config.webServiceCfg.protocol);let o={openId:e.uuid,userId:n.userId,type:this.loginType,token:n.token,webServiceCfg:n.serverList[0],picDomain:n.picDomain};c.Manager.localStorage.setItem("loginCache",o),this.loginType==L.tourist&&c.Manager.localStorage.setItem("touristLoginCache",o)}else t.state>1e6?b.default.showMsgBox("",t.msg):b.default.showMsgBox("",s.i18n.ERRORCODE[t.state]||c.Manager.makeLanguage("ERRORCODE.11"))},e=>{G.Logger.log("Login = ",e)})}autoLogin(e){b.default.showLoading(s.i18n.WAIT.LOGIN),a.Config.webServiceCfg=e.webServiceCfg,a.Config.headImageURL=e.picDomain,this.loginType=e.type,f.User._userID=e.userId,f.User._token=e.token,d.LobbyService.instance.connect(a.Config.webServiceCfg.ip,a.Config.webServiceCfg.wsPort,a.Config.webServiceCfg.protocol)}reqService(){let e=new g.RequestPackge;e.data.url=G.URLMgr.customerURL+"/"+window.platformUtil.getAppQuDaoId(),e.send(e=>{G.Logger.log("service data",e),0==e.statusMsg.status?1==e.showType?e.customerHttpAddress&&window.platformUtil.openURL(e.customerHttpAddress):c.Manager.uiManager.open({type:v.default,bundle:h.BUNDLE_RESOURCES,args:[e]}):b.default.showMsgBox("",c.Manager.makeLanguage("ERRORCODE."+e.status))},e=>{G.Logger.log("service err= ",e)})}reqLoginText(){let e=new g.RequestPackge;e.data.url=G.URLMgr.loginURL+"/loginText/config?channel="+window.platformUtil.getAppQuDaoId(),e.send(e=>{if(G.Logger.log("reqLoginText data",e),0==e.state){if(e.result.textContent)var t=this.formatContent(e.result.textContent);e.result.agreeName&&e.result.agreeUrl&&(t+=" <color=#0fffff><on click='agreeUrlHandler'>"+e.result.agreeName+"</on></color> ",this.node.getChildByName("loginText").getComponent(w.default).agreeUrl=e.result.agreeUrl),e.result.termsName&&e.result.termsUrl&&(t+=" <color=#0fffff><on click='termsUrlHandler'>"+e.result.termsName+"</on></color> ",this.node.getChildByName("loginText").getComponent(w.default).termsUrl=e.result.termsUrl),this.node.getChildByName("loginText").getComponent(cc.RichText).string=t}else b.default.showMsgBox("",c.Manager.makeLanguage("ERRORCODE."+e.status))},e=>{G.Logger.log("reqLoginText err= ",e)})}formatContent(e){let t=e.replace(/\[/g,"<");return t.replace(/\]/g,">")}};E=o([C,u.injectService(d.LobbyService.instance)],E),n.default=E,cc._RF.pop()},{"../Helpder/shareTrace/ShareTraceHelpder":"ShareTraceHelpder","../common/config/Config":"Config","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageChange":"LanguageChange","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/net/HttpClient":"HttpClient","../framework/ui/UIView":"UIView","../global/User":"User","../msgbox/PanelHelp":"PanelHelp","../service/ServiceView":"ServiceView","./RichTextHandler":"RichTextHandler"}],Log:[function(e,t,n){"use strict";var o;cc._RF.push(t,"b2666lmhPFG6rCsrUUmDtv5","Log"),Object.defineProperty(n,"__esModule",{value:!0}),n.Log=n.LogLevel=void 0,function(e){e[e.LOG=1]="LOG",e[e.DUMP=16]="DUMP",e[e.WARN=256]="WARN",e[e.ERROR=4096]="ERROR",e[e.ALL=4369]="ALL"}(o=n.LogLevel||(n.LogLevel={}));class i{constructor(){this._level=o.ALL,this._forceNativeLog=!1}get logLevel(){return this._level}set logLevel(e){this._level=e,this.bindLogHandler()}get forceNativeLog(){return this._forceNativeLog}set forceNativeLog(e){this._forceNativeLog=e}get isUsingConsole(){return!!window.vConsole}get isDebug(){return!!this.isUsingConsole||!(!cc.sys.isNative||!this.forceNativeLog)}_bindLogHanler(e){e?(G.Logger.log("--------using custom log--------"),window.cc.dump||(window.cc.dump=this.dump.bind(this)),cc.log=this.log.bind(this),cc.warn=this.warn.bind(this),cc.error=this.error.bind(this),this.logLevel&o.LOG&&this.isDebug?(window.cc.time=console.time,window.cc.timeEnd=console.timeEnd):(window.cc.time=this.doNothing.bind(this),window.cc.timeEnd=this.doNothing.bind(this))):(G.Logger.log("--------using default log--------"),this.logLevel&o.DUMP?window.cc.dump||(window.cc.dump=this.dump.bind(this)):cc.dump=this.doNothing.bind(this),this.logLevel&o.WARN||(cc.warn=this.doNothing.bind(this)),this.logLevel&o.LOG&&this.isDebug?(window.cc.time=console.time,window.cc.timeEnd=console.timeEnd):(window.cc.time=this.doNothing.bind(this),window.cc.timeEnd=this.doNothing.bind(this)))}bindLogHandler(){this.isUsingConsole?this._bindLogHanler(!0):cc.sys.isMobile?(G.Logger.log("--------isMobile-----------"),this._bindLogHanler(!0)):(G.Logger.log(`--------other------os-----${cc.sys.os}`),G.Logger.log("isdebug : false"),this._bindLogHanler(!1))}log(){if(this.logLevel&o.LOG){if(!this.isDebug)return;(G.Logger.log||cc.log||window.log).call(i,`${this.getDateString()} INFO : `+cc.js.formatStr.apply(cc,arguments),this.stack())}}dump(){if(this.logLevel&o.DUMP){if(!this.isDebug)return;let e=this._dump(arguments[0],arguments[1],arguments[2],arguments[4]);(console.info||cc.log||window.info).call(i,`${this.getDateString()} DUMP : `+cc.js.formatStr.apply(cc,[e]),this.stack())}}warn(){if(this.logLevel&o.WARN){if(!this.isDebug)return;(G.Logger.warn||cc.warn||window.warn).call(i,`${this.getDateString()} WARN : `+cc.js.formatStr.apply(cc,arguments),this.stack())}}error(){if(this.logLevel&o.ERROR){if(!this.isDebug)return;if(cc.sys.isNative)try{(G.Logger.log||cc.log||window.log).call(i,`${this.getDateString()} ERROR : `+cc.js.formatStr.apply(cc,arguments),this.stack())}catch(e){G.Logger.log("---error---"),G.Logger.error(e)}else(G.Logger.error||cc.error||window.error).call(i,`${this.getDateString()} ERROR : `+cc.js.formatStr.apply(cc,arguments),this.stack())}}getDateString(){var e=new Date,t=e.getHours()+"",n="";return n+=(1===t.length?"0"+t:t)+":",n+=(1===(t=e.getMinutes()+"").length?"0"+t:t)+":",n+=(1===(t=e.getSeconds()+"").length?"0"+t:t)+".",1===(t=e.getMilliseconds()+"").length&&(t="00"+t),2===t.length&&(t="0"+t),"["+(n+=t)+"]"}stack(){var e=(new Error).stack.split("\n");e.shift();var t=[];return e.forEach(e=>{var n=(e=e.substring(7)).split(" ");n.length<2?t.push(n[0]):t.push({[n[0]]:n[1]})}),t.length>2?"\n"+JSON.stringify(t[2]):""}_dump(e,t="unkown_dump_name",n=2,o=0){if(n<0)return"...";o+=3;let i=this,a=function(e){return e},r=function(e){return'"'+e+'"'},s=function(e){if(null===e)return"NULL(0)";let t="",a=0,r="";if(e instanceof Array){a=e.length;for(let e=0;e<o;++e)r+=" ";t="Array("+a+") "+(r.length,"")+"[";for(let s=0;s<a;++s)t+="\n"+(0===r.length?"":""+r)+"   ["+s+"] = "+i._dump(e[s],"",n,o);return t+"\n"+(0===r.length?"":""+r)+"]"}if(e instanceof Object){for(let e=0;e<o;++e)r+=" ";t="{";for(let a in e)t+="\n"+(0===r.length?"":""+r)+"   ["+a+"] = "+i._dump(e[a],"",n,o);return t+"\n"+(0===r.length?"":""+r)+"}"}return"Unknown Object Type!"};t=void 0===t?"":t;let c="",l="";switch(typeof e){case"boolean":c+=(l=t.length>0?t+" = ":"")+"Boolean(1) "+(e?"TRUE":"FALSE");break;case"number":c+=(l=t.length>0?t+" = ":"")+a(e);break;case"string":c+=(l=t.length>0?t+" = ":"")+r(e);break;case"object":c+=(l=t.length>0?t+" => ":"")+s(e);break;case"function":c+=(l=t.length>0?t+" = ":"")+"Function";break;case"undefined":c+=(l=t.length>0?t+" = ":"")+"Undefined";break;default:c+=l+" is unknown type!"}return c}doNothing(){}}n.Log=new i,cc._RF.pop()},{}],MainController:[function(e,t,n){"use strict";cc._RF.push(t,"dde8d/ge2NAnZGuIw9sPRZx","MainController");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../../framework/base/Defines"),r=i(e("../../framework/controller/Controller")),s=e("../../global/Global"),c=i(e("../../loading/Loading")),l=i(e("../../msgbox/PanelHelp")),d=e("../../platform/android"),h=e("../../platform/ios"),u=e("../../platform/web"),p=e("../config/Config"),g=e("../net/LobbyService"),m=e("./Manager"),f=e("../../global/Global"),b=e("../language/LanguageImpl"),y=i(e("../../userInfo/UserInfo")),_=i(e("../../msgbox/ConfirmBox")),v=i(e("../../wait/DisconnectWait")),w=e("../define/EventDefine"),C=i(e("../../data/AppData")),{ccclass:R,property:L,menu:E}=cc._decorator;let S=class extends r.default{constructor(){super(...arguments),this._enterBackgroundTime=0,this._appData=null,this._diffWorldPos=null,this._startMsgBtnPos=null,this.nodTopBtn=null,this.btnMsg=null,this.latBtns=null,this.btnToTop=null}onLoad(){super.onLoad(),this._appData=G.DataMgr.get(C.default),cc.sys.isBrowser?window.platformUtil=u.web:cc.sys.os===cc.sys.OS_IOS?window.platformUtil=h.ios:cc.sys.os===cc.sys.OS_ANDROID&&(window.platformUtil=d.android),this._appData.invcode=window.platformUtil.getQueryString("invcode"),G.Logger.color("\u9080\u8bf7\u7801",this._appData.invcode),"192.168.2.254:10000"===p.Config.WS_URL||"game.sultan777.io:8443"===p.Config.WS_URL?cc.debug.setDisplayStats(!1):cc.debug.setDisplayStats(!0),this.latBtns.node.active=!1,this.nodTopBtn.zIndex=9999,m.Manager.adaptor.onLoad(this.node),m.Manager.dataBase.open(),m.Manager.netManager.addNetControllers(this.node),m.Manager.uiManager.preload(c.default,a.BUNDLE_RESOURCES),m.Manager.uiManager.preload(_.default,a.BUNDLE_RESOURCES),m.Manager.uiManager.preload(v.default,a.BUNDLE_RESOURCES);let e=cc.find("showUI",this.node),t=cc.find("showNode",this.node),n=cc.find("showRes",this.node);if(e&&t&&n){e.zIndex=9999,t.zIndex=9999,n.zIndex=9999;let o=!1;p.Config.isShowDebugButton&&(o=!0,e.on(cc.Node.EventType.TOUCH_END,()=>{m.Manager.uiManager.printViews()}),t.on(cc.Node.EventType.TOUCH_END,()=>{m.Manager.uiManager.printCanvasChildren()}),n.on(cc.Node.EventType.TOUCH_END,()=>{})),e.active=o,t.active=o,n.active=o}cc.find("updateNode",this.node).active=!0,cc.game.on(cc.game.EVENT_HIDE,this.onEnterBackground,this),cc.game.on(cc.game.EVENT_SHOW,this.onEnterForgeground,this),cc.director.on(cc.Director.EVENT_AFTER_DRAW,this._onDirectorAfterDraw,this),m.Manager.logicManager.onLoad(this.node),cc.sys.isNative&&cc.game.setFrameRate(60),this.onRefreshVersion(),cc.view.setResizeCallback(function(){dispatch("reWinSize")})}bindingEvents(){super.bindingEvents(),this.registerEvent("RefreshVersion",this.onRefreshVersion),this.registerEvent(w.EventDefine.NOT_LOGIN_CLICK_BUTTON,this.onNotLoginClickButton),this.btnMsg.node.on(cc.Node.EventType.TOUCH_START,this.onTopTouchStart,this),this.btnMsg.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTopTouchMove,this),this.btnMsg.node.on(cc.Node.EventType.TOUCH_END,this.onTopTouchEnd,this),this.btnMsg.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTopTouchCancel,this),this.registerEvent("handleKeyBackClicked",()=>{l.default.showDialog("",b.i18n.TIPS.QUITGAME,()=>{cc.game.end()})})}onRefreshVersion(){let e=cc.find("version",this.node);if(e){let t=window.platformUtil.getVersionName(),n=window.platformUtil.getResVersionName();t&&(e.getComponent(cc.Label).string="App:"+t+" Res:"+n)}}onNotifyOtherLogin(e){cc.log(e,"onNotifyOtherLogin"),l.default.showMsgBox("",b.i18n.ERRORCODE[e.errorCode],()=>{f.goToLogin()},null,!1)}_onDirectorAfterDraw(){m.Manager.uiManager.onDirectorAfterDraw()}update(){g.LobbyService.instance.handMessage(),m.Manager.assetManager.remote.update()}onDestroy(){super.onDestroy(),G.Logger.log("\u79fb\u9664\u7f51\u7edc\u7ec4\u4ef6"),m.Manager.adaptor.onDestroy(),m.Manager.netManager.removeNetControllers(this.node),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP),cc.game.off(cc.game.EVENT_HIDE),cc.game.off(cc.game.EVENT_SHOW),m.Manager.logicManager.onDestroy(this.node)}showUserInfo(e){m.Manager.uiManager.open({type:y.default,bundle:a.BUNDLE_RESOURCES,args:[e]})}onNotLoginClickButton(){l.default.showTip(b.i18n.Tips.SilakanMasuk)}onTopTouchStart(e){let t=this.node.convertToNodeSpaceAR(e.getLocation()),n=this.btnMsg.node.convertToWorldSpaceAR(cc.v2(0,0)),o=this.node.convertToNodeSpaceAR(n);this._diffWorldPos=o.sub(t),this._startMsgBtnPos=e.getLocation()}onTopTouchMove(e){let t=this.node.convertToNodeSpaceAR(e.getLocation());this.btnMsg.node.setPosition(t.add(this._diffWorldPos)),this.refreshLatBtns()}onTopTouchEnd(e){this.topTouchEnd(e)}onTopTouchCancel(e){this.topTouchEnd(e)}topTouchEnd(e){let t=this.btnMsg.node.convertToWorldSpaceAR(cc.v2(0,0));t.x-this.btnMsg.node.width/2<20?this.btnMsg.node.x=0+this.btnMsg.node.width/2-cc.winSize.width/2+20:t.x+this.btnMsg.node.width/2>cc.winSize.width-20&&(this.btnMsg.node.x=cc.winSize.width-this.btnMsg.node.width/2-cc.winSize.width/2-20),t.y-this.btnMsg.node.height/2<50?this.btnMsg.node.y=0+this.btnMsg.node.height/2-cc.winSize.height/2+50:t.y+this.btnMsg.node.height/2>cc.winSize.height-50&&(this.btnMsg.node.y=cc.winSize.height-this.btnMsg.node.height/2-cc.winSize.height/2-50);let n=e.getLocation().sub(this._startMsgBtnPos);Math.abs(n.x)<10&&Math.abs(n.y)<10&&this.onClickMsg()}onEnterBackground(){this._enterBackgroundTime=Date.timeNow(),cc.log("[MainController]",`onEnterBackground ${this._enterBackgroundTime}`),m.Manager.globalAudio.onEnterBackground(),g.LobbyService.instance.onEnterBackground()}onEnterForgeground(){if(0==this._enterBackgroundTime)return;let e=Date.timeNow(),t=e-this._enterBackgroundTime;cc.log("[MainController]",`onEnterForgeground ${e} background total time : ${t}`),m.Manager.globalAudio.onEnterForgeground(t),g.LobbyService.instance.onEnterForgeground(t),this._enterBackgroundTime=0,t>60&&s.reStartGame()}onClickToTop(){let e=m.Manager.uiManager.getLastView();e&&e.onScrollTop()}onClickTelegram(){cc.sys.openURL(p.Config.TelegramURL),this.latBtns.node.active=!1}onClickService(){this.latBtns.node.active=!1}refreshLatBtns(){if(!this.latBtns.node.active)return;let e=this.btnMsg.node.convertToWorldSpaceAR(cc.v2(0,0)),t=cc.v2(0,0);e.x>cc.winSize.width/2?t.x=0-(this.btnMsg.node.width/2+this.latBtns.node.width/2+20):t.x=this.btnMsg.node.width/2+this.latBtns.node.width/2+20,this.latBtns.node.position=t}onClickMsg(){this.latBtns.node.active=!this.latBtns.node.active,this.refreshLatBtns()}};o([L(cc.Node)],S.prototype,"nodTopBtn",void 0),o([L(cc.Button)],S.prototype,"btnMsg",void 0),o([L(cc.Layout)],S.prototype,"latBtns",void 0),o([L(cc.Button)],S.prototype,"btnToTop",void 0),S=o([R,E("manager/MainController")],S),n.default=S,cc._RF.pop()},{"../../data/AppData":"AppData","../../framework/base/Defines":"Defines","../../framework/controller/Controller":"Controller","../../global/Global":"Global","../../loading/Loading":"Loading","../../msgbox/ConfirmBox":"ConfirmBox","../../msgbox/PanelHelp":"PanelHelp","../../platform/android":"android","../../platform/ios":"ios","../../platform/web":"web","../../userInfo/UserInfo":"UserInfo","../../wait/DisconnectWait":"DisconnectWait","../config/Config":"Config","../define/EventDefine":"EventDefine","../language/LanguageImpl":"LanguageImpl","../net/LobbyService":"LobbyService","./Manager":"Manager"}],Manager:[function(e,t,n){"use strict";cc._RF.push(t,"b461aTzwptH0o6X2ZMDgv+z","Manager");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Manager=void 0;const i=e("../../framework/Framework"),a=e("./NetManager"),r=e("./LogicManager"),s=o(e("../component/GlobalAudio")),c=e("../../framework/extentions/Extentions"),l=e("../../framework/extentions/CocosExtention"),d=e("../language/LanguageImpl"),h=e("../../framework/base/Singleton"),u=e("../../framework/base/Defines");n.Manager=new class extends i._FramewokManager{constructor(){super(...arguments),this._globalAudio=null,this.gameView=null,this.gameData=null}get netManager(){return h.getSingleton(a.NetManager)}get logicManager(){return h.getSingleton(r.LogicManager)}get globalAudio(){return this._globalAudio=this.uiManager.getCanvas().getComponent(s.default),this._globalAudio}makeLanguage(e,t=!1){return"string"==typeof e?t&&this.gameData?`${u.USING_LAN_KEY}${this.gameData.bundle}.${e}`:`${u.USING_LAN_KEY}${e}`:("string"==typeof e[0]&&e instanceof Array&&(t&&this.gameData?e[0]=`${u.USING_LAN_KEY}${this.gameData.bundle}.${e[0]}`:e[0]=`${u.USING_LAN_KEY}${e[0]}`),e)}getLanguage(e,t=null){let n="";return"string"==typeof e?(n=t?`${u.USING_LAN_KEY}${t}.${e}`:`${u.USING_LAN_KEY}${e}`,this.language.get([n])):"string"==typeof e[0]&&e instanceof Array?(e[0]=t?`${u.USING_LAN_KEY}${t}.${e[0]}`:`${u.USING_LAN_KEY}${e[0]}`,this.language.get(e)):(cc.error("\u4f20\u5165\u53c2\u6570\u6709\u8bef"),"")}init(){this.adaptor.initBrowserAdaptor(),c.extentionsInit(),l.CocosExtentionInit(),this.language.delegate=h.getSingleton(d.LanguageImpl)}},cc._RF.pop()},{"../../framework/Framework":"Framework","../../framework/base/Defines":"Defines","../../framework/base/Singleton":"Singleton","../../framework/extentions/CocosExtention":"CocosExtention","../../framework/extentions/Extentions":"Extentions","../component/GlobalAudio":"GlobalAudio","../language/LanguageImpl":"LanguageImpl","./LogicManager":"LogicManager","./NetManager":"NetManager"}],Message:[function(e,t,n){"use strict";cc._RF.push(t,"5f20bKU7h1JJY2VL032FxV0","Message"),Object.defineProperty(n,"__esModule",{value:!0}),n.Message=void 0;const o=e("../../common/net/CmdResStruct");n.Message=class{constructor(){this.mainCmd=0,this.data=null,this.buffer=null,this.databuffer=null,this.serverId=0}fillData(){}_appendBuffer(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}toBuffer(){let e=2+this.databuffer.byteLength,t=new ArrayBuffer(e),n=new DataView(t),o=0,i=this.databuffer.byteLength;n.setUint16(o,this.mainCmd,!1),o+=2,new Uint8Array(t,o,i).set(this.databuffer,0),o+=i,this.buffer=t}encode(){try{return this.fillData(),this.toBuffer(),!0}catch(e){return cc.error(e),!1}}decode(e){if(e){this.buffer=e;var t=new DataView(e.buffer);this.mainCmd=t.getUint16(0,!1);try{let t=e.buffer.slice(2,e.buffer.byteLength);var n=new Uint8Array(t);let a=o.CmdResStruct.decode(this.mainCmd);if(a){let e=a.decode(n);this.data=e}else cc.error(`\u672a\u914d\u7f6e ${this.mainCmd} \u89e3\u6790\u6d88\u606fproto\u6ce8\u518c CmdResStruct`)}catch(i){return!1}return!0}return!1}getUint64(e,t,n){const o=e.getUint32(t,n),i=e.getUint32(t+4,n),a=n?o+Math.pow(2,32)*i:Math.pow(2,32)*o+i;return Number.isSafeInteger(a)||console.warn(a,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),a}},cc._RF.pop()},{"../../common/net/CmdResStruct":"CmdResStruct"}],MinigameDefine:[function(e,t,n){"use strict";cc._RF.push(t,"e7223QPX/9Kf5lbwNtkD3wp","MinigameDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.MinigameDefine=void 0,function(e){e.BGM="minigame/audio/audio_bgm",e.Sound={FLY_GOLD:"minigame/audio/audio_fly_gold",OPEN_BOX:"minigame/audio/audio_open_box"}}(n.MinigameDefine||(n.MinigameDefine={})),cc._RF.pop()},{}],MinigameGoldView:[function(e,t,n){"use strict";cc._RF.push(t,"f3c695OsvhMq42vw03BRz73","MinigameGoldView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=i(e("../common/utils/NumberUtils")),s=i(e("../common/utils/TypeUtils")),c=e("../framework/base/Defines"),l=e("../framework/decorator/Decorators"),d=e("../framework/event/EventApi"),h=i(e("../framework/ui/UIView")),u=e("./MinigameDefine"),{ccclass:p,property:g}=cc._decorator;let m=class extends h.default{constructor(){super(...arguments),this.imgBg=null,this.imgGold=null,this.labGold=null,this.pfbGoldAnim=null,this._isPlayAnim=null,this._goldAnimTimer=null,this._goldAnimList=null,this._targetPos=null,this._bonusGold=null}static getPrefabUrl(){return"minigame/prefabs/MinigameGoldView"}onLoad(){super.onLoad(),this.initData(),this.initUI(),this.initPreload()}start(){}initData(){this._isPlayAnim=!1,this._goldAnimTimer=null,this._goldAnimList=[],this._targetPos=null,this._bonusGold=null}initUI(){}initPreload(){for(let e=0;e<7;++e){let t=cc.instantiate(this.pfbGoldAnim).getComponent(sp.Skeleton);this.node.addChild(t.node),t.node.active=!1,this._goldAnimList[e]=t}}bindingEvents(){super.bindingEvents(),c.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(d.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(){}show(e){super.show(e),this._bonusGold=e[0],this._targetPos=e[1],this.onLanguageChange(),this.refreshBonusGold(),this.startGoldAnimTimer()}refreshBonusGold(){this.labGold.string=`+${r.default.converToC(this._bonusGold)}`}startGoldAnimTimer(){this.stopGoldAnimTimer(),this._goldAnimTimer=setTimeout(()=>{this.playGoldAnim()},2500)}stopGoldAnimTimer(){s.default.isNull(this._goldAnimTimer)||(clearTimeout(this._goldAnimTimer),this._goldAnimTimer=null),this._isPlayAnim=!1}playGoldAnim(){this._isPlayAnim||(this.audioHelper.playEffect(u.MinigameDefine.Sound.FLY_GOLD,this.bundle),this.imgGold.node.active=!1,this.labGold.node.active=!1,this.playBgFadeOutTween(),this.playAllGoldFlyPosTween(this._targetPos),this._isPlayAnim=!0)}playBgFadeOutTween(){return cc.tween(this.imgBg.node).to(.5,{opacity:0}).start()}playAllGoldFlyPosTween(e){for(let t=0;t<7;++t)setTimeout(()=>{this.playGoldFlyPosTween(t,e)},80*t)}playGoldFlyPosTween(e,t){let n=cc.tween(this._goldAnimList[e].node).set({active:!0,position:this.imgGold.node.position}).to(.8,{scale:.22,position:t});e>=6&&n.call(()=>{this.close()}),n.start()}onClick(e,t,n){switch(e){case"btnPlayGoldAnim":this.playGoldAnim()}}};o([g(cc.Sprite)],m.prototype,"imgBg",void 0),o([g(cc.Sprite)],m.prototype,"imgGold",void 0),o([g(cc.Label)],m.prototype,"labGold",void 0),o([g(cc.Prefab)],m.prototype,"pfbGoldAnim",void 0),m=o([p,l.injectService(a.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/net/LobbyService":"LobbyService","../common/utils/NumberUtils":"NumberUtils","../common/utils/TypeUtils":"TypeUtils","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/ui/UIView":"UIView","./MinigameDefine":"MinigameDefine"}],MinigameView:[function(e,t,n){"use strict";cc._RF.push(t,"1dbe34coYlP1ZSb9OzLS9iC","MinigameView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/bindItemView/BindEmailView")),r=i(e("../common/item/TitleItemPageUser")),s=e("../common/language/LanguageImpl"),c=e("../common/manager/Manager"),l=e("../common/net/LobbyService"),d=i(e("../common/utils/NumberUtils")),h=i(e("../common/utils/TypeUtils")),u=i(e("../data/UserData")),p=e("../framework/base/Defines"),g=e("../framework/decorator/Decorators"),m=e("../framework/event/EventApi"),f=e("../framework/external/protoc"),b=i(e("../framework/ui/UIView")),y=i(e("../msgbox/PanelHelp")),_=e("./MinigameDefine"),v=i(e("./MinigameGoldView")),{ccclass:w,property:C}=cc._decorator;let R=class extends b.default{constructor(){super(...arguments),this.spfFinish=null,this.spfUnFinish=null,this.spnAwardBox=null,this.imgBoxShadow=[],this.labTaskTitle=null,this.nodTaskItem0=null,this.btnBindEmail=null,this.labBindEmail=null,this.nodTaskItem1=null,this.labBonusTitle=null,this.labBonusTips=null,this.labBonusGold=null,this.titleItemPageUser=null,this._userData=null,this._minigameInfo=null,this._minigameLottery=null}static getPrefabUrl(){return"minigame/prefabs/MinigameView"}onLoad(){super.onLoad(),this.audioHelper.playMusic(_.MinigameDefine.BGM,this.bundle),this.initData(),this.initUI(),this.C2S_MinigameInfo()}start(){}initData(){this._userData=G.DataMgr.get(u.default),this._minigameInfo=null,this._minigameLottery=null}initUI(){this.spnAwardBox.node.active=!1,this.labTaskTitle.string="",this.labBonusTitle.string="",this.labBonusTips.string="",this.labBonusGold.string="",this.nodTaskItem0.getChildByName("imgIsFinish").getComponent(cc.Sprite).spriteFrame=this.spfUnFinish,this.nodTaskItem1.getChildByName("imgIsFinish").getComponent(cc.Sprite).spriteFrame=this.spfUnFinish,this.btnBindEmail.node.active=!0}bindingEvents(){super.bindingEvents(),p.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(m.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("Event_S2C_MinigameInfo",this.onEvent_S2C_MinigameInfo),this.registerEvent("Event_S2C_MinigameLottery",this.onEvent_S2C_MinigameLottery),this.registerEvent("Event_S2C_BindEmail",this.onEvent_S2C_BindEmail),this.registerEvent("updateUserInfo",this.onUpdateUserInfo)}onLanguageChange(){this.titleItemPageUser.languagePageName(c.Manager.makeLanguage("Minigame.labPageName")),this.labTaskTitle.language=c.Manager.makeLanguage("Minigame.labTaskTitle"),this.nodTaskItem0.getChildByName("labTaskDesc").getComponent(cc.Label).language=c.Manager.makeLanguage("Minigame.labTaskDesc0"),this.labBindEmail.language=c.Manager.makeLanguage("Minigame.labBindEmail"),this.nodTaskItem1.getChildByName("labTaskDesc").getComponent(cc.Label).language=c.Manager.makeLanguage("Minigame.labTaskDesc1"),this.labBonusTitle.language=c.Manager.makeLanguage("Minigame.labBonusTitle"),this.labBonusTips.language=c.Manager.makeLanguage("Minigame.labBonusTips"),this._minigameInfo&&!h.default.isNull(this._minigameInfo.todayBonus)&&(this.labBonusGold.language=c.Manager.makeLanguage(["Minigame.RpGold",d.default.converToC(this._minigameInfo.todayBonus)]))}show(e){super.show(e),this.onLanguageChange()}refreshTask(){let e=null;this.isBindEmail()?(e=this.spfFinish,this.btnBindEmail.node.active=!1):(e=this.spfUnFinish,this.btnBindEmail.node.active=!0),this.nodTaskItem0.getChildByName("imgIsFinish").getComponent(cc.Sprite).spriteFrame=e;let t=null;t=this._minigameInfo.isFinishGame?this.spfFinish:this.spfUnFinish,this.nodTaskItem1.getChildByName("imgIsFinish").getComponent(cc.Sprite).spriteFrame=t}refreshBonus(){this.labBonusGold.language=c.Manager.makeLanguage(["Minigame.RpGold",d.default.converToC(this._minigameInfo.todayBonus)])}playLotteryAnim(){let e=this.imgBoxShadow[this._minigameLottery.boxIndex].node.getChildByName("btnAwardBox").getComponent(cc.Button),t=e.node.convertToWorldSpaceAR(cc.v2(0,0)),n=this.spnAwardBox.node.parent.convertToNodeSpaceAR(t);e.node.active=!1,this.spnAwardBox.node.active=!0,this.spnAwardBox.node.position=cc.v2(n.x,n.y-5.5);let o=this.spnAwardBox.setAnimation(0,"kai",!1);this.spnAwardBox.setTrackCompleteListener(o,this.onAnimOpenBoxFinish.bind(this))}clickBox(e){this.isBindEmail()?this._minigameInfo.isFinishGame?this._minigameInfo.isReceiveBonus?y.default.showTip(s.i18n.Tips.BonusAlreadyReceived):this.C2S_MinigameLottery(e):y.default.showTip(s.i18n.Tips.CompleteAnyGameToGetIt):y.default.showTip(s.i18n.Tips.PleaseBindYourEmail)}clickBindEmail(){c.Manager.uiManager.open({type:a.default,bundle:p.BUNDLE_RESOURCES})}onClick(e,t,n){switch(e){case"btnAwardBox":this.clickBox(Number(n));break;case"btnBindEmail":this.clickBindEmail();break;case"btnClose":this.close()}}onAnimOpenBoxFinish(e,t){let n=this.titleItemPageUser.getGoldWorldPos(),o=this.node.convertToNodeSpaceAR(n);c.Manager.uiManager.open({type:v.default,bundle:p.BUNDLE_RESOURCES,args:[this._minigameLottery.award,o]}),this.spnAwardBox.setAnimation(0,"daiji",!0)}isBindEmail(){return!h.default.isNull(this._userData.email)&&this._userData.email.length>0}C2S_MinigameLottery(e){let t=f.MST.C2S_MinigameLottery.create({serial:c.Manager.netManager.getNewSeqId(),boxIndex:e}),n=f.MST.C2S_MinigameLottery.encode(t).finish();l.LobbyService.instance.sendMsg(f.MST.C2S_MinigameLottery,f.MST.OuterOpcode_Lobby.C2S_MinigameLottery,n)}C2S_MinigameInfo(){let e=f.MST.C2S_MinigameInfo.create({serial:c.Manager.netManager.getNewSeqId()}),t=f.MST.C2S_MinigameInfo.encode(e).finish();l.LobbyService.instance.sendMsg(f.MST.C2S_MinigameInfo,f.MST.OuterOpcode_Lobby.C2S_MinigameInfo,t)}onEvent_S2C_MinigameInfo(e){this._minigameInfo=e,this.refreshTask(),this.refreshBonus()}onEvent_S2C_MinigameLottery(e){this.audioHelper.playEffect(_.MinigameDefine.Sound.OPEN_BOX,this.bundle),this._minigameInfo.isReceiveBonus=!0,this._minigameLottery=e,this.playLotteryAnim()}onEvent_S2C_BindEmail(){this.refreshTask()}onUpdateUserInfo(){this.C2S_MinigameInfo()}onDestroy(){super.onDestroy(),this.audioHelper.stopMusic()}};o([C(cc.SpriteFrame)],R.prototype,"spfFinish",void 0),o([C(cc.SpriteFrame)],R.prototype,"spfUnFinish",void 0),o([C(sp.Skeleton)],R.prototype,"spnAwardBox",void 0),o([C([cc.Sprite])],R.prototype,"imgBoxShadow",void 0),o([C(cc.Label)],R.prototype,"labTaskTitle",void 0),o([C(cc.Node)],R.prototype,"nodTaskItem0",void 0),o([C(cc.Button)],R.prototype,"btnBindEmail",void 0),o([C(cc.Label)],R.prototype,"labBindEmail",void 0),o([C(cc.Node)],R.prototype,"nodTaskItem1",void 0),o([C(cc.Label)],R.prototype,"labBonusTitle",void 0),o([C(cc.Label)],R.prototype,"labBonusTips",void 0),o([C(cc.Label)],R.prototype,"labBonusGold",void 0),o([C(r.default)],R.prototype,"titleItemPageUser",void 0),R=o([w,g.injectService(l.LobbyService.instance)],R),n.default=R,cc._RF.pop()},{"../common/bindItemView/BindEmailView":"BindEmailView","../common/item/TitleItemPageUser":"TitleItemPageUser","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../common/utils/NumberUtils":"NumberUtils","../common/utils/TypeUtils":"TypeUtils","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./MinigameDefine":"MinigameDefine","./MinigameGoldView":"MinigameGoldView"}],MissionItem:[function(e,t,n){"use strict";cc._RF.push(t,"f7f08HyPbxGbY5jZQ4D3H1w","MissionItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../data/UserData")),r=e("../framework/base/Defines"),s=i(e("../framework/extentions/DateUtils")),c=e("../common/manager/Manager"),l=i(e("../login/LoginNewView")),{ccclass:d,property:h}=cc._decorator,u={0:{title:"Seven day sign in task",titlePath:"mission/image/zi_a1",framePath:"mission/image/icon_g1",roule:"Continuously check in the website within a fixed time to obtain gold coins xxxx"},1:{title:"30 day sign in task",titlePath:"mission/image/zi_a2",framePath:"mission/image/icon_g2",roule:"Continuously check in the website within a fixed time to obtain gold coins xxxx"},2:{title:"Recharge task",titlePath:"mission/image/zi_a3",framePath:"mission/image/icon_g3",roule:"You can receive gold coins when your recharge reaches a certain amount within a certain period of time,coins xxxx"},3:{title:"Promotion task",titlePath:"mission/image/zi_a4",framePath:"mission/image/icon_g4",roule:"You can receive gold coins when the number of promoters reaches a certain amount within a certain period of time,coins xxxx"},4:{title:"Offline recharge task",titlePath:"mission/image/zi_a5",framePath:"mission/image/icon_g5",roule:"You can receive gold coins when your accumulated recharge reaches a certain amount during the promotion period,coins xxxx"}};let p=class extends cc.Component{constructor(){super(...arguments),this.bg=null,this.bgCheck=null,this.iconFrame=null,this.iconTitle=null,this.labRule=null,this.labTime=null,this.progressBar=null,this.labBar=null,this.btnDraw=null,this.btnSigin=null,this._itemId=0,this.missionId=null,this._itemClickCallback=null}onLoad(){this.node.opacity=0,this.bg.active=!0,this.btnDraw.active=!1,this.btnSigin.active=this.checkIsLogin()}checkIsLogin(){return!G.DataMgr.get(a.default).id}updateItem(e,t,n){this._itemId=t,this.missionId=e.missionId,this._itemClickCallback=n,this.updateData(e)}updateData(e){if(e){let t=e.missionId,n=e.beginTime,o=e.endTime,i=e.reward,a=Number(e.targetProgress),c=Number(e.curProgress),l=u[t],d=s.default.getYMD(n),h=s.default.getYMD(o),p=l.framePath,g=l.titlePath,m=l.roule;m=String(m).replace(/xxxx/g,String(i)),0==e.endTime&&(h=""),this.labTime.string=`${d} - ${h}`,this.labRule.string=m,this.progressBar.getComponent(cc.Sprite).fillRange=Number(c/a),this.btnDraw.active=c==a,this.labBar.string=Math.floor(c)+"/"+Math.floor(a),this.iconFrame.loadImage({url:p,view:this,bundle:r.BUNDLE_RESOURCES}),this.iconTitle.loadImage({url:g,view:this,bundle:r.BUNDLE_RESOURCES})}}onItemClick(e,t){this._itemClickCallback&&this._itemClickCallback(this._itemId)}onClickSigin(){c.Manager.uiManager.open({type:l.default,bundle:r.BUNDLE_RESOURCES})}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([h(cc.Node)],p.prototype,"bg",void 0),o([h(cc.Node)],p.prototype,"bgCheck",void 0),o([h(cc.Sprite)],p.prototype,"iconFrame",void 0),o([h(cc.Sprite)],p.prototype,"iconTitle",void 0),o([h(cc.Label)],p.prototype,"labRule",void 0),o([h(cc.Label)],p.prototype,"labTime",void 0),o([h(cc.Sprite)],p.prototype,"progressBar",void 0),o([h(cc.Label)],p.prototype,"labBar",void 0),o([h(cc.Node)],p.prototype,"btnDraw",void 0),o([h(cc.Node)],p.prototype,"btnSigin",void 0),p=o([d],p),n.default=p,cc._RF.pop()},{"../common/manager/Manager":"Manager","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/extentions/DateUtils":"DateUtils","../login/LoginNewView":"LoginNewView"}],MissionView:[function(e,t,n){"use strict";cc._RF.push(t,"cef0b5JGnlCHY5bxf0rZk6S","MissionView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/language/LanguageImpl"),s=e("../common/manager/Manager"),c=e("../common/net/LobbyService"),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=a(e("../framework/ui/UIView")),u=a(e("../msgbox/PanelHelp")),p=a(e("../akun/AkunView")),g=a(e("../hall/HallNewView")),m=a(e("../login/LoginNewView")),f=a(e("../wallet/WalletView")),b=a(e("../common/component/ScroViewPlus")),y=a(e("../common/component/ScroViewCtrl")),_=a(e("./MissionItem")),v=e("../framework/external/protoc"),w=a(e("../data/UserData")),C=a(e("../signin/SigninNew")),R=a(e("../data/HallData")),{ccclass:L,property:E}=cc._decorator;let S=class extends h.default{constructor(){super(...arguments),this.scrollView=null,this._clickItemId=0,this._missionList=[],this.missionId=null}static getPrefabUrl(){return"mission/prefabs/MissionView"}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_S2C_GetMissionList",this.onEvent_S2C_GetMissionList),this.registerEvent("Event_S2C_MissionClaim",this.onEvent_S2C_MissionClaim),this.registerEvent("updateUserInfo",this.onEvent_S2C_GetMissionList)}show(){this.requestGetMissionList()}requestGetMissionList(){let e=v.MST.C2S_GetMissionList.create({serial:s.Manager.netManager.getNewSeqId()}),t=v.MST.C2S_GetMissionList.encode(e).finish();c.LobbyService.instance.sendMsg(v.MST.C2S_GetMissionList,v.MST.OuterOpcode_Lobby.C2S_GetMissionList,t)}onClick(e,t){switch(e){case"btnHome":s.Manager.uiManager.open({type:g.default,bundle:l.BUNDLE_RESOURCES}),this.close();break;case"btnDompet":s.Manager.uiManager.open({type:f.default,bundle:l.BUNDLE_RESOURCES}),this.close();break;case"btnLogin":s.Manager.uiManager.open({type:m.default,bundle:l.BUNDLE_RESOURCES});break;case"btnEvent":break;case"btnAkun":s.Manager.uiManager.open({type:p.default,bundle:l.BUNDLE_RESOURCES}),this.close();break;case"btnQiandao":this.checkLogined()&&s.Manager.uiManager.open({type:C.default,bundle:l.BUNDLE_RESOURCES})}}checkLogined(){return!!G.DataMgr.get(w.default).id||(s.Manager.uiManager.open({type:m.default,bundle:l.BUNDLE_RESOURCES}),!1)}onEvent_S2C_GetMissionList(){let e=G.DataMgr.get(R.default).missionList;e&&(this._missionList=e,this.MissionItemView(e))}onEvent_S2C_MissionClaim(e){u.default.showTip(r.i18n.MISSION.RECEIVEDSUCCESS);let t=e.missionId;for(let n=0;n<this._missionList.length;n++){const o=this._missionList[n];if(e.missionId==t){o.curProgress=0;break}n++}this.scrollView.content.children.forEach(e=>{let n=e.getComponent(_.default);n.missionId==t&&n.updateData(this._missionList[0])})}MissionItemView(e){return i(this,void 0,void 0,function*(){let t=this.getComponent(y.default);t.dataList=e,t.onItemClickCallback=this.onClickEmailItem.bind(this),yield t.framingLoad(e.length)})}onClickEmailItem(e){this._clickItemId=e;let t=this._missionList[e].missionId;this.missionId=t,this.requestMissionClaim()}requestMissionClaim(){let e=v.MST.C2S_MissionClaim.create({serial:s.Manager.netManager.getNewSeqId(),missionId:this.missionId}),t=v.MST.C2S_MissionClaim.encode(e).finish();c.LobbyService.instance.sendMsg(v.MST.C2S_MissionClaim,v.MST.OuterOpcode_Lobby.C2S_MissionClaim,t)}onDestroy(){super.onDestroy()}};o([E(b.default)],S.prototype,"scrollView",void 0),S=o([L,d.injectService(c.LobbyService.instance)],S),n.default=S,cc._RF.pop()},{"../akun/AkunView":"AkunView","../common/component/ScroViewCtrl":"ScroViewCtrl","../common/component/ScroViewPlus":"ScroViewPlus","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/HallData":"HallData","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../hall/HallNewView":"HallNewView","../login/LoginNewView":"LoginNewView","../msgbox/PanelHelp":"PanelHelp","../signin/SigninNew":"SigninNew","../wallet/WalletView":"WalletView","./MissionItem":"MissionItem"}],MoveRepeatForever:[function(e,t,n){"use strict";cc._RF.push(t,"b49caGY1BFDq6FL59Es6ppI","MoveRepeatForever");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=cc.Enum({horizontal:0,vertical:1}),s=class extends cc.Component{constructor(){super(...arguments),this.moveType=r.horizontal,this.temp=10,this.tweenAnim=null}onLoad(){}start(){}onDisable(){this.node.stopAllActions()}onEnable(){this.node.stopAllActions(),this.moveType===r.horizontal?this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(this.temp,0)),cc.moveBy(.5,cc.v2(-this.temp,0))))):this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,this.temp)),cc.moveBy(.5,cc.v2(0,-this.temp)))))}};o([a({type:r})],s.prototype,"moveType",void 0),s=o([i],s),n.default=s,cc._RF.pop()},{}],MultiCurrencyIconSwitch:[function(e,t,n){"use strict";cc._RF.push(t,"6a193GeHARJW5t4+R9sL06w","MultiCurrencyIconSwitch");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../framework/base/Defines"),r=e("../global/User"),s=i(e("../framework/ui/UIView")),{ccclass:c,property:l}=cc._decorator;var d;(function(e){e[e.Gold_White=2]="Gold_White",e[e.Gold_Red=3]="Gold_Red",e[e.Gold_Hearts=4]="Gold_Hearts",e[e.Gold_Tournament=5]="Gold_Tournament"})(d||(d={}));let h=class extends s.default{constructor(){super(...arguments),this.real_Gold_Type=d.Gold_White,this.sprite=null}onLoad(){super.onLoad(),this.sprite=this.node.getComponent(cc.Sprite),this.sprite.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.toUpdataMultiCurrencyIcon()}bindingEvents(){super.bindingEvents(),this.registerEvent("updataMultiCurrencyIcon",this.toUpdataMultiCurrencyIcon)}toUpdataMultiCurrencyIcon(e=null){let t;this.sprite.spriteFrame=null,t=null==e?"MultiCurrency/images/icon/gold_"+(r.User.isRechargedPlayer?this.real_Gold_Type:r.User._goldType):"MultiCurrency/images/icon/gold_"+e,this.sprite.loadImage({url:t,view:this,bundle:a.BUNDLE_RESOURCES})}};o([l({tooltip:"Gold_White:\u767d\u8272\u7b79\u7801\uff0cGold_Red\uff1a\u7ea2\u8272\u7b79\u7801\uff0cGold_Hearts\uff1a\u7ea2\u5fc3\u7b79\u7801",type:cc.Enum(d)})],h.prototype,"real_Gold_Type",void 0),h=o([c],h),n.default=h,cc._RF.pop()},{"../framework/base/Defines":"Defines","../framework/ui/UIView":"UIView","../global/User":"User"}],MyPrizeView:[function(e,t,n){"use strict";cc._RF.push(t,"f8ff8/JhNVNl7i+CNXoWnYR","MyPrizeView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=a(e("../common/component/ScroViewCtrl")),s=e("../common/language/LanguageImpl"),c=e("../common/net/CommonService"),l=e("../common/net/LobbyService"),d=e("../framework/decorator/Decorators"),h=a(e("../framework/ui/UIView")),u=a(e("../msgbox/PanelHelp")),{ccclass:p,property:g}=cc._decorator;let m=class extends h.default{static getPrefabUrl(){return"turntable/prefab/MyPrizeView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){this.reqTurntableRecord()}show(e){super.show(e),this.showWithAction(!0),this.turnTableType=e&&e[0]?e[0]:0}bindingEvents(){super.bindingEvents(),this.registerEvent(d.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.Turntable_Record),this.onNetTurntableRecord),this.registerEvent("UPDATE_PRIZE_RECORD",this.reqTurntableRecord)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}reqTurntableRecord(){G.Logger.log("\u8bf7\u6c42record\u5217\u8868",this.turnTableType);let e=c.protoPackage.hall.TurntableRecordReq.create({type:this.turnTableType}),t=c.protoPackage.hall.TurntableRecordReq.encode(e).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.Turntable_Record,t)}onNetTurntableRecord(e){0==e.statusMsg.status?e.turntableRecords.length&&this.turntableRecordListView(e.turntableRecords):u.default.showTip(s.i18n.ERRORCODE[e.statusMsg.status])}turntableRecordListView(e){return i(this,void 0,void 0,function*(){let t=this.getComponent(r.default);t.dataList=e,yield t.framingLoad(e.length,!0),u.default.hideLoading()})}onDestroy(){super.onDestroy()}};m=o([p,d.injectService(l.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/component/ScroViewCtrl":"ScroViewCtrl","../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],MyTournamentItem:[function(e,t,n){"use strict";cc._RF.push(t,"db2faLDLpZAkYwNkuo4Q/St","MyTournamentItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=e("../common/language/LanguageImpl"),s=e("../common/manager/Manager"),c=e("../common/net/CommonService"),l=e("../common/net/LobbyService"),d=e("../framework/base/Defines"),h=e("../framework/decorator/Decorators"),u=e("../global/UtilMgr"),p=i(e("./TournamentData")),{ccclass:g,property:m}=cc._decorator;let f=class extends a.default{constructor(){super(...arguments),this.creator=null,this.people=null,this.mode=null,this.signUpFee=null,this.championReward=null,this.time=null,this.startState=null,this.detailNode=null}onLoad(){}updateItem(e,t){switch(super.updateItem(e,t),this.creator.string=u.UtilMgr.setString(e.nickname),this.people.string=e.totalNum+"",this.mode.string=0==e.type?"SNG":"MTT",this.signUpFee.string=u.UtilMgr.changeMoney(e.signUpFee),this.championReward.string=u.UtilMgr.changeMoney(e.championReward),e.tournamentStatus){case 0:case 1:this.time.string=1==e.type?new Date(+e.startTime).format("yyyy-MM-dd hh:mm:ss"):s.Manager.getLanguage(["Tournament.MyTournamentPeople",e.totalNum]),this.startState.string=r.i18n.Tournament.MyTournamentTip1,this.startState.node.color=(new cc.Color).fromHEX("#01e922"),this.detailNode.active=!0,this.detailNode.getChildByName("huang").active=!1;break;case 2:this.time.string=1==e.type?new Date(+e.startTime).format("yyyy-MM-dd hh:mm:ss"):s.Manager.getLanguage(["Tournament.MyTournamentPeople",e.totalNum]),this.startState.string=r.i18n.Tournament.MyTournamentTip2,this.startState.node.color=(new cc.Color).fromHEX("#c13958"),this.detailNode.active=!1;break;case 3:this.time.string=1==e.type?new Date(+e.startTime).format("yyyy-MM-dd hh:mm:ss"):s.Manager.getLanguage(["Tournament.MyTournamentPeople",e.totalNum]),this.startState.string=r.i18n.Tournament.MyTournamentTip3,this.startState.node.color=(new cc.Color).fromHEX("#ff000c"),this.detailNode.active=!0,this.detailNode.getChildByName("huang").active=!0;break;case 4:this.time.string=1==e.type?new Date(+e.startTime).format("yyyy-MM-dd hh:mm:ss"):s.Manager.getLanguage(["Tournament.MyTournamentPeople",e.totalNum]),this.startState.string=r.i18n.Tournament.MyTournamentTip4,this.startState.node.color=(new cc.Color).fromHEX("#ff000c"),this.detailNode.active=!1;break;case 5:this.time.string=1==e.type?new Date(+e.startTime).format("yyyy-MM-dd hh:mm:ss"):s.Manager.getLanguage(["Tournament.MyTournamentPeople",e.totalNum]),this.startState.string=r.i18n.Tournament.MyTournamentTip5,this.startState.node.color=(new cc.Color).fromHEX("#ff000c"),this.detailNode.active=!1}e.giveUp&&(this.time.string=1==e.type?new Date(+e.startTime).format("yyyy-MM-dd hh:mm:ss"):s.Manager.getLanguage(["Tournament.MyTournamentPeople",e.totalNum]),this.startState.string=r.i18n.Tournament.MyTournamentTip6,this.startState.node.color=(new cc.Color).fromHEX("#bb9fa6"),this.detailNode.active=!1)}onClick(e){let t=e.target.name;switch(s.Manager.globalAudio.playEffect("common/audio/click",d.BUNDLE_RESOURCES),t){case"detailBtn":p.default.getInstance().tournamentStatus=this._data.tournamentStatus,this.reqTournamentDetail()}}reqTournamentDetail(){let e={tournamentId:this._data.tournamentId},t=c.protoPackage.hall.TournamentDetailReq.create(e),n=c.protoPackage.hall.TournamentDetailReq.encode(t).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_TournamentDetail,n)}};o([m(cc.Label)],f.prototype,"creator",void 0),o([m(cc.Label)],f.prototype,"people",void 0),o([m(cc.Label)],f.prototype,"mode",void 0),o([m(cc.Label)],f.prototype,"signUpFee",void 0),o([m(cc.Label)],f.prototype,"championReward",void 0),o([m(cc.Label)],f.prototype,"time",void 0),o([m(cc.Label)],f.prototype,"startState",void 0),o([m(cc.Node)],f.prototype,"detailNode",void 0),f=o([g,h.injectService(l.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../global/UtilMgr":"UtilMgr","./TournamentData":"TournamentData"}],MyTournamentView:[function(e,t,n){"use strict";cc._RF.push(t,"83f31lk585F6pJCjMb6RoLI","MyTournamentView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewLogic")),r=e("../common/language/LanguageImpl"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=i(e("../msgbox/PanelHelp")),{ccclass:u,property:p}=cc._decorator;let g=class extends d.default{constructor(){super(...arguments),this.myTournament=null,this.myCreation=null}static getPrefabUrl(){return"tournament/prefabs/MyTournamentView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){}show(e){super.show(e),this.showWithAction(!0,()=>{this.reqMyTournament()})}bindingEvents(){super.bindingEvents(),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_MyTournament),this.onNetMyTournament)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"myTournament":this.myTournament.color=(new cc.Color).fromHEX("#FFFFFF"),this.myCreation.color=(new cc.Color).fromHEX("#AE9F96"),this.reqMyTournament();break;case"myCreation":this.myTournament.color=(new cc.Color).fromHEX("#AE9F96"),this.myCreation.color=(new cc.Color).fromHEX("#FFFFFF"),this.reqMyTournament(1);break;default:G.Logger.error("no find button name -> %s",e)}}reqMyTournament(e=0){let t={type:e},n=s.protoPackage.hall.MyTournamentReq.create(t),o=s.protoPackage.hall.MyTournamentReq.encode(n).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_MyTournament,o)}onNetMyTournament(e){0==e.statusMsg.status?this.getComponent(a.default).initUI(e.tournaments):h.default.showTip(r.i18n.ERRORCODE[e.statusMsg.status])}onDestroy(){super.onDestroy()}};o([p(cc.Node)],g.prototype,"myTournament",void 0),o([p(cc.Node)],g.prototype,"myCreation",void 0),g=o([u,l.injectService(c.LobbyService.instance)],g),n.default=g,cc._RF.pop()},{"../common/component/ScroViewLogic":"ScroViewLogic","../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],NativePopUpToolTip:[function(e,t,n){"use strict";cc._RF.push(t,"a3d0d0NsdJILL+Zc+VA5F9x","NativePopUpToolTip"),Object.defineProperty(n,"__esModule",{value:!0}),n.NativePopUpToolTip=void 0;const o=e("../common/language/LanguageImpl"),i=e("../common/manager/Manager"),a=e("../framework/base/Defines");n.NativePopUpToolTip=new class{constructor(){this.confirmCall=null,this.cancleCall=null,window.onPopSelectCall=this.onPopSelectCall.bind(this),window.onServerOutTimeCall=this.onServerOutTimeCall.bind(this)}init(){}onPopSelectCall(e){let t=e?this.confirmCall:this.cancleCall;t&&t(),this.confirmCall=null,this.cancleCall=null}onServerOutTimeCall(){dispatch("serverOutTime")}showTip(e){cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS||cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/PopUpTipTool/PopUpTipTool","showToask","(Ljava/lang/String;)V",e)}showDialog(e,t,n,i,a,r,s=!0,c=!0){e=this.chackLanguageStr(e),t=this.chackLanguageStr(t),a=this.chackLanguageStr(a),r=this.chackLanguageStr(r),""==e&&(e=o.i18n.MSG_BOX.tips),r||(r=o.i18n.MSG_BOX.Confirm),a?"false"==a&&(a=""):a=o.i18n.MSG_BOX.Cancel;let l={title:e,content:t,conmfirmText:r,cancleText:a};this.cancleCall=a,this.confirmCall=n;let d=JSON.stringify(l);cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS||cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/PopUpTipTool/PopUpTipTool","showDialog","(Ljava/lang/String;)V",d)}showMsgBox(e,t,n,o,i=!0,a=!0){this.showDialog(e,t,n,null,"false",o)}showLoading(e,t=1e4){""==(e=this.chackLanguageStr(e))&&(e=o.i18n.WAIT.LOADING);let n=JSON.stringify({content:e,outTime:t});cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS||cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/PopUpTipTool/PopUpTipTool","showLoading","(Ljava/lang/String;)V",n)}hideLoading(){cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS||cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/PopUpTipTool/PopUpTipTool","hideLoading","()V")}showDisconnectWait(){let e=i.Manager.makeLanguage("WAIT.DISCONNECT");this.showLoading(e,2e4)}hideDisconnectWait(){this.hideLoading()}chackLanguageStr(e){return null==e?e="":e.startsWith(a.USING_LAN_KEY)&&(e=i.Manager.language.get([e])),e}},cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../framework/base/Defines":"Defines"}],NetManager:[function(e,t,n){"use strict";cc._RF.push(t,"66c69HMa7REJ56z+Yr2Gqpk","NetManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetManager=void 0;class o{constructor(){this._logTag="[ActionManager]",this._seqId=0,this.controllers=[]}static Instance(){return this._instance||(this._instance=new o),this._instance}push(e){for(let t=0;t<this.controllers.length;t++)if(this.controllers[t]==e)return void cc.error(this._logTag,`\u91cd\u590d\u6dfb\u52a0${cc.js.getClassName(e)}`);console.log(`\u7f51\u7edc\u63a7\u5236\u5668\u6dfb\u52a0${cc.js.getClassName(e)}`),this.controllers.push(e),this.mainNode&&this.mainNode.addComponent(e)}addNetControllers(e){this.mainNode=e;for(let t=0;t<this.controllers.length;t++){let n=this.controllers[t];n&&e.addComponent(n)}}removeNetControllers(e){for(let t=0;t<this.controllers.length;t++){let n=this.controllers[t];n&&e.removeComponent(n)}}getNewSeqId(){return this._seqId++}}n.NetManager=o,o._instance=null,cc._RF.pop()},{}],NoneItem:[function(e,t,n){"use strict";cc._RF.push(t,"c8753dHUrVDmI64vNikCdEr","NoneItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../../framework/base/Defines"),r=e("../../framework/event/EventApi"),s=i(e("../../framework/ui/UIView")),c=e("../language/LanguageImpl"),{ccclass:l,property:d}=cc._decorator;let h=class extends s.default{constructor(){super(...arguments),this.labNone=null}onLoad(){super.onLoad(),this.initData(),this.initUI(),this.onLanguageChange()}start(){}bindingEvents(){super.bindingEvents(),a.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(r.EventApi.CHANGE_LANGUAGE,this.onLanguageChange)}onLanguageChange(){this.labNone.language=c.i18n.Common.NoData}initData(){}initUI(){this.labNone.string=""}};o([d(cc.Label)],h.prototype,"labNone",void 0),h=o([l],h),n.default=h,cc._RF.pop()},{"../../framework/base/Defines":"Defines","../../framework/event/EventApi":"EventApi","../../framework/ui/UIView":"UIView","../language/LanguageImpl":"LanguageImpl"}],NoticeItem:[function(e,t,n){"use strict";cc._RF.push(t,"bad6b8+4+BHmI1JKCNd1Kbt","NoticeItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../../framework/decorator/Decorators"),r=i(e("../../framework/ui/UIView")),s=e("../net/LobbyService"),c=i(e("../../data/HallData")),{ccclass:l,property:d}=cc._decorator;let h=class extends r.default{constructor(){super(...arguments),this.label=null,this.mask=null,this.startX=null,this.endX=null,this.speed=20,this.service=null}onLoad(){let e=this.label.node.getBoundingBox();this.startX=this.mask.width*this.mask.anchorX,this.endX=-this.mask.width*this.mask.anchorX-e.size.width,this.label.node.x=this.startX,this.initView()}start(){}initView(){let e=G.DataMgr.get(c.default).notice;if(e.length<=0)return;let t,n=e[0];t=0==n.type?this.getRichTxt(n.message):n.message,this.label.string=t}update(e){this.label.node.x<=this.endX&&(this.label.node.x=this.startX),this.label.node.x-=this.speed*e}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_S2C_MessageNotify",this.onEvent_S2C_MessageNotify)}onEvent_S2C_MessageNotify(){this.schedule(this.checkLabelPos)}checkLabelPos(){if(this.label.node.x<=this.endX){let e,t=G.DataMgr.get(c.default).notice;if(t.length<=0)return;if(0==t[0].type){let n=t[0].message;e=this.getRichTxt(n)}else e=t[0].message;this.label.string=e,t.length>1&&t.splice(0,1)}}getRichTxt(e){let t=e.lastIndexOf("win"),n=e.lastIndexOf("Rp"),o=e.lastIndexOf("in ");return`<color=#ffffff>${e.substring(0,t)}</c><color=#E1BC11> win${e.substring(n,o)}</color><color=#ffffff>${e.substring(o,e.length)}</c>`}onDestroy(){this.unschedule(this.checkLabelPos)}};o([d(cc.RichText)],h.prototype,"label",void 0),o([d(cc.Node)],h.prototype,"mask",void 0),h=o([l,a.injectService(s.LobbyService.instance)],h),n.default=h,cc._RF.pop()},{"../../data/HallData":"HallData","../../framework/decorator/Decorators":"Decorators","../../framework/ui/UIView":"UIView","../net/LobbyService":"LobbyService"}],NoticeTournamentView:[function(e,t,n){"use strict";cc._RF.push(t,"f13fcZP0apDX6JD1Gh0qilv","NoticeTournamentView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("../msgbox/PanelHelp")),h=i(e("./TournamentData")),{ccclass:u,property:p}=cc._decorator;let g=class extends l.default{constructor(){super(...arguments),this.noticeText=null,this.joinNode=null}static getPrefabUrl(){return"tournament/prefabs/NoticeTournamentView"}onLoad(){super.onLoad()}start(){this.joinNode.active=r.Manager.uiManager.isInHall()&&!r.Manager.uiManager.isInGame(),this.updateView()}show(e){super.show(e),e&&e[0]&&(this.data=e[0])}bindingEvents(){super.bindingEvents()}onClick(e,t){switch(e){case"joinBtn":this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),this.close(),d.default.showLoading(a.i18n.Waiting.EnterGame),h.default.getInstance().isTournamentGame=!0,h.default.getInstance().tournamentID=this.data.tournamentId,h.default.getInstance().toServerId=this.data.serverId,h.default.getInstance().serverType=this.data.serverType,dispatch("JoinTournament",{serviceType:this.data.serverType,toServerId:this.data.serverId});break;default:G.Logger.error("no find button name -> %s",e)}}updateView(){let e=this.data.gameStartCountDown;h.default.getInstance().isCountDownDate=(new Date).getTime()+1e3*e,this.noticeText.string=r.Manager.getLanguage(["Tournament.NoticeTournamentText",e]),this.timeInterval=setInterval(()=>{e--,this.noticeText.string=r.Manager.getLanguage(["Tournament.NoticeTournamentText",e]),e<=0&&(clearInterval(this.timeInterval),this.close())},1e3)}onDestroy(){super.onDestroy(),this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)}};o([p(cc.RichText)],g.prototype,"noticeText",void 0),o([p(cc.Node)],g.prototype,"joinNode",void 0),g=o([u,c.injectService(s.LobbyService.instance)],g),n.default=g,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./TournamentData":"TournamentData"}],NumberUtils:[function(e,t,n){"use strict";cc._RF.push(t,"5f076nCH9xDb65uN3+93jvI","NumberUtils");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=o(e("../../framework/extentions/Operation"));n.default=class{static converToS(e){return i.default.mul(e,100)}static converToC(e){return i.default.div(Number(e),100).toString()}static converToE(e,t){let n=String(t);return n.length>e?`${n.slice(0,e)}...`:n}},cc._RF.pop()},{"../../framework/extentions/Operation":"Operation"}],Operation:[function(e,t,n){"use strict";cc._RF.push(t,"32cf1Oz24RMI5Ifmn721DBc","Operation"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{static add(e,t){let n,o,i;try{n=e.toString().split(".")[1].length}catch(a){n=0}try{o=t.toString().split(".")[1].length}catch(a){o=0}return i=Math.pow(10,Math.max(n,o)),(Math.ceil(e*i)+Math.ceil(t*i))/i}static sub(e,t){let n,o,i;try{n=e.toString().split(".")[1].length}catch(a){n=0}try{o=t.toString().split(".")[1].length}catch(a){o=0}return i=Math.pow(10,Math.max(n,o)),(Math.ceil(e*i)-Math.ceil(t*i))/i}static mul(e,t){let n=0,o=e.toString(),i=t.toString();try{n+=o.split(".")[1].length}catch(a){}try{n+=i.split(".")[1].length}catch(a){}return Number(o.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)}static div(e,t){let n,o,i=0,a=0;try{n=e.toString().split(".")[1].length}catch(r){n=0}try{o=t.toString().split(".")[1].length}catch(r){o=0}return(i=Number(e.toString().replace(".","")))/(a=Number(t.toString().replace(".","")))*Math.pow(10,o-n)}},cc._RF.pop()},{}],PBChangePasswdView:[function(e,t,n){"use strict";cc._RF.push(t,"504c3mQXoVJfqx5+tapFckG","PBChangePasswdView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=i(e("../msgbox/PanelHelp")),u=i(e("./PBPasswdComponent")),{ccclass:p,property:g}=cc._decorator;let m=class extends d.default{constructor(){super(...arguments),this.edbPasswd1=null,this.edbPasswd2=null,this.edbPasswd3=null}static getPrefabUrl(){return"piggyBank/prefabs/PBChangePasswdView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg")}start(){}bindingEvents(){this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_CHANGE_PASSWD),this.onChangePasswd)}show(){this.showWithAction(!0),super.show()}onClickClose(){this.playDefaultEffect("close"),this.closeWithAction()}onClickOK(){this.playDefaultEffect();let e=this.edbPasswd1.getComponent(u.default),t=this.edbPasswd2.getComponent(u.default),n=this.edbPasswd3.getComponent(u.default);if(this.isPasswordNull(e.string)||this.isPasswordNull(t.string)||this.isPasswordNull(n.string))return void h.default.showTip(a.i18n.PIGGY_BANK.PLEASE_ENTER_PASSWORD);if(!this.isPasswordDigit(e.string)||!this.isPasswordDigit(t.string)||!this.isPasswordDigit(n.string))return void h.default.showTip(a.i18n.PIGGY_BANK.PASSWORD_INCOMPLETE);if(this.isPasswordSame(e.string,t.string,n.string))return void h.default.showTip(a.i18n.PIGGY_BANK.OLD_NEW_PASSWD_SAME);if(!this.isPasswordSame(t.string,n.string))return void h.default.showTip(a.i18n.PIGGY_BANK.NEW_PASSWD_DIFF);let o=s.protoPackage.hall.ChangePasswdReq.create({oldPasswd:e.string,newPasswd:t.string}),i=s.protoPackage.hall.ChangePasswdReq.encode(o).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_CHANGE_PASSWD,i)}onChangePasswd(e){0===e.statusMsg.status?(h.default.showTip(a.i18n.PIGGY_BANK.CHANGE_SUCCESS),this.closeWithAction()):h.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}isPasswordSame(...e){let t=!0,n=e[0];for(let o=1;o<e.length;++o)if(e[o]!==n){t=!1;break}return t}isPasswordDigit(e){return 6===e.length}isPasswordNull(e=""){return e.length<=0}};o([g(cc.EditBox)],m.prototype,"edbPasswd1",void 0),o([g(cc.EditBox)],m.prototype,"edbPasswd2",void 0),o([g(cc.EditBox)],m.prototype,"edbPasswd3",void 0),m=o([p,l.injectService(c.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./PBPasswdComponent":"PBPasswdComponent"}],PBDepositReceiptItemNode:[function(e,t,n){"use strict";cc._RF.push(t,"97fbexwxANJSI6epkb6mgni","PBDepositReceiptItemNode");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/CommonService"),r=e("../common/net/LobbyService"),s=e("../framework/decorator/Decorators"),c=i(e("../framework/extentions/DateUtils")),l=e("../framework/external/protoc"),d=i(e("../framework/ui/UIView")),h=e("../global/UtilMgr"),u=e("../common/language/LanguageImpl"),{ccclass:p,property:g}=cc._decorator;let m=class extends d.default{constructor(){super(...arguments),this.labTime=null,this.labOperationAmount=null,this.labInterestRate=null,this.labExpectedReturn=null,this.labTimeLeft=null,this.labTransferredOut=null,this.labCancelled=null,this.btnTransferOut=null,this.btnCancel=null,this.m_data=null}onLoad(){super.onLoad(),this.initView(),this.updateView()}start(){this.labCancelled.language=u.i18n.PIGGY_BANK.CANCELED,this.labTransferredOut.language=u.i18n.PIGGY_BANK.TRANSFERREDOUT}get data(){return this.m_data}setData(e){this.m_data=e}setStatus(e){this.m_data.status=e,this.initStatus(),this.updateStatus(e)}initView(){this.labTime.string="",this.labOperationAmount.string="",this.labInterestRate.string="",this.labExpectedReturn.string="",this.labTimeLeft.string="",this.initStatus()}initStatus(){this.labTransferredOut.node.active=!1,this.labCancelled.node.active=!1,this.btnTransferOut.node.active=!1,this.btnCancel.node.active=!1}updateView(){this.labTime.string=c.default.getMDHM(this.m_data.timestamp),this.labOperationAmount.string=h.UtilMgr.changeMoney(Number(this.m_data.amount)),this.labInterestRate.string=`${this.m_data.rate/100}%`,this.labExpectedReturn.string=h.UtilMgr.changeMoney(this.m_data.expectedIncome),this.labTimeLeft.string=c.default.getRemainTimeDH((new Date).getTime(),Number(this.m_data.incomeDeadline)),this.updateStatus(this.m_data.status)}updateStatus(e){switch(e){case l.com.bt.game.proto.hall.IncomeBreakdownStatus.CANCELABLE:this.btnCancel.node.active=!0;break;case l.com.bt.game.proto.hall.IncomeBreakdownStatus.CANCELED:this.labCancelled.node.active=!0;break;case l.com.bt.game.proto.hall.IncomeBreakdownStatus.EXTRACTABLE:this.btnTransferOut.node.active=!0;break;case l.com.bt.game.proto.hall.IncomeBreakdownStatus.EXTRACED:this.labTransferredOut.node.active=!0}}onClick(e){switch(e){case"btnCancel":this.onClickCancel();break;case"btnTransferOut":this.onClickExtract()}}onClickCancel(){this.playDefaultEffect();let e=a.protoPackage.hall.CancelStoredAmountReq.create({id:this.m_data.id}),t=a.protoPackage.hall.CancelStoredAmountReq.encode(e).finish();this.service.sendMsg(a.serverType.Lobby,a.protoPackage.hall.HallCmd.CMD_CANCEL_STORED_AMOUNT,t)}onClickExtract(){this.playDefaultEffect();let e=a.protoPackage.hall.ExtractAmountReq.create({id:this.m_data.id,passwd:""}),t=a.protoPackage.hall.ExtractAmountReq.encode(e).finish();this.service.sendMsg(a.serverType.Lobby,a.protoPackage.hall.HallCmd.CMD_EXTRACT_AMOUNT,t)}};o([g(cc.Label)],m.prototype,"labTime",void 0),o([g(cc.Label)],m.prototype,"labOperationAmount",void 0),o([g(cc.Label)],m.prototype,"labInterestRate",void 0),o([g(cc.Label)],m.prototype,"labExpectedReturn",void 0),o([g(cc.Label)],m.prototype,"labTimeLeft",void 0),o([g(cc.Label)],m.prototype,"labTransferredOut",void 0),o([g(cc.Label)],m.prototype,"labCancelled",void 0),o([g(cc.Button)],m.prototype,"btnTransferOut",void 0),o([g(cc.Button)],m.prototype,"btnCancel",void 0),m=o([p,s.injectService(r.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/extentions/DateUtils":"DateUtils","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],PBDepositReceiptView:[function(e,t,n){"use strict";cc._RF.push(t,"7e378u8JLZDOrA5NwpmtstB","PBDepositReceiptView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=e("../framework/external/protoc"),h=i(e("../framework/ui/UIView")),u=i(e("../msgbox/PanelHelp")),p=i(e("./PBDepositReceiptItemNode")),g=i(e("./PiggyBankData")),{ccclass:m,property:f}=cc._decorator;let b=class extends h.default{constructor(){super(...arguments),this.scvList=null,this.imgNoData=null,this.pfbPBDepositReceiptItemNode=null,this.imgBase=null,this.m_currPage=1,this.m_totalPage=0,this.m_data=[],this.m_mapTagList=new Map,this.m_isFrameLoadDone=!1,this.m_itemSize=null,this.m_mapOperateSrc=new Map}static getPrefabUrl(){return"piggyBank/prefabs/PBDepositReceiptView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg"),this.initView()}start(){if(this.imgBase){let e,t,n,o,i;this.imgBase.getChildByName("labTime").getComponent(cc.Label).language=a.i18n.PIGGY_BANK.TIME,(e=this.imgBase.getChildByName("labOperationAmount")).getComponent(cc.Label).language=a.i18n.PIGGY_BANK.OPERATION_AMOUNT,(t=this.imgBase.getChildByName("labInterestRate")).getComponent(cc.Label).language=a.i18n.PIGGY_BANK.INTERESRATE,(n=this.imgBase.getChildByName("labExpectedReturn")).getComponent(cc.Label).language=a.i18n.PIGGY_BANK.EXPECTEDRETURN,(o=this.imgBase.getChildByName("labTimeLeft")).getComponent(cc.Label).language=a.i18n.PIGGY_BANK.TIMELEFT,(i=this.imgBase.getChildByName("labOperate")).getComponent(cc.Label).language=a.i18n.PIGGY_BANK.OPERATE}}bindingEvents(){this.scvList.node.on("scroll-to-bottom",this.onScrollToBottom,this),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_INCOME_BREAKDOWN),this.onIncomeBreakdown),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_EXTRACT_AMOUNT),this.onExtractAmount),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_CANCEL_STORED_AMOUNT),this.onCancelStoredAmount)}show(){super.show(),this.showWithAction(!0),this.reqPageData()}initView(){this.imgNoData.node.active=!1;let e=cc.instantiate(this.pfbPBDepositReceiptItemNode);this.m_itemSize=e.getContentSize()}reqPageData(){let e=s.protoPackage.hall.IncomeBreakdownReq.create({curPage:this.m_currPage,pageCount:30}),t=s.protoPackage.hall.IncomeBreakdownReq.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_INCOME_BREAKDOWN,t)}onScrollToBottom(){this.m_isFrameLoadDone?this.m_currPage>=this.m_totalPage?G.Logger.log("\u8d44\u6e90\u5df2\u52a0\u8f7d\u5b8c\u6210\uff0c\u65e0\u6cd5\u7ee7\u7eed\u83b7\u53d6\u6570\u636e"):(++this.m_currPage,this.reqPageData()):G.Logger.log("\u672a\u52a0\u8f7d\u5b8c\u6210 item \u8d44\u6e90\uff0c\u65e0\u6cd5\u83b7\u53d6\u6700\u65b0\u6570\u636e")}onIncomeBreakdown(e){0===e.statusMsg.status?e.count<=0?this.imgNoData.node.active=!0:this.m_mapTagList.get(e.page)||(this.setContentSize(this.m_data.length+e.info.length),this.pushRenderItem(e.info),this.m_currPage=e.page,this.m_totalPage=e.count,this.m_mapTagList.set(e.page,!0)):u.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}pushRenderItem(e){this.m_isFrameLoadDone=!1;let t=0;for(let n=0;n<e.length;++n)setTimeout(()=>{this.appendItem(e[n]),++t>=e.length&&(this.m_isFrameLoadDone=!0)},16.67*n)}appendItem(e){let t=cc.instantiate(this.pfbPBDepositReceiptItemNode),n=t.getComponent(p.default);n.setData(e),t.x=0,t.y=0-.5*t.height-this.m_data.length*t.height-10*this.m_data.length,this.scvList.content.addChild(t),this.m_data.push(e),this.m_mapOperateSrc.set(e.id,n)}setContentSize(e){let t=e*this.m_itemSize.height+10*(e-1);t<this.scvList.content.parent.height&&(t=this.scvList.content.parent.height),this.scvList.content.height=t}onExtractAmount(e){if(0!==e.statusMsg.status)return void u.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status));let t=this.m_mapOperateSrc.get(e.id);if(!t)return;let n=Number(t.data.amount),o=t.data.expectedIncome;g.default.getInstance().data.amount=Number(g.default.getInstance().data.amount)-n-o,t.setStatus(d.com.bt.game.proto.hall.IncomeBreakdownStatus.EXTRACED),dispatch("CMD_UPDATE_PIGGY_BANK_DATA"),dispatch("EVENT_EXTRACT_SUCCEED")}onCancelStoredAmount(e){if(0!==e.statusMsg.status)return void u.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status));let t=this.m_mapOperateSrc.get(e.id);if(!t)return;u.default.showTip(a.i18n.PIGGY_BANK.CANCEL_SUCCESS);let n=Number(t.data.amount);g.default.getInstance().data.amount=Number(g.default.getInstance().data.amount)-n,g.default.getInstance().data.maxTransferAmount=Number(g.default.getInstance().data.maxTransferAmount)+n,g.default.getInstance().data.confirmAmount=Number(g.default.getInstance().data.confirmAmount)-n,t.setStatus(d.com.bt.game.proto.hall.IncomeBreakdownStatus.CANCELED),dispatch("CMD_UPDATE_PIGGY_BANK_DATA")}onClickClose(){this.playDefaultEffect("close"),this.closeWithAction()}};o([f(cc.ScrollView)],b.prototype,"scvList",void 0),o([f(cc.Sprite)],b.prototype,"imgNoData",void 0),o([f(cc.Prefab)],b.prototype,"pfbPBDepositReceiptItemNode",void 0),o([f(cc.Node)],b.prototype,"imgBase",void 0),b=o([m,l.injectService(c.LobbyService.instance)],b),n.default=b,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./PBDepositReceiptItemNode":"PBDepositReceiptItemNode","./PiggyBankData":"PiggyBankData"}],PBExtractPasswdView:[function(e,t,n){"use strict";cc._RF.push(t,"b1861msIH9JZ4RHTV7kew48","PBExtractPasswdView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("../msgbox/PanelHelp")),h=i(e("./PBPasswdComponent")),{ccclass:u,property:p}=cc._decorator;let g=class extends l.default{constructor(){super(...arguments),this.edbPasswd1=null,this.edbComponent1=null,this.m_data=null}static getPrefabUrl(){return"piggyBank/prefabs/PBExtractPasswdView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg")}start(){}bindingEvents(){this.registerEvent("EVENT_EXTRACT_SUCCEED",this.onExtractSucceed)}show(e){super.show(e),this.init(),this.showWithAction(!0),this.m_data=e[0]}initView(){this.edbPasswd1.string="",this.edbComponent1=this.edbPasswd1.getComponent(h.default)}initData(){this.m_data=null}init(){this.initData(),this.initView()}onClickClose(){this.playDefaultEffect("close"),this.closeWithAction()}onClickConfirm(){if(this.playDefaultEffect(),!this.isPasswordDigit())return void d.default.showTip(a.i18n.PIGGY_BANK.PASSWORD_INCOMPLETE);let e=r.protoPackage.hall.ExtractAmountReq.create({id:this.m_data.id,passwd:this.edbComponent1.string}),t=r.protoPackage.hall.ExtractAmountReq.encode(e).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_EXTRACT_AMOUNT,t)}onExtractSucceed(){this.init(),this.onClickClose()}isPasswordDigit(){return 6===this.edbComponent1.string.length}};o([p(cc.EditBox)],g.prototype,"edbPasswd1",void 0),g=o([u,c.injectService(s.LobbyService.instance)],g),n.default=g,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./PBPasswdComponent":"PBPasswdComponent"}],PBHelpView:[function(e,t,n){"use strict";cc._RF.push(t,"aba70wIzmVGdYvM/r+xFX7f","PBHelpView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=e("../framework/decorator/Decorators"),s=i(e("../framework/ui/UIView")),{ccclass:c,property:l}=cc._decorator;let d=class extends s.default{static getPrefabUrl(){return"piggyBank/prefabs/PBHelpView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg")}start(){}show(){this.showWithAction(!0),super.show()}onClickClose(){this.playDefaultEffect("close"),this.closeWithAction()}};d=o([c,r.injectService(a.LobbyService.instance)],d),n.default=d,cc._RF.pop()},{"../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView"}],PBPasswdComponent:[function(e,t,n){"use strict";cc._RF.push(t,"ccf96oXbshAQL+mOqY8Gh8W","PBPasswdComponent");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=i(e("../msgbox/PanelHelp")),{ccclass:s,property:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.editBox=null,this.m_realContent=""}onLoad(){this.register()}start(){}get string(){return this.m_realContent}register(){this.editBox.node.on("editing-did-began",this.onDidBegan,this),this.editBox.node.on("editing-did-ended",this.onDidEnded,this),this.editBox.node.on("editing-return",this.onDidEnded,this),this.editBox.node.on("text-changed",this.onTextChanged,this)}onDidBegan(e){this.editBox.string=this.m_realContent}onDidEnded(e){if(!(this.m_realContent.length<=0))return new RegExp(/^\d{1,}$/g).test(this.m_realContent)?void(this.editBox.string=this.m_realContent.replace(/./g,()=>"\u25cf")):(this.m_realContent="",this.editBox.string=this.m_realContent,void r.default.showTip(a.i18n.PIGGY_BANK.MUST_6_DIGITS))}onTextChanged(e){this.m_realContent=e.string}};o([c(cc.EditBox)],l.prototype,"editBox",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../msgbox/PanelHelp":"PanelHelp"}],PBSettingPasswdView:[function(e,t,n){"use strict";cc._RF.push(t,"07297ZAMlNHPLrhA+2VvaCP","PBSettingPasswdView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=i(e("../framework/ui/UIView")),u=e("../global/User"),p=i(e("../msgbox/PanelHelp")),g=i(e("./PBPasswdComponent")),m=i(e("./PiggyBankView")),{ccclass:f,property:b}=cc._decorator;let y=class extends h.default{constructor(){super(...arguments),this.edbPasswd1=null,this.edbPasswd2=null,this.edbComponent1=null,this.edbComponent2=null}static getPrefabUrl(){return"piggyBank/prefabs/PBSettingPasswdView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg"),this.initView()}start(){}initView(){this.edbComponent1=this.edbPasswd1.getComponent(g.default),this.edbComponent2=this.edbPasswd2.getComponent(g.default)}bindingEvents(){super.bindingEvents(),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_SETTING_PASSWD),this.onSettingPasswd),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_TOTAL_AMOUNT),this.onTotalAmount)}show(){super.show(),this.showWithAction(!0)}onClickClose(){this.playDefaultEffect("close"),this.closeWithAction()}onClickOK(){if(this.playDefaultEffect(),!this.isPasswordSame())return void p.default.showTip(a.i18n.PIGGY_BANK.INCONSISTENT_PASSWORD);if(!this.isPasswordDigit())return void p.default.showTip(a.i18n.PIGGY_BANK.PASSWORD_INCOMPLETE);let e=s.protoPackage.hall.SettingPasswdReq.create({passwd:this.edbComponent1.string}),t=s.protoPackage.hall.SettingPasswdReq.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_SETTING_PASSWD,t)}onSettingPasswd(e){0===e.statusMsg.status?(u.User.piggyBank=!0,this.close(),this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_TOTAL_AMOUNT,null)):p.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}onTotalAmount(e){0===e.statusMsg.status?r.Manager.uiManager.open({type:m.default,bundle:l.BUNDLE_RESOURCES,args:e}):p.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}isPasswordSame(){return this.edbComponent1.string===this.edbComponent2.string}isPasswordDigit(){return 6===this.edbComponent1.string.length&&6===this.edbComponent2.string.length}};o([b(cc.EditBox)],y.prototype,"edbPasswd1",void 0),o([b(cc.EditBox)],y.prototype,"edbPasswd2",void 0),y=o([f,d.injectService(c.LobbyService.instance)],y),n.default=y,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../msgbox/PanelHelp":"PanelHelp","./PBPasswdComponent":"PBPasswdComponent","./PiggyBankView":"PiggyBankView"}],PBTransferInView:[function(e,t,n){"use strict";cc._RF.push(t,"7388blYlk9OQpSFiDLQ4HSj","PBTransferInView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=e("../framework/decorator/Decorators"),s=i(e("../framework/ui/UIView")),c=i(e("./PiggyBankData")),l=e("../global/User"),d=e("../global/UtilMgr"),h=i(e("../msgbox/PanelHelp")),u=e("../common/language/LanguageImpl"),p=e("../common/net/CommonService"),g=e("../common/manager/Manager"),m=i(e("../framework/extentions/Operation")),{ccclass:f,property:b}=cc._decorator;let y=class extends s.default{constructor(){super(...arguments),this.labDepositAmount=null,this.labPiggyBank=null,this.labMaximumAmountValue=null,this.edbTransferIn=null,this.labMinimumInputAmountValue=null,this.labProfitValue=null,this.all=null,this.m_transferInAmount=0,this.m_legalAmount=""}static getPrefabUrl(){return"piggyBank/prefabs/PBTransferInView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg")}start(){this.all.language=u.i18n.PIGGY_BANK.ALL,this.content.getChildByName("labMaximumAmount").getComponent(cc.Label).language=u.i18n.PIGGY_BANK.MAXIMUN_TRANSFER_AMIUNT;let e=this.content.getChildByName("imgBase");e.getChildByName("labTransferIn").getComponent(cc.Label).language=u.i18n.PIGGY_BANK.TEANSFER_IN,e.getChildByName("labMinimumInputAmount").getComponent(cc.Label).language=u.i18n.PIGGY_BANK.MINIMUM_SIGLE,e.getChildByName("labProfit").getComponent(cc.Label).language=u.i18n.PIGGY_BANK.PROFIT}bindingEvents(){super.bindingEvents(),this.registerEvent(r.makeKey(p.serverType.Lobby,p.protoPackage.hall.HallCmd.CMD_STORED_AMOUNT),this.onStoredAmount)}show(){super.show(),this.showWithAction(!0),this.initView()}onClickClose(){this.playDefaultEffect("close"),dispatch("CMD_UPDATE_PIGGY_BANK_DATA"),this.closeWithAction()}onClickConfirm(){this.playDefaultEffect();let e=this.edbTransferIn.string,t=Number(e),n=Number(this.labProfitValue);if(e.length<=0)return void h.default.showTip(u.i18n.PIGGY_BANK.DEPOSIT_FAILURE);if(0===t||n<=0)return void h.default.showTip(u.i18n.PIGGY_BANK.DEPOSIT_FAILURE);if(t>Number(c.default.getInstance().data.maxTransferAmount)/1e4)return void h.default.showTip(u.i18n.PIGGY_BANK.DEPOSIT_FAILURE);t>l.User._gold/1e4&&(t=Math.floor(t)),this.m_transferInAmount=t;let o=p.protoPackage.hall.StoredAmountReq.create({amount:1e4*t}),i=p.protoPackage.hall.StoredAmountReq.encode(o).finish();this.service.sendMsg(p.serverType.Lobby,p.protoPackage.hall.HallCmd.CMD_STORED_AMOUNT,i)}onClickAll(){this.playDefaultEffect();let e=Math.floor(Math.min(Number(c.default.getInstance().data.maxTransferAmount),l.User._gold)/1e4);this.setInputTransferInAmount(e)}onDidBegan(e){}onDidEnded(e){let t=Math.floor(Math.min(Number(c.default.getInstance().data.maxTransferAmount),l.User._gold)/1e4),n=e.string,o=Number(n);isNaN(o)?this.setInputTransferInAmount():o>t?this.setInputTransferInAmount(t):(o<=0&&(o=null),this.setInputTransferInAmount(o))}onDidChanged(e){if(e.length<=0)return;if(!new RegExp(/^\d{1,}$/g).test(e))return void(this.edbTransferIn.string=this.m_legalAmount);this.m_legalAmount=e;let t=Number(e);isNaN(t)||this.setInputTransferInAmount(t)}onStoredAmount(e){0===e.statusMsg.status?(c.default.getInstance().data.amount=Number(c.default.getInstance().data.amount)+1e4*this.m_transferInAmount,c.default.getInstance().data.maxTransferAmount=Number(c.default.getInstance().data.maxTransferAmount)-1e4*this.m_transferInAmount,c.default.getInstance().data.confirmAmount=Number(c.default.getInstance().data.confirmAmount)+1e4*this.m_transferInAmount,h.default.showTip(u.i18n.PIGGY_BANK.DEPOSITED_SUCCESSFULLY),this.initView()):h.default.showTip(g.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}setInputTransferInAmount(e){this.edbTransferIn.string=null==e?"":e.toString();let t=this.getMinInput(this.edbTransferIn.string),n=Number(c.default.getInstance().data.maxTransferAmount)/1e4,o=l.User._gold/1e4,i=Math.floor(Math.min(n,o));this.labMinimumInputAmountValue.string=d.UtilMgr.changeMoney(1e4*t,!1);let a="";a=n<t?u.i18n.PIGGY_BANK.INSUFFICIENT_MAXIMUM:o<t?u.i18n.PIGGY_BANK.INSUFFICIENT_DEPOSIT_AMOUNT:u.i18n.PIGGY_BANK.PLEASE_ENTER+`${t} - ${i}`,this.edbTransferIn.placeholder=a;let r=this.getProfit(e),s=r.toString();0!==r&&(s=d.UtilMgr.changeMoney(1e4*r,!0)),this.labProfitValue.string=s}initView(){let e=c.default.getInstance().data;this.labDepositAmount.string=l.User.isRechargedPlayer?d.UtilMgr.changeMoney(l.User._gold):"0",this.labPiggyBank.string=d.UtilMgr.changeMoney(e.amount);let t=d.UtilMgr.changeMoney(e.maxTransferAmount);-1!=t.indexOf(".")&&(t=t.substring(0,t.indexOf("."))),this.labMaximumAmountValue.string=t,this.setInputTransferInAmount()}getMinInput(e=""){let t=0,n=c.default.getInstance().data.rate/1e4,o=0;if(e.length>0){let n=Number(e);isNaN(n)||(t=n)}return n>0&&(o=Math.ceil(.01/n)),o}getProfit(e){null==e?e=0:isNaN(e)&&(e=0);let t=0,n=m.default.div(c.default.getInstance().data.rate,1e4);return n>0&&(t=d.UtilMgr.toFixed(m.default.mul(e,n),2)),t}};o([b(cc.Label)],y.prototype,"labDepositAmount",void 0),o([b(cc.Label)],y.prototype,"labPiggyBank",void 0),o([b(cc.Label)],y.prototype,"labMaximumAmountValue",void 0),o([b(cc.EditBox)],y.prototype,"edbTransferIn",void 0),o([b(cc.Label)],y.prototype,"labMinimumInputAmountValue",void 0),o([b(cc.Label)],y.prototype,"labProfitValue",void 0),o([b(cc.Label)],y.prototype,"all",void 0),y=o([f,r.injectService(a.LobbyService.instance)],y),n.default=y,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/extentions/Operation":"Operation","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./PiggyBankData":"PiggyBankData"}],PanelHelpSwitch:[function(e,t,n){"use strict";cc._RF.push(t,"5abb7LQ4bxNvrfGFVotYrd6","PanelHelpSwitch");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PanelHelpSwitch=void 0;const i=o(e("./PanelHelp")),a=e("./WebPopUpToolTip"),r=e("./NativePopUpToolTip");n.PanelHelpSwitch=new class{constructor(){this.default_ShowTip=null,this.default_showDialog=null,this.default_showMsgBox=null,this.default_ShowLoading=null,this.default_hideLoading=null,this.default_showDisconnectWait=null,this.default_hideDisconnectWait=null,this.platform_tipTool=null,this.default_ShowTip=i.default.showTip.bind(i.default),this.default_showDialog=i.default.showDialog.bind(i.default),this.default_showMsgBox=i.default.showMsgBox.bind(i.default),this.default_ShowLoading=i.default.showLoading.bind(i.default),this.default_hideLoading=i.default.hideLoading.bind(i.default),this.default_showDisconnectWait=i.default.showDisconnectWait.bind(i.default),this.default_hideDisconnectWait=i.default.hideDisconnectWait.bind(i.default),this.platform_tipTool=cc.sys.isBrowser?a.WebPopUpTipTool:r.NativePopUpToolTip}init(e){this.platform_tipTool.init(e)}switchByPlatform(){cc.sys.isBrowser||(i.default.showTip=this.platform_tipTool.showTip.bind(this.platform_tipTool),i.default.showMsgBox=this.platform_tipTool.showMsgBox.bind(this.platform_tipTool),i.default.showDialog=this.platform_tipTool.showDialog.bind(this.platform_tipTool),i.default.showLoading=this.platform_tipTool.showLoading.bind(this.platform_tipTool),i.default.hideLoading=this.platform_tipTool.hideLoading.bind(this.platform_tipTool),i.default.showDisconnectWait=this.platform_tipTool.showDisconnectWait.bind(this.platform_tipTool),i.default.hideDisconnectWait=this.platform_tipTool.hideDisconnectWait.bind(this.platform_tipTool))}receiveDefault(){cc.sys.isBrowser||(i.default.showTip=this.default_ShowTip,i.default.showMsgBox=this.default_showMsgBox,i.default.showDialog=this.default_showDialog,i.default.showLoading=this.default_ShowLoading,i.default.hideLoading=this.default_hideLoading,i.default.showDisconnectWait=this.default_showDisconnectWait,i.default.hideDisconnectWait=this.default_hideDisconnectWait)}},cc._RF.pop()},{"./NativePopUpToolTip":"NativePopUpToolTip","./PanelHelp":"PanelHelp","./WebPopUpToolTip":"WebPopUpToolTip"}],PanelHelp:[function(e,t,n){"use strict";cc._RF.push(t,"1bbffImQ9hMeaZDukOk8eKN","PanelHelp");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=o(e("../agentPot/AgentPot")),a=e("../common/config/Config"),r=e("../common/manager/Manager"),s=e("../framework/base/Defines"),c=o(e("../loading/Loading")),l=o(e("../wait/DisconnectWait")),d=o(e("./ConfirmBox")),h=o(e("./LabelTip"));n.default=class{static showTip(e,t=.5){this.hideLoading(),r.Manager.uiManager.open({type:h.default,bundle:s.BUNDLE_RESOURCES,zIndex:a.ViewZOrder.Toast,args:[e,t]})}static showErrTip(e){r.Manager.uiManager.open({type:h.default,bundle:s.BUNDLE_RESOURCES,zIndex:a.ViewZOrder.Toast,args:[`i18n.ErrCode.${e}`]})}static showMsgBox(e,t,n,o,i=!0,c=!0){this.hideLoading();let l={title:e,content:t,next:n,confirm_label:o,isSingle:!0,showclose:i,autoclose:c,showicon:!1};r.Manager.uiManager.open({type:d.default,bundle:s.BUNDLE_RESOURCES,zIndex:a.ViewZOrder.Alert,args:[l]})}static showMsgBoxIcon(e,t,n,o,i=!0,c=!0){this.hideLoading();let l={title:e,content:t,next:n,confirm_label:o,isSingle:!0,showclose:i,autoclose:c,showicon:!0};r.Manager.uiManager.open({type:d.default,bundle:s.BUNDLE_RESOURCES,zIndex:a.ViewZOrder.Alert,args:[l]})}static showDialog(e,t,n,o,i,c,l=!0,h=!0){this.hideLoading();let u={title:e,content:t,next:n,cancel:o,cancel_label:i,confirm_label:c,isSingle:!1,showclose:l,autoclose:h,showicon:!1};r.Manager.uiManager.open({type:d.default,bundle:s.BUNDLE_RESOURCES,zIndex:a.ViewZOrder.Alert,args:[u]})}static showLoading(e,t=!1,n=18e4){return r.Manager.uiManager.open({type:c.default,bundle:s.BUNDLE_RESOURCES,zIndex:a.ViewZOrder.Loading,args:[e,n,t]})}static hideLoading(){r.Manager.uiManager.close("Loading")}static showDisconnectWait(e){let t=r.Manager.makeLanguage("WAIT.DISCONNECT");r.Manager.uiManager.open({type:l.default,bundle:s.BUNDLE_RESOURCES,zIndex:a.ViewZOrder.Loading,args:[t,e]})}static hideDisconnectWait(){r.Manager.uiManager.close(l.default)}static showRollNotice(e,t){e&&cc.assetManager.getBundle(s.BUNDLE_RESOURCES).load("common/prefabs/RollNotice",cc.Prefab,function(t,n){cc.instantiate(n).parent=e})}static showAgentPot(e,t){e&&cc.assetManager.getBundle(s.BUNDLE_RESOURCES).load("common/prefabs/AgentPot",cc.Prefab,function(n,o){let a=cc.instantiate(o);a.parent=e,a.getComponent(i.default).setData(t)})}},cc._RF.pop()},{"../agentPot/AgentPot":"AgentPot","../common/config/Config":"Config","../common/manager/Manager":"Manager","../framework/base/Defines":"Defines","../loading/Loading":"Loading","../wait/DisconnectWait":"DisconnectWait","./ConfirmBox":"ConfirmBox","./LabelTip":"LabelTip"}],PhoneVerification:[function(e,t,n){"use strict";cc._RF.push(t,"5b62be1xVVMz76HML7dzjeM","PhoneVerification");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=e("../framework/decorator/Decorators"),s=i(e("../framework/ui/UIView")),{ccclass:c,property:l}=cc._decorator;let d=class extends s.default{constructor(){super(...arguments),this.showPhoneNode=null,this.editPhoneNode=null}static getPrefabUrl(){return"wallet/prefabes/PhoneVerification"}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents()}start(){}onClick(e,t){switch(e){case"btnClose":this.close();break;case"btnReset":break;case"btnConfirmation":this.confirmationHandler()}}confirmationHandler(){this.close()}onDestroy(){super.onDestroy()}};o([l(cc.Node)],d.prototype,"showPhoneNode",void 0),o([l(cc.Node)],d.prototype,"editPhoneNode",void 0),d=o([c,r.injectService(a.LobbyService.instance)],d),n.default=d,cc._RF.pop()},{"../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView"}],PiggyBankData:[function(e,t,n){"use strict";cc._RF.push(t,"682e8eAYYxCMoMJeAOpk7he","PiggyBankData"),Object.defineProperty(n,"__esModule",{value:!0});class o{constructor(){this.data=null}static getInstance(){return null===this.instance&&(this.instance=new o),this.instance}}n.default=o,o.instance=null,cc._RF.pop()},{}],PiggyBankView:[function(e,t,n){"use strict";cc._RF.push(t,"3c58cPIE2FKm5IsS+uR/dZN","PiggyBankView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/Manager"),r=e("../common/net/LobbyService"),s=e("../framework/base/Defines"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=e("../global/UtilMgr"),h=i(e("./PBChangePasswdView")),u=i(e("./PBDepositReceiptView")),p=i(e("./PBHelpView")),g=i(e("./PBTransferInView")),m=i(e("./PiggyBankData")),f=e("../common/language/LanguageImpl"),b=e("../global/User"),y=i(e("../msgbox/PanelHelp")),{ccclass:_,property:v}=cc._decorator;let w=class extends l.default{constructor(){super(...arguments),this.labDepositAmountValue=null,this.labTotalRevenueValue=null,this.labRateValue=null,this.labConfirmedAmountValue=null,this.labAyerIncomeValue=null,this.imgGridding=null,this.m_data=null}static getPrefabUrl(){return"piggyBank/prefabs/PiggyBankView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("imgBg")}start(){this.imgGridding&&(cc.find("labTotalRevenue",this.imgGridding).getComponent(cc.Label).language=f.i18n.PIGGY_BANK.TOTAL_INCOME,cc.find("labRate",this.imgGridding).getComponent(cc.Label).language=f.i18n.PIGGY_BANK.RATE,cc.find("labConfirmedAmount",this.imgGridding).getComponent(cc.Label).language=f.i18n.PIGGY_BANK.COMFIRMED_AMOUNT,cc.find("labAyerIncome",this.imgGridding).getComponent(cc.Label).language=f.i18n.PIGGY_BANK.YESTERDAY_INCOME)}bindingEvents(){super.bindingEvents(),this.registerEvent("CMD_UPDATE_PIGGY_BANK_DATA",this.onUpdatePiggyBank)}show(e){super.show(e),this.showWithAction(!0),m.default.getInstance().data=e,this.m_data=e,this.updateView()}onUpdatePiggyBank(){this.m_data=m.default.getInstance().data,this.updateView()}updateView(){this.labDepositAmountValue.string=d.UtilMgr.changeMoney(this.m_data.amount),this.labTotalRevenueValue.string=d.UtilMgr.changeMoney(this.m_data.income),this.labRateValue.string=`${this.m_data.rate/100}%`,this.labConfirmedAmountValue.string=d.UtilMgr.changeMoney(this.m_data.confirmAmount),this.labAyerIncomeValue.string=d.UtilMgr.changeMoney(this.m_data.ayerIncome)}onClickClose(){this.playDefaultEffect("close"),this.closeWithAction()}onClickHelp(){this.playDefaultEffect(),a.Manager.uiManager.open({type:p.default,bundle:s.BUNDLE_RESOURCES})}onClickTransferIn(){if(this.playDefaultEffect(),!b.User.isRechargedPlayer)return y.default.showTip(f.i18n.EXPERIENCE_FIELD.hintRecharge);a.Manager.uiManager.open({type:g.default,bundle:s.BUNDLE_RESOURCES})}onClickChangePasswd(){this.playDefaultEffect(),a.Manager.uiManager.open({type:h.default,bundle:s.BUNDLE_RESOURCES})}onClickDepositReceipt(){this.playDefaultEffect(),a.Manager.uiManager.open({type:u.default,bundle:s.BUNDLE_RESOURCES})}};o([v(cc.Label)],w.prototype,"labDepositAmountValue",void 0),o([v(cc.Label)],w.prototype,"labTotalRevenueValue",void 0),o([v(cc.Label)],w.prototype,"labRateValue",void 0),o([v(cc.Label)],w.prototype,"labConfirmedAmountValue",void 0),o([v(cc.Label)],w.prototype,"labAyerIncomeValue",void 0),o([v(cc.Node)],w.prototype,"imgGridding",void 0),w=o([_,c.injectService(r.LobbyService.instance)],w),n.default=w,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./PBChangePasswdView":"PBChangePasswdView","./PBDepositReceiptView":"PBDepositReceiptView","./PBHelpView":"PBHelpView","./PBTransferInView":"PBTransferInView","./PiggyBankData":"PiggyBankData"}],PrefabLoad:[function(e,t,n){"use strict";cc._RF.push(t,"45a35G7vE1NBqqI1MLq5Svz","PrefabLoad");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.PrefabList=[]}onLoad(){}start(){}};o([a(cc.Prefab)],r.prototype,"PrefabList",void 0),r=o([i],r),n.default=r,cc._RF.pop()},{}],PrizeItem:[function(e,t,n){"use strict";cc._RF.push(t,"9d61eXJyYJNCad3KM/JPw9v","PrizeItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../framework/base/Defines"),{ccclass:a,property:r}=cc._decorator;let s=class extends cc.Component{constructor(){super(...arguments),this.image=null,this.count=null,this.nickName=null,this.color=["#6c038e","#2c0d83","#2c0d83","#074f77","#005d73","#465e02","#886200","#722102","#600309","#8e104b"]}onLoad(){}updateItem(e){this.node.angle=36*(e.tableId-1),this.image.loadRemoteImage({url:e.picUrl,view:this,defaultSpriteFrame:"turntable/image/10",bundle:i.BUNDLE_RESOURCES}),this.count.string=e.rewardNum.toString(),this.nickName.string=e.goodsName,this.nickName.node.getComponent(cc.LabelOutline).color=(new cc.Color).fromHEX(this.color[e.tableId-1])}};o([r(cc.Sprite)],s.prototype,"image",void 0),o([r(cc.Label)],s.prototype,"count",void 0),o([r(cc.Label)],s.prototype,"nickName",void 0),s=o([a],s),n.default=s,cc._RF.pop()},{"../framework/base/Defines":"Defines"}],PrizeRecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"b8fb89I9/VLObwP7i1wLuty","PrizeRecordItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=e("../common/manager/Manager"),s=e("../framework/base/Defines"),c=i(e("./AddressView")),{ccclass:l,property:d}=cc._decorator;let h=class extends a.default{constructor(){super(...arguments),this.time=null,this.prize=null,this.status=null,this.btn_address=null}updateItem(e,t){this.time.string=new Date(e.time).format("yy/MM/dd"),this.prize.string=e.prize;let n="";switch(this.btn_address.active=!1,this.turntableRecord=e,e.status){case 0:n="-";break;case 1:n="Not Receive",this.btn_address.active=!0;break;case 2:n="Waiting to Receive";break;case 3:n="Received"}this.status.string=n}onClick(e){let t=e.target.name;switch(r.Manager.globalAudio.playEffect("common/audio/click",s.BUNDLE_RESOURCES),t){case"btn_address":r.Manager.uiManager.open({type:c.default,bundle:s.BUNDLE_RESOURCES,args:[this.turntableRecord.id]});break;default:G.Logger.error("no find button name -> %s",name)}}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([d(cc.Label)],h.prototype,"time",void 0),o([d(cc.Label)],h.prototype,"prize",void 0),o([d(cc.Label)],h.prototype,"status",void 0),o([d(cc.Node)],h.prototype,"btn_address",void 0),h=o([l],h),n.default=h,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../common/manager/Manager":"Manager","../framework/base/Defines":"Defines","./AddressView":"AddressView"}],PromotionInterface:[function(e,t,n){"use strict";cc._RF.push(t,"bd1c27I4mhJ86mxWpPls3F/","PromotionInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],PromotionRankItem:[function(e,t,n){"use strict";cc._RF.push(t,"c688e1v7ppLPKbWtEtymmhv","PromotionRankItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/utils/NumberUtils")),r=i(e("../framework/ui/UIView")),s=e("../global/UtilMgr"),{ccclass:c,property:l}=cc._decorator;let d=class extends r.default{constructor(){super(...arguments),this.imgRank=null,this.labRank=null,this.imgAvatar=null,this.labNick=null,this.labIncome=null,this.spfRankList=[],this._data=null}onLoad(){this.initData(),this.initUI()}start(){}initData(){this._data=null}initUI(){this.imgRank.node.active=!1,this.labRank.string="",this.imgAvatar.spriteFrame=null,this.labNick.string="",this.labIncome.string=""}refreshRank(){this._data.rank<=3?(this.labRank.string="",this.imgRank.spriteFrame=this.spfRankList[this._data.rank-1],this.imgRank.node.active=!0):(this.imgRank.node.active=!1,this.labRank.string=this._data.rank.toString())}refreshPlayer(){s.UtilMgr.loadHeadImg(this.imgAvatar,this._data.data.userInfo.HeaderUrl,this._data.data.userInfo.UnitId,this),this.labNick.string=this._data.data.userInfo.Nick}refreshIncome(){this.labIncome.string=a.default.converToC(this._data.data.incomeGold)}onShow(e){this._data=e,this.initUI(),this.refreshRank(),this.refreshPlayer(),this.refreshIncome()}reset(){this.initData(),this.initUI()}};o([l(cc.Sprite)],d.prototype,"imgRank",void 0),o([l(cc.Label)],d.prototype,"labRank",void 0),o([l(cc.Sprite)],d.prototype,"imgAvatar",void 0),o([l(cc.Label)],d.prototype,"labNick",void 0),o([l(cc.Label)],d.prototype,"labIncome",void 0),o([l([cc.SpriteFrame])],d.prototype,"spfRankList",void 0),d=o([c],d),n.default=d,cc._RF.pop()},{"../common/utils/NumberUtils":"NumberUtils","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],PromotionRankListView:[function(e,t,n){"use strict";cc._RF.push(t,"cc19d5BAHxPMo9Aars/hyCt","PromotionRankListView");var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const l=r(e("../../script/common/define/ComponentDefine")),d=c(e("../common/utils/TypeUtils")),{ccclass:h,property:u}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.content=null,this.itemPrefab=null,this.mode=l.ListViewLoadMode.NONE,this.direction=l.DirectionType.VERTICAL,this.spacingY=0,this.top=0,this.bottom=0,this.spacingX=0,this.left=0,this.right=0,this.clickItemEventHandler=new cc.Component.EventHandler,this._isLoaded=!1,this._itemDataList=[],this._itemNodePool=new cc.NodePool,this._lastPos=cc.v2(0,0),this._renderItemStartIndex=null,this._renderItemEndIndex=null,this._isRendering=!1,this._itemCacheDataList=[],this._renderingOperateCount=0,this._cacheRenderItemStartIndex=null}changeDirection(e){}onLoad(){this.register(),this.initData(),this.initView()}start(){}set(e){d.default.isNull(e)||d.default.isArray(e)&&e.length<=0||(this._isRendering?(this.setData(this._itemCacheDataList,e),this._cacheRenderItemStartIndex=0,++this._renderingOperateCount):(this.setData(this._itemDataList,e),this._renderItemStartIndex=0,this._renderItemEndIndex=this._itemDataList.length,this.updateListItem()))}setData(e,t){e.length=0,this.insertData(e,t,0)}insert(e,t){if(d.default.isNull(e))return;if(d.default.isArray(e)&&e.length<=0)return;let n=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),n=this._itemCacheDataList):n=this._itemDataList,d.default.isNull(t)?t=n.length:t<0?t=0:t>n.length&&(t=n.length),this._isRendering?(this.insertData(n,e,t),d.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=t:this._cacheRenderItemStartIndex>t&&(this._cacheRenderItemStartIndex=t),++this._renderingOperateCount):(this.insertData(n,e,t),this._renderItemStartIndex=t,this._renderItemEndIndex=n.length,this.updateListItem())}insertData(e,t,n){if(Array.isArray(t)){let o=[n,0];o=o.concat(t),e.splice.apply(e,o)}else e.splice(n,0,t)}remove(e,t){if(this._itemDataList.length<=0)return;let n=null;this._isRendering?(this._renderingOperateCount<=0&&(this._itemCacheDataList=[].concat(this._itemDataList)),n=this._itemCacheDataList):n=this._itemDataList,d.default.isNull(e)&&d.default.isNull(t)?(e=0,t=n.length):d.default.isNull(e)?(e=n.length-t)<0&&(e=0,t=n.length):d.default.isNull(t)&&(e<0?e=0:e>=n.length&&(e=n.length-1),t=n.length-e),this._isRendering?(n.splice(e,t),d.default.isNull(this._cacheRenderItemStartIndex)?this._cacheRenderItemStartIndex=e:this._cacheRenderItemStartIndex>e&&(this._cacheRenderItemStartIndex=e),++this._renderingOperateCount):(n.splice(e,t),this._renderItemStartIndex=e,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem())}clear(){this.remove(0)}getChildNode(e,t){return this.content.children.slice(e,t)}updateListItem(){if(this._isLoaded)if(this.setRendering(!0),this.content.setContentSize(this.getInnerEstimateSize()),this.mode===l.ListViewLoadMode.ENDLESS);else{let e=[],t=!1;for(let n=this._renderItemStartIndex;n<this._renderItemEndIndex;++n){let o=this.content.children[n],i=this._itemDataList[n];if(!d.default.isNull(o)&&this._itemDataList.hasOwnProperty(n)){this.clickItemEventHandler&&(o.getComponent(cc.Button).node.off("click"),o.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,o,i)));let e=o.getComponent(o.name);e.onShow&&e.onShow(i)}else{if(d.default.isNull(o)&&!this._itemDataList.hasOwnProperty(n))continue;if(this._itemDataList.hasOwnProperty(n)){if(d.default.isNull(o)){let e=this._itemDataList.slice(n,this._itemDataList.length);if(this.mode===l.ListViewLoadMode.FRAME){let o=this._itemNodePool.size();if(o>0){let i=n+o;e=this._itemDataList.slice(n,i),this.directLoadItem(e),i<this._renderItemEndIndex&&(e=this._itemDataList.slice(i,this._renderItemEndIndex),this.frameLoadItem(e),t=!0)}else this.frameLoadItem(e),t=!0}else this.mode===l.ListViewLoadMode.NONE&&this.directLoadItem(e);break}}else e.push(n)}}for(let n=e.length-1;n>=0;--n){let t=this.content.children[e[n]];this.putNode(t)}t||this.setRendering(!1)}}updateCacheDataList(){this.setData(this._itemDataList,this._itemCacheDataList),this._itemCacheDataList.length=0,this._renderItemStartIndex=this._cacheRenderItemStartIndex,this._renderItemEndIndex=Math.max(this._itemDataList.length,this.content.childrenCount),this.updateListItem()}initData(){this._isLoaded=!0}register(){}unregister(){}initView(){let e=0;switch(this.direction){case l.DirectionType.HORIZONTAL:.5===this.content.anchorX&&(this.content.anchorX=0,this.content.x=this.content.x-.5*this.content.width),this.content.anchorY=.5,e=Math.ceil((this.node.width-this.spacingX)/(this.itemPrefab.data.width+this.spacingX))+2;break;case l.DirectionType.VERTICAL:.5===this.content.anchorY&&(this.content.anchorY=1,this.content.y=this.content.y+.5*this.content.height),this.content.anchorX=.5,e=Math.ceil((this.node.height-this.spacingY)/(this.itemPrefab.data.height+this.spacingY))+2}if(this.mode===l.ListViewLoadMode.ENDLESS)for(let t=0;t<e;++t)this.putNode(this.getNode());this._itemDataList.length>0&&this.updateListItem()}setRendering(e){this._isRendering=e,e||this.onRendered()}getNode(){if(!this.itemPrefab)return G.Logger.error("\u8bf7\u5728 ListView \u6dfb\u52a0\u9884\u5236\u9879 prefab"),null;let e=this._itemNodePool.get();if(!e&&(e=cc.instantiate(this.itemPrefab),this.clickItemEventHandler)){let t=e.getComponent(cc.Button);t||(t=e.addComponent(cc.Button))}return e}putNode(e){if(!e||e.name!==this.itemPrefab.data.name)return G.Logger.warn(`\u8bf7\u4e0d\u8981\u653e\u5165\u4e0e ${e.name} \u4e0d\u76f8\u5173\u7684\u8282\u70b9`),null;this.clickItemEventHandler&&e.getComponent(cc.Button).node.off("click"),e.removeFromParent(),e.getComponent(e.name).reset(),this.scheduleOnce(()=>{this._itemNodePool.put(e)})}initItemPos(e){let t=this.content.childrenCount-1;this.direction===l.DirectionType.HORIZONTAL?e.setPosition(this.left+.5*this.itemPrefab.data.width+t*this.itemPrefab.data.width+t*this.spacingX,0):this.direction===l.DirectionType.VERTICAL&&e.setPosition(0,0-this.top-.5*this.itemPrefab.data.height-t*this.itemPrefab.data.height-t*this.spacingY)}makeItem(e){let t=this.getNode();this.content.addChild(t);let n=t.getComponent(t.name);n&&!d.default.isNull(e)&&(this.clickItemEventHandler&&t.getComponent(cc.Button).node.on("click",this.onClickItem.bind(this,t,e)),n.onShow&&n.onShow(e)),this.initItemPos(t)}*makeGeneratorItem(e){for(let t=0;t<e.length;++t)yield this.makeItem(e[t])}execGeneratorItem(e,t){return s(this,void 0,void 0,function*(){return new Promise(n=>{let o=()=>{let i=Date.now();for(let a=e.next();;a=e.next()){if(null==a||a.done){n();break}if(Date.now()-i>t){this.scheduleOnce(()=>{o()});break}}};o()})})}frameLoadItem(e){return s(this,void 0,void 0,function*(){yield this.execGeneratorItem(this.makeGeneratorItem(e),8),this.setRendering(!1)})}directLoadItem(e){for(let t=0;t<e.length;++t)this.makeItem(e[t])}getPadding(){let e=0;return this.direction===l.DirectionType.HORIZONTAL?e+=this.left+this.right:this.direction===l.DirectionType.VERTICAL&&(e+=this.top+this.bottom),e}getSpacing(){let e=0;return this.direction===l.DirectionType.HORIZONTAL?e=this.spacingX:this.direction===l.DirectionType.VERTICAL&&(e=this.spacingY),e}getInnerEstimateSize(){let e=this.content.parent.getContentSize();return this.direction===l.DirectionType.HORIZONTAL?(e.width=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.width,e.width<this.content.parent.width&&(e.width=this.content.parent.width)):this.direction===l.DirectionType.VERTICAL&&(e.height=this.getPadding()+this.getSpacing()*(this._itemDataList.length-1)+this._itemDataList.length*this.itemPrefab.data.height,e.height<this.content.parent.height&&(e.height=this.content.parent.height)),e}onRendered(){this._renderingOperateCount=0,this._itemCacheDataList.length<=0?this._cacheRenderItemStartIndex=null:this.updateCacheDataList()}update(e){}onClickItem(e,t){this.clickItemEventHandler.emit([e,t])}onDestroy(){this.unregister()}};a([u(cc.Node)],p.prototype,"content",void 0),a([u({type:cc.Prefab,tooltip:"\u5217\u8868\u9879\u9884\u5236"})],p.prototype,"itemPrefab",void 0),a([u({type:cc.Enum(l.ListViewLoadMode),tooltip:"\u52a0\u8f7d\u6a21\u5f0f\nNONE \u76f4\u63a5\u52a0\u8f7d\nFRAME \u5206\u5e27\u52a0\u8f7d\nENDLESS \u65e0\u9650\u52a0\u8f7d"})],p.prototype,"mode",void 0),a([u({type:cc.Enum(l.DirectionType),tooltip:"\u6ed1\u52a8\u65b9\u5411\nHORIZONTAL \u6c34\u5e73\nVERTICAL \u5782\u76f4"})],p.prototype,"direction",void 0),a([u({type:cc.Float,tooltip:"\u5782\u76f4\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.VERTICAL}})],p.prototype,"spacingY",void 0),a([u({type:cc.Float,tooltip:"\u9876\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.VERTICAL}})],p.prototype,"top",void 0),a([u({type:cc.Float,tooltip:"\u5e95\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.VERTICAL}})],p.prototype,"bottom",void 0),a([u({type:cc.Float,tooltip:"\u6c34\u5e73\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"spacingX",void 0),a([u({type:cc.Float,tooltip:"\u5de6\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"left",void 0),a([u({type:cc.Float,tooltip:"\u53f3\u95f4\u8ddd",visible:function(){return this.direction===l.DirectionType.HORIZONTAL}})],p.prototype,"right",void 0),a([u({type:cc.Component.EventHandler,tooltip:"\u70b9\u51fb\u5217\u8868\u9879\u56de\u8c03",visible:!0})],p.prototype,"clickItemEventHandler",void 0),p=a([h],p),n.default=p,cc._RF.pop()},{"../../script/common/define/ComponentDefine":"ComponentDefine","../common/utils/TypeUtils":"TypeUtils"}],PromotionUnView:[function(e,t,n){"use strict";cc._RF.push(t,"610614xUANPO5em0TyoTgKR","PromotionUnView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/item/TitleItemPage")),r=e("../common/manager/Manager"),s=e("../common/net/LobbyService"),c=i(e("../data/UserData")),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=e("../framework/event/EventApi"),u=e("../framework/external/protoc"),p=i(e("../framework/ui/UIView")),g=i(e("../login/LoginNewView")),m=i(e("./PromotionRankListView")),f=i(e("./PromotionView")),{ccclass:b,property:y}=cc._decorator;let _=class extends p.default{constructor(){super(...arguments),this.labCollaborateTitle=null,this.labCollaborateContent=null,this.labGetInvitationContent=null,this.labGotAwardTitle=null,this.labLevelContent=null,this.labLevelTitle0=null,this.labLevelContent0=null,this.labLevelTitle1=null,this.labLevelContent1=null,this.labLevelTitle2=null,this.labLevelContent2=null,this.labAwardTitle=null,this.labAwardContent=null,this.labBrokerageTitle=null,this.labBrokerageContent=null,this.labRankTitle=null,this.labLogin0=null,this.labLogin1=null,this.lsvRank=null,this.titleItemPage=null,this._userData=null,this._data=null}static getPrefabUrl(){return"promotion/prefabs/PromotionUnView"}onLoad(){super.onLoad(),this.initData(),this.initUI(),this.C2S_PromotionInfo()}start(){}initData(){this._userData=G.DataMgr.get(c.default)}initUI(){this.labCollaborateTitle.string="",this.labCollaborateContent.string="",this.labGetInvitationContent.string="",this.labGotAwardTitle.string="",this.labLevelContent.string="",this.labLevelTitle0.string="",this.labLevelContent0.string="",this.labLevelTitle1.string="",this.labLevelContent1.string="",this.labLevelTitle2.string="",this.labLevelContent2.string="",this.labAwardTitle.string="",this.labAwardContent.string="",this.labBrokerageTitle.string="",this.labBrokerageContent.string="",this.labRankTitle.string="",this.labLogin0.string="",this.labLogin1.string=""}bindingEvents(){super.bindingEvents(),l.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(h.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("Event_S2C_PromotionInfo",this.onEvent_S2C_PromotionInfo),this.registerEvent("updateUserInfo",this.onUpdateUserInfo)}onLanguageChange(){this.titleItemPage.languagePageName(r.Manager.makeLanguage("Promotion.labPageName")),this.labCollaborateTitle.language=r.Manager.makeLanguage("Promotion.labCollaborateTitle"),this.labCollaborateContent.language=r.Manager.makeLanguage("Promotion.labCollaborateContent"),this.labGetInvitationContent.language=r.Manager.makeLanguage("Promotion.labGetInvitationContent"),this.labGotAwardTitle.language=r.Manager.makeLanguage("Promotion.labGotAwardTitle"),this.labLevelContent.language=r.Manager.makeLanguage("Promotion.labLevelContent"),this.labLevelTitle0.language=r.Manager.makeLanguage("Promotion.labLevelTitle0"),this.labLevelContent0.language=r.Manager.makeLanguage("Promotion.labLevelContent0"),this.labLevelTitle1.language=r.Manager.makeLanguage("Promotion.labLevelTitle1"),this.labLevelContent1.language=r.Manager.makeLanguage("Promotion.labLevelContent1"),this.labLevelTitle2.language=r.Manager.makeLanguage("Promotion.labLevelTitle2"),this.labLevelContent2.language=r.Manager.makeLanguage("Promotion.labLevelContent2"),this.labAwardTitle.language=r.Manager.makeLanguage("Promotion.labAwardTitle"),this.labAwardContent.language=r.Manager.makeLanguage("Promotion.labAwardContent"),this.labBrokerageTitle.language=r.Manager.makeLanguage("Promotion.labBrokerageTitle"),this.labBrokerageContent.language=r.Manager.makeLanguage("Promotion.labBrokerageContent"),this.labLogin0.language=r.Manager.makeLanguage("Promotion.labLogin"),this.labLogin1.language=r.Manager.makeLanguage("Promotion.labLogin"),this.labRankTitle.language=r.Manager.makeLanguage("Promotion.labRankTitle")}show(e){super.show(e),this.onLanguageChange()}refreshRank(){this.lsvRank.set(this.getRankPlayerList())}onClick(e,t,n){switch(e){case"btnLogin":r.Manager.uiManager.open({type:g.default,bundle:l.BUNDLE_RESOURCES});break;case"btnClose":this.close()}}C2S_PromotionInfo(){let e=u.MST.C2S_PromotionInfo.create({serial:r.Manager.netManager.getNewSeqId()}),t=u.MST.C2S_PromotionInfo.encode(e).finish();s.LobbyService.instance.sendMsg(u.MST.C2S_PromotionInfo,u.MST.OuterOpcode_Lobby.C2S_PromotionInfo,t)}onEvent_S2C_PromotionInfo(e){this._data=e,this.refreshRank()}getRankPlayerList(){let e=[];for(let t=0;t<this._data.promotionRankInfo.length;++t){let n={rank:t+1,data:this._data.promotionRankInfo[t]};e[t]=n}return e}onUpdateUserInfo(){r.Manager.uiManager.open({type:f.default,bundle:l.BUNDLE_RESOURCES}),this.close()}};o([y(cc.Label)],_.prototype,"labCollaborateTitle",void 0),o([y(cc.Label)],_.prototype,"labCollaborateContent",void 0),o([y(cc.Label)],_.prototype,"labGetInvitationContent",void 0),o([y(cc.Label)],_.prototype,"labGotAwardTitle",void 0),o([y(cc.Label)],_.prototype,"labLevelContent",void 0),o([y(cc.Label)],_.prototype,"labLevelTitle0",void 0),o([y(cc.Label)],_.prototype,"labLevelContent0",void 0),o([y(cc.Label)],_.prototype,"labLevelTitle1",void 0),o([y(cc.Label)],_.prototype,"labLevelContent1",void 0),o([y(cc.Label)],_.prototype,"labLevelTitle2",void 0),o([y(cc.Label)],_.prototype,"labLevelContent2",void 0),o([y(cc.Label)],_.prototype,"labAwardTitle",void 0),o([y(cc.Label)],_.prototype,"labAwardContent",void 0),o([y(cc.Label)],_.prototype,"labBrokerageTitle",void 0),o([y(cc.Label)],_.prototype,"labBrokerageContent",void 0),o([y(cc.Label)],_.prototype,"labRankTitle",void 0),o([y(cc.Label)],_.prototype,"labLogin0",void 0),o([y(cc.Label)],_.prototype,"labLogin1",void 0),o([y(m.default)],_.prototype,"lsvRank",void 0),o([y(a.default)],_.prototype,"titleItemPage",void 0),_=o([b,d.injectService(s.LobbyService.instance)],_),n.default=_,cc._RF.pop()},{"../common/item/TitleItemPage":"TitleItemPage","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../login/LoginNewView":"LoginNewView","./PromotionRankListView":"PromotionRankListView","./PromotionView":"PromotionView"}],PromotionView:[function(e,t,n){"use strict";cc._RF.push(t,"4678dX8kAdBJYOBMVmEzEyx","PromotionView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/define/CommonDefine"),r=i(e("../common/item/TitleItemPage")),s=e("../common/manager/Manager"),c=e("../common/net/LobbyService"),l=i(e("../common/utils/NumberUtils")),d=i(e("../common/view/IndicatorView")),h=i(e("../data/AppData")),u=i(e("../data/UserData")),p=e("../framework/base/Defines"),g=e("../framework/decorator/Decorators"),m=e("../framework/event/EventApi"),f=i(e("../framework/extentions/DateUtils")),b=e("../framework/external/protoc"),y=i(e("../framework/ui/UIView")),_=e("../global/UtilMgr"),v=i(e("./PromotionRankListView")),{ccclass:w,property:C}=cc._decorator;let R=class extends y.default{constructor(){super(...arguments),this.labLevelTitle=null,this.imgFill=null,this.imgBar=[],this.labInvitationCodeTitle=null,this.labInvitationCodeContent=null,this.labInvitationUrlTitle=null,this.labInvitationUrlContent=null,this.labStatTitle=null,this.labTotalGoldTitle=null,this.labTotalGoldContent=null,this.labWithdrawGoldTitle=null,this.labWithdrawGoldContent=null,this.labYesterdayGoldTitle=null,this.labYesterdayGoldContent=null,this.labYesterdayInvitationTitle=null,this.labYesterdayInvitationContent=null,this.labAllInvitationTitle=null,this.labAllInvitationContent=null,this.labUpdateDate=null,this.labGoldGraphTitle=null,this.nodGoldGraph=null,this.gphIncome=null,this.labInvitationGraphTitle=null,this.nodInvitationGraph=null,this.gphRegister=null,this.gphValid=null,this.labRankTitle=null,this.lsvRank=null,this.titleItemPage=null,this._userData=null,this._appData=null,this._data=null,this._originFillWidth=null,this._originInvitationHeight=null,this._originIncomeHeight=null,this._maxIncomeGold=null,this._maxRegisterCount=null,this._maxValidCount=null}static getPrefabUrl(){return"promotion/prefabs/PromotionView"}onLoad(){super.onLoad(),this.initData(),this.initUI(),this.C2S_PromotionInfo()}start(){}initData(){this._userData=G.DataMgr.get(u.default),this._appData=G.DataMgr.get(h.default),this._originFillWidth=this.imgFill.node.width,this._originInvitationHeight=this.nodInvitationGraph.getChildByName("imgRegisterLine").height,this._originIncomeHeight=this.nodGoldGraph.getChildByName("imgGoldLine").height}initUI(){this.labLevelTitle.string="",this.labInvitationCodeTitle.string="",this.labInvitationCodeContent.string="",this.labInvitationUrlTitle.string="",this.labInvitationUrlContent.string="",this.labStatTitle.string="",this.labTotalGoldTitle.string="",this.labTotalGoldContent.string="",this.labWithdrawGoldTitle.string="",this.labWithdrawGoldContent.string="",this.labYesterdayGoldTitle.string="",this.labYesterdayGoldContent.string="",this.labYesterdayInvitationTitle.string="",this.labYesterdayInvitationContent.string="",this.labAllInvitationTitle.string="",this.labAllInvitationContent.string="",this.labUpdateDate.string="",this.labGoldGraphTitle.string="",this.labInvitationGraphTitle.string="",this.labRankTitle.string="",this.imgFill.node.width=0;for(let e of this.imgBar)e.node.active=!1}bindingEvents(){super.bindingEvents(),p.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(m.EventApi.CHANGE_LANGUAGE,this.onLanguageChange),this.registerEvent("Event_S2C_PromotionInfo",this.onEvent_S2C_PromotionInfo)}onLanguageChange(){this.titleItemPage.languagePageName(s.Manager.makeLanguage("Promotion.labPageName")),this.labLevelTitle.language=s.Manager.makeLanguage("Promotion.labLevelTitle"),this.labInvitationCodeTitle.language=s.Manager.makeLanguage("Promotion.labInvitationCodeTitle"),this.labInvitationUrlTitle.language=s.Manager.makeLanguage("Promotion.labInvitationUrlTitle"),this.labStatTitle.language=s.Manager.makeLanguage("Promotion.labStatTitle"),this.labTotalGoldTitle.language=s.Manager.makeLanguage("Promotion.labTotalGoldTitle"),this.labWithdrawGoldTitle.language=s.Manager.makeLanguage("Promotion.labWithdrawGoldTitle"),this.labYesterdayGoldTitle.language=s.Manager.makeLanguage("Promotion.labYesterdayGoldTitle"),this.labYesterdayInvitationTitle.language=s.Manager.makeLanguage("Promotion.labYesterdayInvitationTitle"),this.labAllInvitationTitle.language=s.Manager.makeLanguage("Promotion.labAllInvitationTitle"),this.labGoldGraphTitle.language=s.Manager.makeLanguage("Promotion.labGoldGraphTitle"),this.labInvitationGraphTitle.language=s.Manager.makeLanguage("Promotion.labInvitationGraphTitle"),this.labRankTitle.language=s.Manager.makeLanguage("Promotion.labRankTitle"),this.refreshStatLastDate()}show(e){super.show(e),this.onLanguageChange()}drawIncomeLine(){let e=this.nodGoldGraph.getChildByName("latDate").getComponent(cc.Layout);this.gphIncome.clear();let t=cc.v2(0,0);for(let n=0;n<this._data.incomeList.length;++n){let o=this._data.incomeList[n],i=e.node.getChildByName(`btnGraph${n}`).getComponent(cc.Button).node.convertToWorldSpaceAR(cc.v2(0,0)),a=this.gphIncome.node.parent.convertToNodeSpaceAR(i);t.x=a.x,t.y=this.getDrawLineHeight(this._originIncomeHeight,this._maxIncomeGold,o),this.gphIncome.lineTo(t.x,t.y),this.gphIncome.stroke(),this.gphIncome.moveTo(t.x,t.y)}}drawValidCountLine(){let e=this.nodInvitationGraph.getChildByName("latDate").getComponent(cc.Layout);this.gphValid.clear();let t=cc.v2(0,0);for(let n=0;n<this._data.validCountList.length;++n){let o=this._data.validCountList[n],i=e.node.getChildByName(`btnGraph${n}`).getComponent(cc.Button).node.convertToWorldSpaceAR(cc.v2(0,0)),a=this.gphValid.node.parent.convertToNodeSpaceAR(i);t.x=a.x,t.y=this.getDrawLineHeight(this._originInvitationHeight,this._maxRegisterCount,o),this.gphValid.lineTo(t.x,t.y),this.gphValid.stroke(),this.gphValid.moveTo(t.x,t.y)}}drawRegisterCountLine(){let e=this.nodInvitationGraph.getChildByName("latDate").getComponent(cc.Layout);this.gphRegister.clear();let t=cc.v2(0,0);for(let n=0;n<this._data.registerCountList.length;++n){let o=this._data.registerCountList[n],i=e.node.getChildByName(`btnGraph${n}`).getComponent(cc.Button).node.convertToWorldSpaceAR(cc.v2(0,0)),a=this.gphRegister.node.parent.convertToNodeSpaceAR(i);t.x=a.x,t.y=this.getDrawLineHeight(this._originInvitationHeight,this._maxRegisterCount,o),this.gphRegister.lineTo(t.x,t.y),this.gphRegister.stroke(),this.gphRegister.moveTo(t.x,t.y)}}getDrawLineHeight(e,t,n){return Number(n)/t*e}refreshLevel(){let e=100/(Object.values(b.MST.PromotionLevel).length-1),t=0,n=this._data.levelPercent/100*e;n>e&&(n=e);let o=(t=this._data.level===b.MST.PromotionLevel.Level0?n/100:this._data.level===b.MST.PromotionLevel.Level1?(e+n)/100:1)*this._originFillWidth;o>this._originFillWidth?o=this._originFillWidth:o<0&&(o=0),this.imgFill.node.width=o;for(let i=0;i<=this._data.level;++i)this.imgBar[i].node.active=!0}refreshInvitationInfo(){this.labInvitationCodeContent.string=this._userData.extendCode,this.labInvitationUrlContent.string=_.UtilMgr.setString(this.getInvitationURL(),35,!0)}refreshStatLastDate(){this._data&&(this.labUpdateDate.language=s.Manager.makeLanguage(["Promotion.labUpdateDate",f.default.getYMD(this._data.promotionDataInfo.lastUpdateTime,"-")]))}refreshStatInfo(){this.labTotalGoldContent.language=s.Manager.makeLanguage(["Promotion.RpGold",l.default.converToC(this._data.promotionDataInfo.totalIncomeGold)]),this.labWithdrawGoldContent.language=s.Manager.makeLanguage(["Promotion.RpGold",l.default.converToC(this._data.promotionDataInfo.totalWithdrawGold)]),this.labYesterdayGoldContent.language=s.Manager.makeLanguage(["Promotion.RpGold",l.default.converToC(this._data.promotionDataInfo.ayerIncomeGold)]),this.labYesterdayInvitationContent.language=this._data.promotionDataInfo.ayerInvitationCount.toString(),this.labAllInvitationContent.string=this._data.promotionDataInfo.totalInvitationCount.toString(),this.refreshStatLastDate()}refreshRank(){this.lsvRank.set(this.getRankPlayerList())}refreshIncomeGraph(){let e=this.nodGoldGraph.getChildByName("latDate").getComponent(cc.Layout);for(let t=0;t<e.node.childrenCount;++t)e.node.getChildByName(`btnGraph${t}`).getComponent(cc.Button).node.getChildByName("labDate").getComponent(cc.Label).string=f.default.getDayBeforeAfter(this._appData.getClientTimestamp(),-(e.node.childrenCount-(t+1)),"MM.dd");this.drawIncomeLine()}refreshInvitationGraph(){let e=this.nodInvitationGraph.getChildByName("latDate").getComponent(cc.Layout);for(let t=0;t<e.node.childrenCount;++t)e.node.getChildByName(`btnGraph${t}`).getComponent(cc.Button).node.getChildByName("labDate").getComponent(cc.Label).string=f.default.getDayBeforeAfter(this._appData.getClientTimestamp(),-(e.node.childrenCount-(t+1)),"MM.dd");this.drawValidCountLine(),this.drawRegisterCountLine()}getInvitationURL(){return`${window.location.href.replace(window.location.search,"")}?invcode=${this._userData.extendCode}`}getRankPlayerList(){let e=[];for(let t=0;t<this._data.promotionRankInfo.length;++t){let n={rank:t+1,data:this._data.promotionRankInfo[t]};e[t]=n}return e}clickInvitationGraph(){}clickIndicator(e){let t=e.convertToWorldSpaceAR(cc.v2(0,0)),n=this.node.convertToNodeSpaceAR(t);s.Manager.uiManager.open({type:d.default,bundle:this.bundle,args:[n,s.Manager.makeLanguage("Promotion.promotionUpdateDateTips"),400,a.CommonDefine.Direction.UP]})}onClick(e,t,n){switch(e){case"btnInvitationCodeCopy":window.platformUtil.copyToClip(this.labInvitationCodeContent.string);break;case"btnInvitationUrlCopy":window.platformUtil.copyToClip(this.getInvitationURL());break;case"btnInvitation0":case"btnInvitation1":case"btnInvitation2":case"btnInvitation3":case"btnInvitation4":case"btnInvitation5":case"btnInvitation6":this.clickInvitationGraph();break;case"btnUpdateDateTips":this.clickIndicator(t);break;case"btnClose":this.close()}}getArrayMaxValue(e){let t=0;for(let n of e){let e=Number(n);t=Math.max(e,t)}return t}C2S_PromotionInfo(){let e=b.MST.C2S_PromotionInfo.create({serial:s.Manager.netManager.getNewSeqId()}),t=b.MST.C2S_PromotionInfo.encode(e).finish();c.LobbyService.instance.sendMsg(b.MST.C2S_PromotionInfo,b.MST.OuterOpcode_Lobby.C2S_PromotionInfo,t)}testData(){this._data.registerCountList=[],this._data.registerCountList[0]=0,this._data.registerCountList[1]=1,this._data.registerCountList[2]=2,this._data.registerCountList[3]=0,this._data.registerCountList[4]=0,this._data.registerCountList[5]=0,this._data.registerCountList[6]=0,this._data.validCountList=[],this._data.validCountList[0]=0,this._data.validCountList[1]=0,this._data.validCountList[2]=0,this._data.validCountList[3]=0,this._data.validCountList[4]=1,this._data.validCountList[5]=0,this._data.validCountList[6]=0,this._data.level=1,this._data.levelPercent=45,this._data.promotionDataInfo.totalIncomeGold=1,this._data.promotionDataInfo.totalWithdrawGold=2,this._data.promotionDataInfo.ayerIncomeGold=3,this._data.promotionDataInfo.ayerInvitationCount=4,this._data.promotionDataInfo.totalInvitationCount=5}onEvent_S2C_PromotionInfo(e){this._data=e,this._maxIncomeGold=this.getArrayMaxValue(this._data.incomeList),this._maxRegisterCount=this.getArrayMaxValue(this._data.registerCountList),this._maxValidCount=this.getArrayMaxValue(this._data.validCountList),this.refreshLevel(),this.refreshInvitationInfo(),this.refreshStatInfo(),this.refreshRank(),this.refreshIncomeGraph(),this.refreshInvitationGraph()}};o([C(cc.Label)],R.prototype,"labLevelTitle",void 0),o([C(cc.Sprite)],R.prototype,"imgFill",void 0),o([C([cc.Sprite])],R.prototype,"imgBar",void 0),o([C(cc.Label)],R.prototype,"labInvitationCodeTitle",void 0),o([C(cc.Label)],R.prototype,"labInvitationCodeContent",void 0),o([C(cc.Label)],R.prototype,"labInvitationUrlTitle",void 0),o([C(cc.Label)],R.prototype,"labInvitationUrlContent",void 0),o([C(cc.Label)],R.prototype,"labStatTitle",void 0),o([C(cc.Label)],R.prototype,"labTotalGoldTitle",void 0),o([C(cc.Label)],R.prototype,"labTotalGoldContent",void 0),o([C(cc.Label)],R.prototype,"labWithdrawGoldTitle",void 0),o([C(cc.Label)],R.prototype,"labWithdrawGoldContent",void 0),o([C(cc.Label)],R.prototype,"labYesterdayGoldTitle",void 0),o([C(cc.Label)],R.prototype,"labYesterdayGoldContent",void 0),o([C(cc.Label)],R.prototype,"labYesterdayInvitationTitle",void 0),o([C(cc.Label)],R.prototype,"labYesterdayInvitationContent",void 0),o([C(cc.Label)],R.prototype,"labAllInvitationTitle",void 0),o([C(cc.Label)],R.prototype,"labAllInvitationContent",void 0),o([C(cc.Label)],R.prototype,"labUpdateDate",void 0),o([C(cc.Label)],R.prototype,"labGoldGraphTitle",void 0),o([C(cc.Node)],R.prototype,"nodGoldGraph",void 0),o([C(cc.Graphics)],R.prototype,"gphIncome",void 0),o([C(cc.Label)],R.prototype,"labInvitationGraphTitle",void 0),o([C(cc.Node)],R.prototype,"nodInvitationGraph",void 0),o([C(cc.Graphics)],R.prototype,"gphRegister",void 0),o([C(cc.Graphics)],R.prototype,"gphValid",void 0),o([C(cc.Label)],R.prototype,"labRankTitle",void 0),o([C(v.default)],R.prototype,"lsvRank",void 0),o([C(r.default)],R.prototype,"titleItemPage",void 0),R=o([w,g.injectService(c.LobbyService.instance)],R),n.default=R,cc._RF.pop()},{"../common/define/CommonDefine":"CommonDefine","../common/item/TitleItemPage":"TitleItemPage","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../common/utils/NumberUtils":"NumberUtils","../common/view/IndicatorView":"IndicatorView","../data/AppData":"AppData","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/extentions/DateUtils":"DateUtils","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","./PromotionRankListView":"PromotionRankListView"}],RankItem:[function(e,t,n){"use strict";cc._RF.push(t,"92056MyFo9C+b9f4JZHURdd","RankItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/UtilMgr"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.index=null,this.uname=null,this.userId=null,this.gold=null,this.head=null,this.icon1=null,this.icon2=null,this.icon3=null}onLoad(){this.node.opacity=0,this.icon1.active=!1,this.icon2.active=!1,this.icon3.active=!1,this.index.string=""}updateItem(e,t){1==e.id?this.icon1.active=!0:2==e.id?this.icon2.active=!0:3==e.id?this.icon3.active=!0:(this.icon1.active=!1,this.icon2.active=!1,this.icon3.active=!1,this.index.string=e.id),this.uname.string=r.UtilMgr.setString(e.nickName),this.userId.string=e.userId,this.gold.string=r.UtilMgr.changeMoney(e.gold),r.UtilMgr.loadHeadImg(this.head,e.headImgUrl,e.userId,this)}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([c(cc.Label)],l.prototype,"index",void 0),o([c(cc.Label)],l.prototype,"uname",void 0),o([c(cc.Label)],l.prototype,"userId",void 0),o([c(cc.Label)],l.prototype,"gold",void 0),o([c(cc.Sprite)],l.prototype,"head",void 0),o([c(cc.Node)],l.prototype,"icon1",void 0),o([c(cc.Node)],l.prototype,"icon2",void 0),o([c(cc.Node)],l.prototype,"icon3",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],RankView:[function(e,t,n){"use strict";cc._RF.push(t,"877e0EVuOdN953nayXCdKpZ","RankView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.rankType=void 0;const r=a(e("../common/component/ScroViewCtrl")),s=e("../common/language/LanguageImpl"),c=e("../common/manager/Manager"),l=e("../common/net/CommonService"),d=e("../common/net/LobbyService"),h=e("../framework/decorator/Decorators"),u=a(e("../framework/ui/UIView")),p=e("../global/User"),g=e("../global/UtilMgr"),m=a(e("../msgbox/PanelHelp")),{ccclass:f,property:b}=cc._decorator;var y;(function(e){e[e.Friends=1]="Friends",e[e.Wealth=2]="Wealth",e[e.DayEarn=3]="DayEarn"})(y=n.rankType||(n.rankType={}));let _=class extends u.default{constructor(){super(...arguments),this.scrollView=null,this.myName=null,this.myId=null,this.myRankIndex=null,this.myGold=null,this.myRank=null,this.myHead=null,this._rankingList=[],this._type=y.Wealth,this._page=1,this._pageSize=50,this._pageTotal=0}static getPrefabUrl(){return"rank/prefabs/RankView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}bindingEvents(){super.bindingEvents(),this.registerEvent(h.makeKey(l.serverType.Lobby,l.protoPackage.hall.HallCmd.RANKING_LIST),this.updateList),this.registerEvent("updateUserInfo",this.updateUserInfo)}updateUserInfo(){this.myName.string=g.UtilMgr.setString(p.User._userName),this.myId.string=p.User._userID||"",this.myGold.string=p.User.isRechargedPlayer?g.UtilMgr.changeMoney(p.User._gold):s.i18n.EXPERIENCE_FIELD.NoGold,g.UtilMgr.loadHeadImg(this.myHead,p.User._headImgUrl,p.User._userID,this)}updateList(e){if(cc.log(e,"Rank"),e)if(0==e.statusMsg.status){if(e.rankingList.length>0){this._rankingList=e.rankingList,this._page=e.currPage,this._pageTotal=e.total;let t=this.getMeRankIndex();this.myRankIndex.string=t,e.rankingList.forEach(e=>{e.id=this._pageSize*(this._page-1)+e.id}),this.rankView(e.rankingList)}}else m.default.showMsgBox("",c.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}getMeRankIndex(){let e="50+";for(let t=0;t<this._rankingList.length;t++){let n=this._rankingList[t];if(n.userId==p.User._userID){e=this._pageSize*(this._page-1)+n.id;break}}return e}rankView(e){return i(this,void 0,void 0,function*(){let t=this.getComponent(r.default);t.dataList=e,yield t.framingLoad(e.length,!1),m.default.hideLoading()})}show(e){super.show(e),this.showWithAction(!0)}onBounceBottom(){this._pageTotal>this._page&&(this._page=this._page+1,this.refreshRank())}onClick(e,t){switch(e){case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}refreshRank(){let e=l.protoPackage.hall.base.RankingList.create({userId:p.User._userID,type:this._type,page:this._page,size:this._pageSize}),t=l.protoPackage.hall.base.RankingList.encode(e).finish();this.service.sendMsg(l.serverType.Lobby,l.protoPackage.hall.HallCmd.RANKING_LIST,t)}start(){this.myName.string=g.UtilMgr.setString(p.User._userName),this.myId.string=p.User._userID||"",this.myGold.string=p.User.isRechargedPlayer?g.UtilMgr.changeMoney(p.User._gold):s.i18n.EXPERIENCE_FIELD.NoGold,g.UtilMgr.loadHeadImg(this.myHead,p.User._headImgUrl,p.User._userID,this),m.default.showLoading(s.i18n.WAIT.LOADING),this.refreshRank(),this.myRank.language=s.i18n.RANK.MYRANK}};o([b(cc.ScrollView)],_.prototype,"scrollView",void 0),o([b(cc.Label)],_.prototype,"myName",void 0),o([b(cc.Label)],_.prototype,"myId",void 0),o([b(cc.Label)],_.prototype,"myRankIndex",void 0),o([b(cc.Label)],_.prototype,"myGold",void 0),o([b(cc.Label)],_.prototype,"myRank",void 0),o([b(cc.Sprite)],_.prototype,"myHead",void 0),_=o([f,h.injectService(d.LobbyService.instance)],_),n.default=_,cc._RF.pop()},{"../common/component/ScroViewCtrl":"ScroViewCtrl","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp"}],RechargeChannelItem:[function(e,t,n){"use strict";cc._RF.push(t,"c3b94XY5h9IZJ+9qy81/Qjn","RechargeChannelItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.imgIcon=null,this.labName=null,this.m_data=null}onLoad(){super.onLoad(),this.initData(),this.initView(),this.register()}start(){this.updateView()}initData(){}initView(){this.imgIcon.spriteFrame=null,this.labName.string=""}register(){}updateView(){this.imgIcon.spriteFrame=null,this.labName.string=this.m_data.name,this.imgIcon.loadRemoteImage({url:this.m_data.icon,view:this})}onClickSelect(){dispatch("SELECT_PAY_CHANNEL",this.m_data)}setData(e){this.m_data=e}};o([s(cc.Sprite)],c.prototype,"imgIcon",void 0),o([s(cc.Label)],c.prototype,"labName",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],RechargeData:[function(e,t,n){"use strict";cc._RF.push(t,"d2ef3pWgoFM37HT1hNHNpRm","RechargeData");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../base/BaseData"));let r=class extends a.default{constructor(){super(),this.storeInfoList=null,this.minDepAmount=null,this.maxDepAmount=null,this.minWithAmount=null,this.maxWithAmount=null,this.bankInfoList=null,this.bandBankCardInfo=null,this.paymentUrl=null}destroy(){}};r=o([i(e("../framework/decorator/ClassDecorator")).default.classname],r),n.default=r,cc._RF.pop()},{"../base/BaseData":"BaseData","../framework/decorator/ClassDecorator":"ClassDecorator"}],RechargeNewView:[function(e,t,n){"use strict";cc._RF.push(t,"6b06dGyv3BOq7yvytiBg0EP","RechargeNewView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/language/LanguageImpl"),s=e("../common/manager/Manager"),c=e("../common/net/LobbyService"),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=a(e("../framework/ui/UIView")),u=a(e("../msgbox/PanelHelp")),p=e("../framework/external/protoc"),g=a(e("../data/RechargeData")),m=a(e("../common/component/ScroViewCtrl")),f=a(e("../common/component/ScroViewPlus")),b=a(e("./BankItemView")),y=a(e("../common/bindItemView/BindPhoneView")),_=a(e("../data/UserData")),{ccclass:v,property:w}=cc._decorator;let C=class extends h.default{constructor(){super(...arguments),this.webViewNode=null,this.refilableNode=null,this.successNode=null,this.layStore0=null,this.layStore1=null,this.layStore2=null,this.labPrice=null,this.labGift=null,this.labBtnPrice=null,this.labTelephone=null,this.bankScrollView=null,this.rpEditBox=null,this.bankListNode=null,this.bankInfoListView=null,this.chooseIndex=null,this.rechargeMoney=null,this._bankList=null,this.m_rechargeStr="",this._clickBankItemId=null}static getPrefabUrl(){return"wallet/prefabes/RechargeNewView"}onLoad(){super.onLoad(),this.bindEvents()}bindingEvents(){super.bindingEvents(),this.registerEvent("L2C_Deposit_Res",this.onL2C_Deposit_Res),this.registerEvent("L2C_ChipsChange_Mes",this.onL2C_ChipsChange_Mes),this.registerEvent("L2C_GetStoreList_Res",this.onL2C_GetStoreList_Res),this.registerEvent("L2C_GetBankList_Res",this.onL2C_GetBankList_Res),this.registerEvent("Event_S2C_BindPhone",this.onEvent_S2C_BindPhone)}initUI(){this.refilableNode.active=!1,this.webViewNode.active=!1}bindEvents(){this.rpEditBox.node.on("editing-did-began",this.onDidBegan,this),this.rpEditBox.node.on("editing-did-ended",this.onDidEnded,this),this.rpEditBox.node.on("editing-return",this.onDidEnded,this),this.rpEditBox.node.on("text-changed",this.onTextChanged,this)}refreshBankListView(){let e=this._bankList;for(let t=0;t<5;t++){let n=this.bankInfoListView.getChildByName("BankItemView"+t),o=n.getComponent(b.default);if(n.active=!1,t<e.length){let i=e[t];n.active=!0,o.updateItem(i,t,this.onClickBankItem,this)}}}bankListView(){return i(this,void 0,void 0,function*(){let e=this.bankListNode.getComponent(m.default);e.dataList=this._bankList,e.onItemClickCallback=this.onClickBankItem.bind(this),yield e.framingLoad(this._bankList.length)})}onClickBankItem(e,t){let n=t;n._clickBankItemId=e;for(let o=0;o<5;o++){let t=n.bankInfoListView.getChildByName("BankItemView"+o).getComponent(b.default);t.choosed.active=!1,t.choosedImg.active=!1,e==o&&(t.choosed.active=!0,t.choosedImg.active=!0)}}show(){this.initUI(),this.requestDepLimit(),this.requestGetStoreList(),this.requestGetBankList(),this.refreshEditBox(),this.refreshPhoneNo()}onClick(e,t){switch(e){case"btnClose":this.initUI(),this.close();break;case"btnMusk":this.onRechargeHandler();break;case"btnUpdateTel":s.Manager.uiManager.open({type:y.default,bundle:l.BUNDLE_RESOURCES});break;case"btnCloseWebView":this.webViewNode.active=!1}}refreshEditBox(){let e=G.DataMgr.get(g.default);if(!e.maxDepAmount||!e.minDepAmount)return;let t=e.minDepAmount,n=e.maxDepAmount;this.rpEditBox.getComponent(cc.EditBox).placeholder=`Minimal ${t} - ${n}`}refreshPhoneNo(){let e=G.DataMgr.get(_.default).BindPhone;e&&(this.labTelephone.string=e)}requestDepLimit(){let e=p.MST.C2L_GetDepositLimit_Req.create({RpcId:s.Manager.netManager.getNewSeqId()}),t=p.MST.C2L_GetDepositLimit_Req.encode(e).finish();c.LobbyService.instance.sendMsg(p.MST.C2L_GetDepositLimit_Req,p.MST.OuterOpcode_Lobby.C2L_GetDepositLimit_Req,t)}requestGetStoreList(){let e=p.MST.C2L_GetStoreList_Req.create({RpcId:s.Manager.netManager.getNewSeqId()}),t=p.MST.C2L_GetStoreList_Req.encode(e).finish();c.LobbyService.instance.sendMsg(p.MST.C2L_GetStoreList_Req,p.MST.OuterOpcode_Lobby.C2L_GetStoreList_Req,t)}requestGetBankList(){let e=p.MST.C2L_GetBankList_Req.create({RpcId:s.Manager.netManager.getNewSeqId(),index:0,limit:6}),t=p.MST.C2L_GetBankList_Req.encode(e).finish();c.LobbyService.instance.sendMsg(p.MST.C2L_GetBankList_Req,p.MST.OuterOpcode_Lobby.C2L_GetBankList_Req,t)}onRechargeHandler(){let e=this.m_rechargeStr,t=this.chooseIndex;if(null==e&&null==t)return void u.default.showTip(r.i18n.TIPS.ENTERRECHARGE);let n=null!=t?0:1,o=t||Number(e),i=p.MST.C2L_Deposit_Req.create({RpcId:s.Manager.netManager.getNewSeqId(),platType:0,depositType:n,idOrMoney:o}),a=p.MST.C2L_Deposit_Req.encode(i).finish();c.LobbyService.instance.sendMsg(p.MST.C2L_Deposit_Req,p.MST.OuterOpcode_Lobby.C2L_Deposit_Req,a),u.default.showLoading(r.i18n.WAIT.LOADING)}onL2C_Deposit_Res(){this.webViewNode.active=!0,this.refilableNode.active=!0,this.successNode.active=!1;let e=this.webViewNode.getChildByName("webView").getComponent(cc.WebView),t=G.DataMgr.get(g.default);t.paymentUrl&&(e.url=t.paymentUrl)}onL2C_ChipsChange_Mes(e){this.webViewNode.active=!1,this.successNode.active=this.refilableNode.active,u.default.showTip(r.i18n.TIPS.RECHARGESUCCESS)}onL2C_GetStoreList_Res(){let e=this,t=G.DataMgr.get(g.default).storeInfoList,n=t.length,o=0,i=Math.ceil(t.length/3);for(let a=0;a<3;a++){const r=this[`layStore${a}`];r.active=a<i;for(let i=0;i<3;i++){const a=r.getChildByName("btnChoose"+i);if(a.active=!1,o<n){let n=o,i=t[n];if(!i)return;let r=a.getChildByName("labRp").getComponent(cc.Label),s=a.getChildByName("iconZK").getChildByName("labZK").getComponent(cc.Label),c=a.getChildByName("choosed");c.active=!1,r.string=`Rp ${i.price}`,s.string=`${i.giftChips}%`,n>2&&(n=0),a.active=!0,a.on(cc.Node.EventType.TOUCH_END,()=>{e.chooseIndex=n,e.hideChoosedHanlder(),c.active=!0,this.m_rechargeStr="",this.refreshWillGet()})}o++}}}hideChoosedHanlder(){for(let e=0;e<3;e++){const t=this[`layStore${e}`];for(let e=0;e<3;e++)t.getChildByName("btnChoose"+e).getChildByName("choosed").active=!1}}onL2C_GetBankList_Res(){let e=G.DataMgr.get(g.default);this._bankList=e.bankInfoList,this.refreshBankListView()}onEvent_S2C_BindPhone(){this.refreshPhoneNo()}onDidBegan(e){this.rpEditBox.string=this.m_rechargeStr,this.hideChoosedHanlder(),this.chooseIndex=null}onDidEnded(e){this.m_rechargeStr.length<=0||(this.rpEditBox.string=this.m_rechargeStr,this.chooseIndex=null,this.refreshWillGet())}onTextChanged(e){this.m_rechargeStr=e.string}refreshWillGet(){let e=this.chooseIndex,t=G.DataMgr.get(g.default).storeInfoList;if(t)if(this.labGift.node.active=!1,null!=e&&e>=0){let n=t[e];this.labGift.node.active=!0,this.labPrice.string=`Rp ${n.price}`,this.labGift.string=`+${n.giftChips}bons`,this.labBtnPrice.string=`${n.price}`}else{let e=this.m_rechargeStr;if(!e)return;this.labPrice.string=`Rp ${e}`,this.labBtnPrice.string=`${e}`}}onDestroy(){super.onDestroy()}};o([w(cc.Node)],C.prototype,"webViewNode",void 0),o([w(cc.Node)],C.prototype,"refilableNode",void 0),o([w(cc.Node)],C.prototype,"successNode",void 0),o([w(cc.Node)],C.prototype,"layStore0",void 0),o([w(cc.Node)],C.prototype,"layStore1",void 0),o([w(cc.Node)],C.prototype,"layStore2",void 0),o([w(cc.Label)],C.prototype,"labPrice",void 0),o([w(cc.Label)],C.prototype,"labGift",void 0),o([w(cc.Label)],C.prototype,"labBtnPrice",void 0),o([w(cc.Label)],C.prototype,"labTelephone",void 0),o([w(f.default)],C.prototype,"bankScrollView",void 0),o([w(cc.EditBox)],C.prototype,"rpEditBox",void 0),o([w(cc.Node)],C.prototype,"bankListNode",void 0),o([w(cc.Node)],C.prototype,"bankInfoListView",void 0),C=o([v,d.injectService(c.LobbyService.instance)],C),n.default=C,cc._RF.pop()},{"../common/bindItemView/BindPhoneView":"BindPhoneView","../common/component/ScroViewCtrl":"ScroViewCtrl","../common/component/ScroViewPlus":"ScroViewPlus","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/RechargeData":"RechargeData","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./BankItemView":"BankItemView"}],RechargeOrderView:[function(e,t,n){"use strict";cc._RF.push(t,"08200MWL35B36C3bBpiXs6n","RechargeOrderView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/Manager"),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=e("../global/UtilMgr"),h=i(e("./GoodsItem")),u=i(e("./RechargeChannelItem")),p=i(e("./RechargePayView")),g=i(e("../msgbox/PanelHelp")),{ccclass:m,property:f}=cc._decorator;let b=class extends l.default{constructor(){super(...arguments),this.pfbRechargeChannelItem=null,this.labTextAmount=null,this.labCount=null,this.labTextSum=null,this.labSum=null,this.scvPayChannel=null,this.btnPlaceOrder=null,this.btnSum=null,this.GoodsItem=null,this.btnMoreChannel=null,this.nodRight=null,this.labTextEmptyCahnnel=null,this.fristPayNode=null,this.fristPayAmount=null,this.m_channelList=null,this.m_goodsInfo=null,this.m_count=null,this.m_currSelectChannel=null,this.m_selectIndex=null,this.m_channelNodeSize=null,this.m_shrinkChannelListH=null,this.m_expandChannelListH=null,this.isMoreChannel=null,this._isonClick=!1}static getPrefabUrl(){return"recharge/prefabs/RechargeOrderView"}bindingEvents(){super.bindingEvents(),this.registerEvent(c.makeKey(r.serverType.Lobby,r.protoPackage.hall.HallCmd.FETCH_HW_PAY_ORDERID),this.onFetchHwPayRequestIdRes),this.registerEvent("SELECT_PAY_CHANNEL",this.onSelectChannelItem)}onLoad(){super.onLoad(),this.content=this.node.getChildByName("nodRoot"),this.initData(),this.initView()}start(){}show(e){super.show(e),this.showWithAction(!0),this.m_channelList=e[0],this.m_channelList=this.m_channelList.sort((e,t)=>e.sort-t.sort),this.m_goodsInfo=e[1],this.m_selectIndex=e[2],this.m_currSelectChannel=this.m_channelList[0],e[3]&&"fristpay"==e[3]&&(this.fristPayNode.active=!0,this.fristPayAmount.string=Math.floor((this.m_goodsInfo.gold+this.m_goodsInfo.give)/this.m_goodsInfo.nowPrice*100)+""),this.updateView()}initData(){this.m_count=1,this.m_channelNodeSize=this.pfbRechargeChannelItem.data.getContentSize(),this.m_shrinkChannelListH=2*this.m_channelNodeSize.height,this.m_expandChannelListH=3*this.m_channelNodeSize.height,this.isMoreChannel=!1}initView(){}updateView(){this.GoodsItem.getComponent(h.default).init(null,this.m_goodsInfo,this.m_selectIndex),this.setLabSum(this.m_count*this.m_goodsInfo.nowPrice),this.setLabCount(this.m_count),this.setScrollView(this.m_channelList),this.m_channelList.length>0&&this.m_channelList.length<=2?(this.hideBtnMore(),this.labTextEmptyCahnnel.node.active=!1):this.m_channelList.length>=3?(this.showBtnMore(),this.labTextEmptyCahnnel.node.active=!1):this.nodRight.active=!1}updateScrollViewHeight(){let e=0;e=this.isMoreChannel?this.m_expandChannelListH:this.m_shrinkChannelListH,this.scvPayChannel.node.getChildByName("view").height=e,this.scvPayChannel.node.height=e,this.btnMoreChannel.node.y=this.scvPayChannel.node.y-this.scvPayChannel.node.height-this.btnMoreChannel.node.height/2}setScrollView(e){this.scvPayChannel.content.destroyAllChildren(),this.updateScrollViewHeight(),this.scvPayChannel.content.height=this.m_channelNodeSize.height*e.length;let t=0-this.m_channelNodeSize.height/2;for(let n=0;n<e.length;++n){let o=e[n],i=cc.instantiate(this.pfbRechargeChannelItem);i.getComponent(u.default).setData(o),i.y=t-this.m_channelNodeSize.height*n,i.x=0,this.scvPayChannel.content.addChild(i)}}hideBtnMore(){this.btnMoreChannel.node.active=!1}showBtnMore(){this.btnMoreChannel.node.active=!0}setLabCount(e){this.labCount.string=`x${e.toString()}`}setLabSum(e){this.labSum.string=`\u20b9${d.UtilMgr.changeMoney(e)}`}reqRecharge(){let e={productNo:this.m_goodsInfo.productNo,productNum:this.m_count},t=r.protoPackage.hall.FetchHwPayRequestId.create(e),n=r.protoPackage.hall.FetchHwPayRequestId.encode(t).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.FETCH_HW_PAY_ORDERID,n)}openWebView(e,t){a.Manager.uiManager.open({type:p.default,bundle:this.bundle,args:[e]}).then(()=>{t()})}onFetchHwPayRequestIdRes(e){if(0==e.statusMsg.status){let t=`${G.URLMgr.payURL}${this.m_currSelectChannel.url}?requestid=${e.requestId}`;this.m_currSelectChannel&&1==this.m_currSelectChannel.type?this.openWebView(t,()=>{this.closeWithAction()}):(window.platformUtil.openURL(t),this._isonClick=!1)}else g.default.showMsgBox("",a.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)),this._isonClick=!1}onSelectChannelItem(e){this.m_currSelectChannel=e}onClickMoreChannel(){this.isMoreChannel=!0,this.updateScrollViewHeight(),this.hideBtnMore()}onClickPlaceOrder(){this.m_currSelectChannel?this._isonClick||(this._isonClick=!0,this.reqRecharge()):G.Logger.warn("\u6ca1\u6709\u652f\u4ed8\u6e20\u9053\u4fe1\u606f\uff0c\u4e0d\u53ef\u652f\u4ed8")}onClickClose(){this.closeWithAction()}};o([f(cc.Prefab)],b.prototype,"pfbRechargeChannelItem",void 0),o([f(cc.Label)],b.prototype,"labTextAmount",void 0),o([f(cc.Label)],b.prototype,"labCount",void 0),o([f(cc.Label)],b.prototype,"labTextSum",void 0),o([f(cc.Label)],b.prototype,"labSum",void 0),o([f(cc.ScrollView)],b.prototype,"scvPayChannel",void 0),o([f(cc.Button)],b.prototype,"btnPlaceOrder",void 0),o([f(cc.Label)],b.prototype,"btnSum",void 0),o([f(cc.Node)],b.prototype,"GoodsItem",void 0),o([f(cc.Button)],b.prototype,"btnMoreChannel",void 0),o([f(cc.Node)],b.prototype,"nodRight",void 0),o([f(cc.Label)],b.prototype,"labTextEmptyCahnnel",void 0),o([f(cc.Node)],b.prototype,"fristPayNode",void 0),o([f(cc.Label)],b.prototype,"fristPayAmount",void 0),b=o([m,c.injectService(s.LobbyService.instance)],b),n.default=b,cc._RF.pop()},{"../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./GoodsItem":"GoodsItem","./RechargeChannelItem":"RechargeChannelItem","./RechargePayView":"RechargePayView"}],RechargePayView:[function(e,t,n){"use strict";cc._RF.push(t,"91a236ji4BO56S2JbXsnltv","RechargePayView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../framework/event/EventApi"),r=i(e("../framework/ui/UIView")),{ccclass:s,property:c}=cc._decorator;let l=class extends r.default{constructor(){super(...arguments),this.imgWebViewBG=null,this.wbvPayPage=null,this.nodError=null,this.imgLoading=null,this.m_url=null,this.m_animLoading=null}static getPrefabUrl(){return"recharge/prefabs/RechargePayView"}bindingEvents(){this.registerEvent(a.EventApi.NetEvent.ON_CLOSE,()=>{this.hideLoading(),this.hideWebViewBG(),this.hideWebView(),this.showError()}),this.wbvPayPage.node.on("loaded",()=>{this.hideLoading(),this.hideError(),this.showWebView(),this.showWebViewBG()}),this.wbvPayPage.node.on("error",()=>{this.showError()}),this.wbvPayPage.node.on("loading",()=>{this.showLoading()}),this.registerEvent("updateUserInfo",()=>{this.onClickClose()})}onLoad(){super.onLoad(),this.initView(),this.content=this.node.getChildByName("imgBg")}start(){}initView(){this.hideLoading(),this.hideWebViewBG(),this.hideError()}showLoading(){this.m_animLoading&&(this.m_animLoading.stop(),this.m_animLoading=null),this.m_animLoading=cc.tween(this.imgLoading.node).by(2,{angle:-360}).repeatForever().start(),this.imgLoading.node.active=!0}hideLoading(){this.m_animLoading&&this.m_animLoading.stop(),this.m_animLoading=null,this.imgLoading.node.active=!1}showWebViewBG(){this.imgWebViewBG.node.active=!0}hideWebViewBG(){this.imgWebViewBG.node.active=!1}showWebView(){this.wbvPayPage.node.active=!0}hideWebView(){this.wbvPayPage.node.active=!1}showError(){this.nodError.active=!0}hideError(){this.nodError.active=!1}show(e){super.show(e),this.showWithAction(!0),this.m_url=e[0],G.Logger.log("\u652f\u4ed8\u7f51\u5740\uff1a",this.m_url),this.wbvPayPage.url=this.m_url}onClickRetry(){this.wbvPayPage.url="",this.wbvPayPage.url=this.m_url}onClickClose(){this.hideWebView(),this.hideWebViewBG(),this.closeWithAction()}};o([c(cc.Sprite)],l.prototype,"imgWebViewBG",void 0),o([c(cc.WebView)],l.prototype,"wbvPayPage",void 0),o([c(cc.Node)],l.prototype,"nodError",void 0),o([c(cc.Sprite)],l.prototype,"imgLoading",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../framework/event/EventApi":"EventApi","../framework/ui/UIView":"UIView"}],RechargeRecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"ceed6eRPAZA44AUNTPJ2Qs1","RechargeRecordItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../global/UtilMgr"),a=e("../common/language/LanguageImpl"),{ccclass:r,property:s}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.lbl_time=null,this.lbl_commodity=null,this.lbl_Amount=null,this.lbl_state=null}onLoad(){}updateItem(e){this.lbl_time.string=new Date(e.time).format("MM-dd hh:mm:ss"),this.lbl_commodity.string=e.commodity,this.lbl_Amount.string=i.UtilMgr.changeMoney(e.amount),this.lbl_state.string=0==e.state?a.i18n.RECHARGE.WaitingPay:1==e.state?a.i18n.RECHARGE.PaySuccess:a.i18n.RECHARGE.PayFailed,this.lbl_state.node.color=cc.color().fromHEX(0==e.state?"FDE5EC":1==e.state?"00ff3c":"fd1414")}};o([s(cc.Label)],c.prototype,"lbl_time",void 0),o([s(cc.Label)],c.prototype,"lbl_commodity",void 0),o([s(cc.Label)],c.prototype,"lbl_Amount",void 0),o([s(cc.Label)],c.prototype,"lbl_state",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../global/UtilMgr":"UtilMgr"}],RechargeRecordPanel:[function(e,t,n){"use strict";cc._RF.push(t,"a44caWV81dKyYHrUYwE9vAD","RechargeRecordPanel");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=a(e("../common/component/ScroViewCtrl")),s=a(e("../framework/ui/UIView")),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=e("../common/net/CommonService"),h=e("../common/manager/Manager"),{ccclass:u,property:p}=cc._decorator;let g=class extends s.default{constructor(){super(...arguments),this.noRecord=null,this.labTime=null,this.labCommodity=null,this.labAmount=null,this.labState=null}bindingEvents(){super.bindingEvents(),this.registerEvent(l.makeKey(d.serverType.Lobby,d.protoPackage.hall.HallCmd.CMD_ProductOrder),e=>{this.noRecord.active=0==e.productOrder.length,this.rankView(e.productOrder)})}onLoad(){super.onLoad()}start(){this.labTime.language=h.Manager.makeLanguage("RECHARGE.Time"),this.labCommodity.language=h.Manager.makeLanguage("RECHARGE.Commodity"),this.labAmount.language=h.Manager.makeLanguage("RECHARGE.Amount"),this.labState.language=h.Manager.makeLanguage("RECHARGE.State")}onEnable(){this.requestRecordList()}requestRecordList(){this.service.sendMsg(d.serverType.Lobby,d.protoPackage.hall.HallCmd.CMD_ProductOrder,null)}rankView(e){return i(this,void 0,void 0,function*(){let t=this.getComponent(r.default);t.dataList=e,yield t.framingLoad(e.length,!0)})}};o([p(cc.Node)],g.prototype,"noRecord",void 0),o([p(cc.Label)],g.prototype,"labTime",void 0),o([p(cc.Label)],g.prototype,"labCommodity",void 0),o([p(cc.Label)],g.prototype,"labAmount",void 0),o([p(cc.Label)],g.prototype,"labState",void 0),g=o([u,l.injectService(c.LobbyService.instance)],g),n.default=g,cc._RF.pop()},{"../common/component/ScroViewCtrl":"ScroViewCtrl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView"}],RechargeView:[function(e,t,n){"use strict";cc._RF.push(t,"4fbff4WettKG4zmJGjap0rk","RechargeView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=i(e("../msgbox/PanelHelp")),u=i(e("./GoodsItem")),p=e("../framework/base/Defines"),g=i(e("./RechargeOrderView")),m=e("../global/User"),f=e("../global/UtilMgr"),{ccclass:b,property:y}=cc._decorator;let _=class extends d.default{constructor(){super(...arguments),this.scrollView=null,this.goodsItem=null,this.rechargePanel=null,this.recordPanel=null,this._nodePool=null,this._insItemCount=8,this._goodsList=[],this.selectIndex=null}static getPrefabUrl(){return"recharge/prefabs/RechargeView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this._nodePool=new cc.NodePool;for(let e=0;e<this._insItemCount;e++){let e=cc.instantiate(this.goodsItem);this._nodePool.put(e)}}bindingEvents(){super.bindingEvents(),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.FETCH_PROUCTS),this.refreshList),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_PAY_CHANNEL_LIST),this.onPayChannelListRes)}refreshList(e){cc.log(e,"Recharge"),e&&(0==e.statusMsg.status?this.rechargeView(e):h.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}rechargeView(e){let t=e.product;if(t.length>0){this._goodsList=t,this.scrollView.enabled=t.length>this._insItemCount;for(let e=0;e<t.length;e++){let n=this.getGoodsItem();n.parent=this.scrollView.content,n.getComponent(u.default).init(this,t[e],e)}}else h.default.showTip(a.i18n.RECHARGE.NOGOODS)}getGoodsItem(){return this._nodePool.size()>0?this._nodePool.get():cc.instantiate(this.goodsItem)}show(e){super.show(e),this.showWithAction(!0),this.changgePanel(!1)}onClick(e,t){switch(e){case"recharge":case"rechargeRecord":this.changgePanel("rechargeRecord"==e);break;case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}changgePanel(e){this.recordPanel.active=e,this.rechargePanel.active=!this.recordPanel.active}onClickGoodsItem(e){m.User._phone.length>0?(this.selectIndex=e,this._goodsList[e].productNo,this.reqChannel(),this.audioHelper.playEffect("common/audio/click",p.BUNDLE_RESOURCES)):h.default.showMsgBoxIcon("",a.i18n.WITHDRAWAL.NOBINDPHONETIP,()=>{},a.i18n.WITHDRAWAL.GOTOBINDPHONE)}reqChannel(){this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_PAY_CHANNEL_LIST,null)}reqRecharge(e){let t=s.protoPackage.hall.FetchHwPayRequestId.create({productNo:e}),n=s.protoPackage.hall.FetchHwPayRequestId.encode(t).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.FETCH_HW_PAY_ORDERID,n)}refreshRecharge(){let e=s.protoPackage.hall.FetchProducts.create({}),t=s.protoPackage.hall.FetchProducts.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.FETCH_PROUCTS,t)}start(){this.refreshRecharge()}onPayChannelListRes(e){0===e.statusMsg.status?r.Manager.uiManager.open({type:g.default,bundle:p.BUNDLE_RESOURCES,args:[e.payChannelList,this._goodsList[this.selectIndex],this.selectIndex]}):h.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}onDestroy(){super.onDestroy(),f.UtilMgr.popWindows()}};o([y(cc.ScrollView)],_.prototype,"scrollView",void 0),o([y(cc.Prefab)],_.prototype,"goodsItem",void 0),o([y(cc.Node)],_.prototype,"rechargePanel",void 0),o([y(cc.Node)],_.prototype,"recordPanel",void 0),_=o([b,l.injectService(c.LobbyService.instance)],_),n.default=_,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./GoodsItem":"GoodsItem","./RechargeOrderView":"RechargeOrderView"}],RecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"0bc06tsDxdLXI+g/BqhfZsj","RecordItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/UtilMgr"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.rankLabel=null,this.icon1=null,this.icon2=null,this.icon3=null,this.periodLabel=null,this.winningChipLabel=null,this.operateLabel=null}onLoad(){this.icon1.active=!1,this.icon2.active=!1,this.icon3.active=!1,this.rankLabel.string=""}updateItem(e){1==e.rank?this.icon1.active=!0:2==e.rank?this.icon2.active=!0:3==e.rank?this.icon3.active=!0:(this.icon1.active=!1,this.icon2.active=!1,this.icon3.active=!1,this.rankLabel.string=e.rank),this.periodLabel.string=new Date(e.period).format("yy/MM/dd"),this.winningChipLabel.string=r.UtilMgr.changeMoney(e.winningChips),this.operateLabel.string=r.UtilMgr.changeMoney(e.reward)}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([c(cc.Label)],l.prototype,"rankLabel",void 0),o([c(cc.Node)],l.prototype,"icon1",void 0),o([c(cc.Node)],l.prototype,"icon2",void 0),o([c(cc.Node)],l.prototype,"icon3",void 0),o([c(cc.Label)],l.prototype,"periodLabel",void 0),o([c(cc.Label)],l.prototype,"winningChipLabel",void 0),o([c(cc.Label)],l.prototype,"operateLabel",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],RecordView:[function(e,t,n){"use strict";cc._RF.push(t,"85fbeRCndBBdajkncvoJowg","RecordView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.rankType=void 0;const r=a(e("../common/component/ScroViewCtrl")),s=e("../common/manager/Manager"),c=e("../common/net/CommonService"),l=e("../common/net/LobbyService"),d=e("../framework/decorator/Decorators"),h=a(e("../framework/ui/UIView")),u=e("../global/UtilMgr"),p=a(e("../msgbox/PanelHelp")),{ccclass:g,property:m}=cc._decorator;(function(e){e[e.Friends=1]="Friends",e[e.Wealth=2]="Wealth",e[e.DayEarn=3]="DayEarn"})(n.rankType||(n.rankType={}));let f=class extends h.default{constructor(){super(...arguments),this.scrollView=null,this.noRecords=null,this.boxNode=null,this.boxTime=null,this.draw=null,this._rankingList=[],this.timeInterval=null}static getPrefabUrl(){return"rank/prefabs/RecordView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}bindingEvents(){super.bindingEvents(),this.registerEvent(d.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_NewRankingRecord),this.updateList),this.registerEvent(d.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_NewRankingReceive),this.newRankingReceiveRes)}updateList(e){cc.log(e,"newRankingRecord"),e&&(0==e.statusMsg.status?(e.newRankingRecordP.length>0&&(this._rankingList=e.newRankingRecordP,this.rankView()),this._receiveStatus=e.receiveStatus,this._isWin=e.isWin,this._contDown=e.contDown,this.showBox(),this.noRecords.active=!this._rankingList.length):p.default.showMsgBox("",s.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}rankView(){return i(this,void 0,void 0,function*(){let e=this.getComponent(r.default);e.dataList=this._rankingList,yield e.framingLoad(this._rankingList.length),p.default.hideLoading()})}show(e){super.show(e),this.showWithAction(!0)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"boxBtn":this.reqReceive();break;default:G.Logger.error("no find button name -> %s",e)}}reqReceive(){this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_NewRankingReceive,null)}refreshRank(){this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_NewRankingRecord,null)}start(){this.refreshRank()}newRankingReceiveRes(e){0==e.statusMsg.status?(this.boxNode.getComponent(sp.Skeleton).setAnimation(0,"kaixiang",!1),this.boxNode.getComponent(sp.Skeleton).setCompleteListener(()=>{this.boxNode.active=!1,this.refreshRank()}),dispatch("OpenBox"),p.default.showMsgBox("",s.Manager.makeLanguage(["RANK.Receive",u.UtilMgr.changeMoney(e.reward)]),null,"btn_OK")):p.default.showMsgBox("",s.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}showBox(){1==this._isWin&&0==this._receiveStatus?(this.boxNode.active=!0,this.boxNode.getComponent(sp.Skeleton).setAnimation(0,"daiji",!0)):this.boxNode.active=!1,this.draw.active=1!=this._isWin||!!this._receiveStatus,this.updateBoxTime(this._contDown),this._contDown<=0&&(this.boxTime.node.active=!1,this.draw.active=!1),this.boxTime.node.active=this.draw.active}updateBoxTime(e){this.timeInterval=()=>{e-=1e3,this.conversionTime(e),0==e&&(this.unschedule(this.timeInterval),this.timeInterval=null,this.refreshRank())},e>0?this.schedule(this.timeInterval,1):0==e&&(this.unscheduleAllCallbacks(),this.timeInterval&&(this.unschedule(this.timeInterval),this.timeInterval=null),this.refreshRank())}conversionTime(e){let t=parseInt(e)/36e5,n=parseInt(t.toString()),o=parseInt((e%36e5/6e4).toString()),i=parseInt((e%6e4/1e3).toString()),a=(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i);this.boxTime.string=a}onDestroy(){super.onDestroy(),this.unscheduleAllCallbacks(),this.timeInterval&&(this.unschedule(this.timeInterval),this.timeInterval=null)}};o([m(cc.ScrollView)],f.prototype,"scrollView",void 0),o([m(cc.Node)],f.prototype,"noRecords",void 0),o([m(cc.Node)],f.prototype,"boxNode",void 0),o([m(cc.Label)],f.prototype,"boxTime",void 0),o([m(cc.Node)],f.prototype,"draw",void 0),f=o([g,d.injectService(l.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/component/ScroViewCtrl":"ScroViewCtrl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp"}],RedPakgeOpenView:[function(e,t,n){"use strict";cc._RF.push(t,"f2468u+7j5NC5y8axWOhl2z","RedPakgeOpenView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../framework/base/Defines"),r=i(e("../framework/ui/UIView")),s=e("../global/UtilMgr"),{ccclass:c,property:l}=cc._decorator;let d=class extends r.default{constructor(){super(...arguments),this.amountLab=null,this.nameLab=null,this.head=null,this.head2=null,this.headNode=null,this.hongbaoSpine=null,this.caidaiSpine=null,this._data=null,this.isEnabledTouch=!0}static getPrefabUrl(){return"redPakge/prefabs/RedPakgeOpenView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}bindingEvents(){super.bindingEvents()}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this._data=e[0])}start(){this.hongbaoSpine.paused=!0,this.caidaiSpine.paused=!0,this.amountLab.node.parent.active=!1,this.showContent()}showContent(){let e=this.getData();e&&(G.Logger.log(e),this.isEnabledTouch=!0,this.hongbaoSpine.setAnimation(0,"newAnimation",!1),this.caidaiSpine.setAnimation(0,"newAnimation",!1),this.hongbaoSpine.paused=!0,this.caidaiSpine.paused=!0,this.amountLab.node.parent.active=!1,this.headNode.active=!0,s.UtilMgr.loadHeadImg(this.head,e.headImgUrl,e.userId,this),s.UtilMgr.loadHeadImg(this.head2,e.headImgUrl,e.userId,this),this.amountLab.string="\u20b9"+s.UtilMgr.changeMoney(e.receiveAmount),this.nameLab.string=s.UtilMgr.setString(e.nickname))}getData(){return this._data&&this._data[0]?this._data[0]:null}removeData(){this._data[0]&&this._data.splice(0,1)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"onClickNode":this.showRedPakge();break;default:G.Logger.error("no find button name -> %s",e)}}showRedPakge(){this.getData()&&this.isEnabledTouch&&(this.isEnabledTouch=!1,this.hongbaoSpine.paused=!1,this.caidaiSpine.paused=!1,this.hongbaoSpine.setAnimation(0,"newAnimation",!1),this.caidaiSpine.setAnimation(0,"newAnimation",!1),this.amountLab.node.parent.active=!1,this.scheduleOnce(()=>{this.audioHelper.playEffect("common/audio/openRedpackge",a.BUNDLE_RESOURCES),this.headNode.active=!1,this.amountLab.node.parent.active=!0},.6),this.scheduleOnce(()=>{this.removeData(),this.showContent()},1.5))}onDestroy(){this.unscheduleAllCallbacks(),super.onDestroy()}};o([l(cc.Label)],d.prototype,"amountLab",void 0),o([l(cc.Label)],d.prototype,"nameLab",void 0),o([l(cc.Sprite)],d.prototype,"head",void 0),o([l(cc.Sprite)],d.prototype,"head2",void 0),o([l(cc.Node)],d.prototype,"headNode",void 0),o([l(sp.Skeleton)],d.prototype,"hongbaoSpine",void 0),o([l(sp.Skeleton)],d.prototype,"caidaiSpine",void 0),d=o([c],d),n.default=d,cc._RF.pop()},{"../framework/base/Defines":"Defines","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],RedPakgeReceiveItem:[function(e,t,n){"use strict";cc._RF.push(t,"b4cd71t7MlHbKFIK0PoRVFo","RedPakgeReceiveItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=e("../common/manager/Manager"),s=e("../global/UtilMgr"),{ccclass:c,property:l}=cc._decorator;let d=class extends a.default{constructor(){super(...arguments),this.nameLabel=null,this.timeLabel=null,this.amountLabel=null}updateItem(e,t){super.updateItem(e,t),e&&(this.nameLabel.string=r.Manager.getLanguage("REDPAKGE.receiveFrom")+s.UtilMgr.setString(e.nickname),this.amountLabel.string="\u20b9"+s.UtilMgr.changeMoney(e.receiveAmount),this.timeLabel.language=new Date(e.receiveTime).format("MM-dd hh:mm:ss"))}onClick(e,t){switch(e.target.name){case"shareBtn":this.onShare();break;default:this.onShowInfo()}}onShowInfo(){dispatch("showRedPakgeRecordDetail",this._data)}onShare(){}};o([l(cc.Label)],d.prototype,"nameLabel",void 0),o([l(cc.Label)],d.prototype,"timeLabel",void 0),o([l(cc.Label)],d.prototype,"amountLabel",void 0),d=o([c],d),n.default=d,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../common/manager/Manager":"Manager","../global/UtilMgr":"UtilMgr"}],RedPakgeReceive:[function(e,t,n){"use strict";cc._RF.push(t,"559f3TamoNMMIptTFEPA73g","RedPakgeReceive");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewLogic")),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),{ccclass:d,property:h}=cc._decorator;let u=class extends l.default{constructor(){super(...arguments),this.noTipNode=null,this.listNode=null,this.scroViewLogic=null}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent(c.makeKey(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_RedPacketReceiveRecord),this.refreshList)}onEnable(){this.initUI();let e=r.protoPackage.hall.RedPacketSendRecordReq.create({currentPage:1}),t=r.protoPackage.hall.RedPacketSendRecordReq.encode(e).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_RedPacketReceiveRecord,t)}initUI(){this.listNode.active=!1,this.noTipNode.active=!0}refreshList(e){e&&0==e.statusMsg.status&&e.redPacketReceiveRecord&&e.redPacketReceiveRecord.length>0&&(this.listNode.active=!0,this.noTipNode.active=!1,this.scroViewLogic.initUI(e.redPacketReceiveRecord))}};o([h(cc.Node)],u.prototype,"noTipNode",void 0),o([h(cc.Node)],u.prototype,"listNode",void 0),o([h(a.default)],u.prototype,"scroViewLogic",void 0),u=o([d,c.injectService(s.LobbyService.instance)],u),n.default=u,cc._RF.pop()},{"../common/component/ScroViewLogic":"ScroViewLogic","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView"}],RedPakgeRecordDetailItem:[function(e,t,n){"use strict";cc._RF.push(t,"cebfezY7X1IW4acJhOOMaes","RedPakgeRecordDetailItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=i(e("../framework/ui/UIView")),s=e("../global/UtilMgr"),{ccclass:c,property:l}=cc._decorator;let d=class extends a.default{constructor(){super(...arguments),this.head=null,this.userIdLabel=null,this.amountLabel=null,this.nameLabel=null,this.stateLabel=null,this.newTipNode=null,this.view=null}updateItem(e,t){super.updateItem(e,t),e&&(s.UtilMgr.loadHeadImg(this.head,e.headImgUrl,e.userId,this.view),this.userIdLabel.string="ID:"+e.userId,this.nameLabel.string=s.UtilMgr.setString(e.nickname),this.amountLabel.string="\u20b9"+s.UtilMgr.changeMoney(e.receiveAmount),this.stateLabel.language=new Date(e.receiveTime).format("MM-dd hh:mm:ss"),this.newTipNode.active=1==e.new)}};o([l(cc.Sprite)],d.prototype,"head",void 0),o([l(cc.Label)],d.prototype,"userIdLabel",void 0),o([l(cc.Label)],d.prototype,"amountLabel",void 0),o([l(cc.Label)],d.prototype,"nameLabel",void 0),o([l(cc.Label)],d.prototype,"stateLabel",void 0),o([l(cc.Node)],d.prototype,"newTipNode",void 0),o([l(r.default)],d.prototype,"view",void 0),d=o([c],d),n.default=d,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],RedPakgeRecordDetail:[function(e,t,n){"use strict";cc._RF.push(t,"a954655BgxCw4IwFZ2wjKJv","RedPakgeRecordDetail");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewLogic")),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=e("../global/UtilMgr"),{ccclass:h,property:u}=cc._decorator;let p=class extends l.default{constructor(){super(...arguments),this.scroViewLogic=null,this.numRichText=null,this.amountRichText=null,this.noTipNode=null,this.recordsNode=null,this.closeBtn=null,this.data=null}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent(c.makeKey(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_RedPacketDetails),this.refreshList)}onEnable(){let e=r.protoPackage.hall.RedPacketDetailsReq.create({id:this.data.id,currentPage:1}),t=r.protoPackage.hall.RedPacketDetailsReq.encode(e).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_RedPacketDetails,t),this.recordsNode.active=!1,this.closeBtn.active=!1}onDisable(){this.closeBtn.active=!0}init(e){this.data=e}refreshList(e){e&&0==e.statusMsg.status&&(e.redPacket?(this.numRichText.string="<color=#cc0202>"+e.redPacket.receivedNumber+"</c><color=#805326>/"+e.redPacket.number+"</color>",this.amountRichText.string="<color=#cc0202>\u20b9"+d.UtilMgr.changeMoney(e.redPacket.receivedAmount)+"</c><color=#805326>/\u20b9"+d.UtilMgr.changeMoney(e.redPacket.totalAmount)+"</color>",this.scroViewLogic.resetData(),e.redPacketReceiveRecord.length>0?(this.noTipNode.active=!1,this.scroViewLogic.initUI(e.redPacketReceiveRecord)):this.noTipNode.active=!0):this.noTipNode.active=!0)}onClick(e){switch(e){case"detailClose":this.node.active=!1,this.recordsNode.active=!0;break;default:G.Logger.error("no find button name -> %s",e)}}};o([u(a.default)],p.prototype,"scroViewLogic",void 0),o([u(cc.RichText)],p.prototype,"numRichText",void 0),o([u(cc.RichText)],p.prototype,"amountRichText",void 0),o([u(cc.Node)],p.prototype,"noTipNode",void 0),o([u(cc.Node)],p.prototype,"recordsNode",void 0),o([u(cc.Node)],p.prototype,"closeBtn",void 0),p=o([h,c.injectService(s.LobbyService.instance)],p),n.default=p,cc._RF.pop()},{"../common/component/ScroViewLogic":"ScroViewLogic","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],RedPakgeRecordItem:[function(e,t,n){"use strict";cc._RF.push(t,"93728R+E2dCeb8PtN34ejGE","RedPakgeRecordItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=e("../common/manager/Manager"),s=e("../framework/base/Defines"),c=e("../global/UtilMgr"),l=i(e("./RedPakgeShareView")),{ccclass:d,property:h}=cc._decorator;let u=class extends a.default{constructor(){super(...arguments),this.typeLabel=null,this.codeLabel=null,this.amountLabel=null,this.numLabel=null,this.stateLabel=null,this.shareBtn=null}updateItem(e,t){super.updateItem(e,t),e&&(this.typeLabel.language=1==e.type?r.Manager.makeLanguage("REDPAKGE.recordAverageType"):r.Manager.makeLanguage("REDPAKGE.recordRandomType"),this.codeLabel.string=e.receiveCode,this.amountLabel.string="\u20b9"+c.UtilMgr.changeMoney(e.totalAmount),this.numLabel.string=e.receivedNumber+"/"+e.number,(new Date).getTime()>e.expireTime?(this.shareBtn.node.active=!1,this.stateLabel.language=r.Manager.makeLanguage("REDPAKGE.Expired"),this.codeLabel.string=""):(this.shareBtn.node.active=!0,this.stateLabel.language=r.Manager.makeLanguage(["REDPAKGE.ValidUntil",new Date(e.expireTime).format("MM-dd hh:mm")]),e.receiveCode.length>0&&(this.codeLabel.string="("+e.receiveCode+")")))}onClick(e,t){switch(r.Manager.globalAudio.playEffect("common/audio/click",s.BUNDLE_RESOURCES),e.target.name){case"shareBtn":this.onShare();break;default:this.onShowInfo()}}onShowInfo(){dispatch("showRedPakgeRecordDetail",this._data)}onShare(){r.Manager.uiManager.open({type:l.default,bundle:s.BUNDLE_RESOURCES,args:[this._data.shareUrl]})}};o([h(cc.Label)],u.prototype,"typeLabel",void 0),o([h(cc.Label)],u.prototype,"codeLabel",void 0),o([h(cc.Label)],u.prototype,"amountLabel",void 0),o([h(cc.Label)],u.prototype,"numLabel",void 0),o([h(cc.Label)],u.prototype,"stateLabel",void 0),o([h(cc.Button)],u.prototype,"shareBtn",void 0),u=o([d],u),n.default=u,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../common/manager/Manager":"Manager","../framework/base/Defines":"Defines","../global/UtilMgr":"UtilMgr","./RedPakgeShareView":"RedPakgeShareView"}],RedPakgeRecord:[function(e,t,n){"use strict";cc._RF.push(t,"4de4cMxpsBDIplju7i+QCdq","RedPakgeRecord");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewLogic")),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("./RedPakgeRecordDetail")),{ccclass:h,property:u}=cc._decorator;let p=class extends l.default{constructor(){super(...arguments),this.noTipNode=null,this.listNode=null,this.eedPakgeRecordDetail=null,this.scroViewLogic=null}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent(c.makeKey(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_RedPacketSendRecord),this.refreshList),this.registerEvent("showRedPakgeRecordDetail",this.showDetail)}onEnable(){this.initUI();let e=r.protoPackage.hall.RedPacketSendRecordReq.create({currentPage:1}),t=r.protoPackage.hall.RedPacketSendRecordReq.encode(e).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_RedPacketSendRecord,t)}initUI(){this.eedPakgeRecordDetail.node.active=!1,this.listNode.active=!1,this.noTipNode.active=!0}refreshList(e){G.Logger.log(e),e&&0==e.statusMsg.status&&e.redPacket&&e.redPacket.length>0&&(this.listNode.active=!0,this.noTipNode.active=!1,this.scroViewLogic.initUI(e.redPacket))}showDetail(e){this.eedPakgeRecordDetail.init(e),this.eedPakgeRecordDetail.node.active=!0}};o([u(cc.Node)],p.prototype,"noTipNode",void 0),o([u(cc.Node)],p.prototype,"listNode",void 0),o([u(d.default)],p.prototype,"eedPakgeRecordDetail",void 0),o([u(a.default)],p.prototype,"scroViewLogic",void 0),p=o([h,c.injectService(s.LobbyService.instance)],p),n.default=p,cc._RF.pop()},{"../common/component/ScroViewLogic":"ScroViewLogic","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","./RedPakgeRecordDetail":"RedPakgeRecordDetail"}],RedPakgeSend:[function(e,t,n){"use strict";cc._RF.push(t,"560d2yR/kRBoKfX6XzipE8t","RedPakgeSend");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=i(e("../framework/ui/UIView")),u=e("../global/User"),p=e("../global/UtilMgr"),g=i(e("../msgbox/PanelHelp")),m=i(e("./RedPakgeShareView")),f={nomal:cc.color(198,117,49),red:cc.color(230,23,23)},{ccclass:b,property:y}=cc._decorator;let _=class extends h.default{constructor(){super(...arguments),this.typeTip=null,this.numTip=null,this.amountTip=null,this.validityTip=null,this.codeTip=null,this.redIconNum=null,this.redIconAmount=null,this.redIconValidity=null,this.typeEditBox=null,this.numEditBox=null,this.amountEditBox=null,this.validityEditBox=null,this.codeEditBox=null,this.typePanel=null,this.infoPanel=null,this.infoContentPanel=null,this.bgUp=null,this.upNode=null,this.title=null,this.infoTypeLab=null,this.infoNumLab=null,this.infoAmountLab=null,this.infoValidityLab=null,this.infoCodeLab=null,this.infoTypeTip=null,this.infoNumTip=null,this.infoAmountTip=null,this.infoValidityTip=null,this.infoCodeTip=null,this.labAverage=null,this.labRandom=null,this.maxAmountLab=null,this._issend=!1,this._maxAmount=0}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_SendRedPacket),this.sendCallBack),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_PreSendRedPacket),this.preCallBack)}preCallBack(e){e&&0==e.statusMsg.status?(this._maxAmount=Math.floor(e.maximumAmount/1e4),this.maxAmountLab.node.active=!0,this.maxAmountLab.string=a.i18n.REDPAKGE.amountlabMaxTip+p.UtilMgr.changeMoney(1e4*this._maxAmount)):g.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}sendCallBack(e){e&&0==e.statusMsg.status?(this.resetData(),this.infoContentPanel.runAction(cc.sequence(cc.moveTo(.2,cc.v2(0,-200)),cc.delayTime(.2),cc.callFunc(()=>{this.hideInfoPanel(),e.shareUrl&&r.Manager.uiManager.open({type:m.default,bundle:l.BUNDLE_RESOURCES,args:[e.shareUrl]})}))),this.title.active=!1,this.bgUp.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(()=>{this.bgUp.zIndex=2}),cc.scaleTo(.2,1,-1)))):(this._issend=!1,g.default.showTip(r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}onEnable(){this.initUI(),this.reqPreSendRedPacket()}reqPreSendRedPacket(){this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_PreSendRedPacket,null)}initUI(){this.infoTypeTip.language=this.typeTip.language=r.Manager.makeLanguage("REDPAKGE.typelabTip"),this.infoNumTip.language=this.numTip.language=r.Manager.makeLanguage("REDPAKGE.numlabTip"),this.infoAmountTip.language=this.amountTip.language=r.Manager.makeLanguage("REDPAKGE.amountlabTip"),this.infoValidityTip.language=this.validityTip.language=r.Manager.makeLanguage("REDPAKGE.validitylabTip"),this.infoCodeTip.language=this.codeTip.language=r.Manager.makeLanguage("REDPAKGE.codelabTip"),this.typeEditBox.enabled=!1,this.typeEditBox.string=r.Manager.getLanguage("REDPAKGE.randomTypeTip"),this.numEditBox.placeholder=r.Manager.getLanguage("REDPAKGE.numPlaceholderTip"),this.amountEditBox.placeholder=r.Manager.getLanguage("REDPAKGE.amountPlaceholderTip"),this.validityEditBox.placeholder=r.Manager.getLanguage("REDPAKGE.validityPlaceholderTip"),this.codeEditBox.placeholder=r.Manager.getLanguage("REDPAKGE.codePlaceholderTip"),this.labAverage.language=r.Manager.makeLanguage("REDPAKGE.averageTypeTip"),this.labRandom.language=r.Manager.makeLanguage("REDPAKGE.randomTypeTip"),this.typePanel.active=!1,this.redType=2,this.numEditBox.string="",this.amountEditBox.string="",this.validityEditBox.string="24",this.codeEditBox.string=this.getRandomCode(),this.resetRedTip(),this.hideInfoPanel()}resetData(){this.numEditBox.string="",this.amountEditBox.string="",this.validityEditBox.string="24",this.codeEditBox.string=this.getRandomCode()}resetRedTip(){this.redIconNum.active=!1,this.redIconAmount.active=!1,this.redIconValidity.active=!1,this.numTip.node.color=f.nomal,this.amountTip.node.color=f.nomal,this.validityTip.node.color=f.nomal,this.maxAmountLab.node.color=f.nomal}onClick(e,t){switch(e){case"confirm":this.onClickConfirm();break;case"typeEditbox":this.showType();break;case"infoClose":this.hideInfoPanel();break;case"infoConfirm":this.onClickInfoConfirm();break;case"infoCancel":this.hideInfoPanel();break;default:G.Logger.error("no find button name -> %s",e)}}showInfoPanel(){this.infoContentPanel.y=0,this.upNode.zIndex=1,this.title.active=!0,this.bgUp.stopAllActions(),this.bgUp.zIndex=0,this.bgUp.scaleY=1,this.infoPanel.active=!0}hideInfoPanel(){this.infoPanel.active=!1,this.infoContentPanel.y=0,this.title.active=!0,this.bgUp.stopAllActions(),this.bgUp.zIndex=0,this.bgUp.scaleY=1,this._issend=!1}showType(){this.typePanel.active=!this.typePanel.active}onNumEditboxEnd(e,t){let n=e.string;n&&n!=parseInt(n)&&(n=parseInt(n)),parseInt(n)<1?e.string=1:parseInt(n)>100?e.string=100:e.string=n,parseInt(e.string)>0&&(this.numTip.node.color=f.nomal,this.redIconNum.active=!1)}onAmountEditboxEnd(e,t){let n=e.string;n&&n!=parseInt(n)&&(n=parseInt(n));let o=u.User._gold/1e4,i=parseInt(o.toString());parseInt(n)<1?e.string=o<1?0:1:parseInt(n)>i?e.string=i>=1?i:0:e.string=n,parseInt(e.string)>0&&(this.amountTip.node.color=f.nomal,this.redIconAmount.active=!1),parseInt(e.string)>this._maxAmount?this.maxAmountLab.node.color=f.red:this.maxAmountLab.node.color=f.nomal}onValiditEditboxEnd(e,t){let n=e.string;n&&n!=parseInt(n)&&(n=parseInt(n)),parseInt(n)<1?e.string=1:parseInt(n)>200?e.string=200:e.string=n,parseInt(e.string)>0&&(this.validityTip.node.color=f.nomal,this.redIconValidity.active=!1)}onCodeEditboxEnd(e,t){let n=e.string;if(n){if(n.length<6)return void(e.string="");n!=parseInt(n)&&(n=parseInt(n))}e.string=n}getRandomCode(){let e="";for(var t=1;t<=6;t++)e+=Math.floor(10*Math.random());return e}onClickNumSub(){if(this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES),this.numEditBox.string){let e=parseInt(this.numEditBox.string);e--,this.numEditBox.string=e.toString(),this.onNumEditboxEnd(this.numEditBox,"")}}onClickNumAdd(){if(this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES),this.numEditBox.string){let e=parseInt(this.numEditBox.string);e++,this.numEditBox.string=e.toString(),this.onNumEditboxEnd(this.numEditBox,"")}}onClickValiditAdd(){if(this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES),this.validityEditBox.string){let e=parseInt(this.validityEditBox.string);e++,this.validityEditBox.string=e.toString(),this.onValiditEditboxEnd(this.validityEditBox,"")}}onClickValiditSub(){if(this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES),this.validityEditBox.string){let e=parseInt(this.validityEditBox.string);e--,this.validityEditBox.string=e.toString(),this.onValiditEditboxEnd(this.validityEditBox,"")}}onClickRandomType(){this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES),this.showType(),this.typeEditBox.string=r.Manager.getLanguage("REDPAKGE.randomTypeTip"),this.redType=2}onClickAverageType(){this.audioHelper.playEffect("common/audio/click",l.BUNDLE_RESOURCES),this.showType(),this.typeEditBox.string=r.Manager.getLanguage("REDPAKGE.averageTypeTip"),this.redType=1}onClickConfirm(){return""==this.numEditBox.string?(this.numTip.node.color=f.red,void(this.redIconNum.active=!0)):""==this.amountEditBox.string||0==parseInt(this.amountEditBox.string)||parseInt(this.amountEditBox.string)>this._maxAmount?(this.amountTip.node.color=f.red,void(this.redIconAmount.active=!0)):""==this.validityEditBox.string?(this.validityTip.node.color=f.red,void(this.redIconValidity.active=!0)):(this.infoTypeLab.string=this.typeEditBox.string,this.infoNumLab.string=this.numEditBox.string,this.infoAmountLab.string=this.amountEditBox.string,this.infoValidityLab.string=this.validityEditBox.string,this.infoCodeLab.string=this.codeEditBox.string||"-",void this.showInfoPanel())}onClickInfoConfirm(){0!=parseInt(this.amountEditBox.string)?this._issend||(this._issend=!0,this.reqSendRedPakge()):g.default.showTip(a.i18n.ERRORCODE[243])}reqSendRedPakge(){let e={type:this.redType,number:parseInt(this.numEditBox.string),totalAmount:1e4*parseInt(this.amountEditBox.string),validity:parseInt(this.validityEditBox.string),receiveCode:this.codeEditBox.string||""},t=s.protoPackage.hall.SendRedPacketReq.create(e),n=s.protoPackage.hall.SendRedPacketReq.encode(t).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_SendRedPacket,n)}};o([y(cc.Label)],_.prototype,"typeTip",void 0),o([y(cc.Label)],_.prototype,"numTip",void 0),o([y(cc.Label)],_.prototype,"amountTip",void 0),o([y(cc.Label)],_.prototype,"validityTip",void 0),o([y(cc.Label)],_.prototype,"codeTip",void 0),o([y(cc.Node)],_.prototype,"redIconNum",void 0),o([y(cc.Node)],_.prototype,"redIconAmount",void 0),o([y(cc.Node)],_.prototype,"redIconValidity",void 0),o([y(cc.EditBox)],_.prototype,"typeEditBox",void 0),o([y(cc.EditBox)],_.prototype,"numEditBox",void 0),o([y(cc.EditBox)],_.prototype,"amountEditBox",void 0),o([y(cc.EditBox)],_.prototype,"validityEditBox",void 0),o([y(cc.EditBox)],_.prototype,"codeEditBox",void 0),o([y(cc.Node)],_.prototype,"typePanel",void 0),o([y(cc.Node)],_.prototype,"infoPanel",void 0),o([y(cc.Node)],_.prototype,"infoContentPanel",void 0),o([y(cc.Node)],_.prototype,"bgUp",void 0),o([y(cc.Node)],_.prototype,"upNode",void 0),o([y(cc.Node)],_.prototype,"title",void 0),o([y(cc.Label)],_.prototype,"infoTypeLab",void 0),o([y(cc.Label)],_.prototype,"infoNumLab",void 0),o([y(cc.Label)],_.prototype,"infoAmountLab",void 0),o([y(cc.Label)],_.prototype,"infoValidityLab",void 0),o([y(cc.Label)],_.prototype,"infoCodeLab",void 0),o([y(cc.Label)],_.prototype,"infoTypeTip",void 0),o([y(cc.Label)],_.prototype,"infoNumTip",void 0),o([y(cc.Label)],_.prototype,"infoAmountTip",void 0),o([y(cc.Label)],_.prototype,"infoValidityTip",void 0),o([y(cc.Label)],_.prototype,"infoCodeTip",void 0),o([y(cc.Label)],_.prototype,"labAverage",void 0),o([y(cc.Label)],_.prototype,"labRandom",void 0),o([y(cc.Label)],_.prototype,"maxAmountLab",void 0),_=o([b,d.injectService(c.LobbyService.instance)],_),n.default=_,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./RedPakgeShareView":"RedPakgeShareView"}],RedPakgeShareView:[function(e,t,n){"use strict";cc._RF.push(t,"fd336vQ58NHtr+BlU7voD7o","RedPakgeShareView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=i(e("../framework/ui/UIView")),c=e("../global/User"),l=e("../global/UtilMgr"),d=i(e("../msgbox/PanelHelp")),h=e("../platform/android"),u=i(e("./RedPakgeView")),{ccclass:p,property:g}=cc._decorator;let m=class extends s.default{constructor(){super(...arguments),this.share=null,this.head=null,this.icon=null,this.shareLabel=null,this.faceBookLabel=null,this.saveImageLabel=null,this.copyLineLabel=null,this.shareUrl=null,this._isSaveIamge=!1}static getPrefabUrl(){return"redPakge/prefabs/RedPakgeShareView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}bindingEvents(){super.bindingEvents(),this.registerEvent("handleSaveImageToLocal",e=>{e&&(this.unscheduleAllCallbacks(),d.default.showTip(a.i18n.REDPAKGE.saveSuccess),this._isSaveIamge=!1)})}show(e){super.show(e),this.showWithAction(!0),e[0]&&(this.shareUrl=e[0])}start(){this.initIU(),r.Manager.uiManager.getView(u.default).then(e=>{e&&(e.node.active=!1)})}initIU(){if(this.shareUrl){l.UtilMgr.loadHeadImg(this.head,c.User._headImgUrl,c.User._userID,this);let e=this.shareUrl.split("&url=")[1];this.createQRcode(decodeURIComponent(e)),this.shareLabel.language=r.Manager.makeLanguage("REDPAKGE.shareTo"),this.faceBookLabel.language=r.Manager.makeLanguage("REDPAKGE.faceBook"),this.saveImageLabel.language=r.Manager.makeLanguage("REDPAKGE.saveImage"),this.copyLineLabel.language=r.Manager.makeLanguage("REDPAKGE.copyLink")}}createQRcode(e){var t=new window.QRCode(-1,3);t.addData(e),t.make(),this.icon.fillColor=cc.Color.BLACK;for(var n=this.icon.node.width/t.getModuleCount(),o=this.icon.node.height/t.getModuleCount(),i=0;i<t.getModuleCount();i++)for(var a=0;a<t.getModuleCount();a++)if(t.isDark(i,a)){var r=Math.ceil((a+1)*n)-Math.floor(a*n),s=Math.ceil((i+1)*n)-Math.floor(i*n);this.icon.rect(Math.round(a*n),Math.round(i*o),r,s),this.icon.fill()}}onClick(e,t){switch(e){case"close":this.closeWithAction(),r.Manager.uiManager.getView(u.default).then(e=>{e&&(e.node.active=!0)});break;case"facebook":this.shareToFacebook();break;case"instagram":this.shareToInstagram();break;case"whatApp":this.shareToWhatsApp();break;case"more":this.onMove();break;case"copy":this.onCopyInvateURL();break;case"save":this.onSaveImage();break;default:G.Logger.error("no find button name -> %s",e)}}shareToFacebook(){window.platformUtil.shareToFacebook(h.shareType.PHOTO,this.shareUrl,this.shareUrl)}shareToInstagram(){G.ShareHelpder.instagram.shareImage(this.shareUrl)}shareToWhatsApp(){G.ShareHelpder.whatsapp.shareImage(this.shareUrl)}onMove(){}onSaveImage(){this._isSaveIamge||(this._isSaveIamge=!0,l.UtilMgr.captureTexture(this.share),this.scheduleOnce(()=>{this._isSaveIamge=!1},5))}onCopyInvateURL(){let e=this.shareUrl.split("&url=")[1];window.platformUtil.copyToClip(decodeURIComponent(e))}onDestroy(){super.onDestroy(),this.unscheduleAllCallbacks()}};o([g(cc.Node)],m.prototype,"share",void 0),o([g(cc.Sprite)],m.prototype,"head",void 0),o([g(cc.Graphics)],m.prototype,"icon",void 0),o([g(cc.Label)],m.prototype,"shareLabel",void 0),o([g(cc.Label)],m.prototype,"faceBookLabel",void 0),o([g(cc.Label)],m.prototype,"saveImageLabel",void 0),o([g(cc.Label)],m.prototype,"copyLineLabel",void 0),m=o([p],m),n.default=m,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","../platform/android":"android","./RedPakgeView":"RedPakgeView"}],RedPakgeView:[function(e,t,n){"use strict";cc._RF.push(t,"7ca50vkGvdE3Kv4o/7p5py3","RedPakgeView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.sendNode=null,this.recordsNode=null,this.receiveNode=null,this.recordsDetailNode=null}static getPrefabUrl(){return"redPakge/prefabs/RedPakgeView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.sendNode.active=!1,this.recordsNode.active=!1,this.receiveNode.active=!1}bindingEvents(){super.bindingEvents()}show(e){super.show(e),this.showWithAction(!0)}start(){this.showSend()}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"send":this.showSend();break;case"records":this.showRecords();break;case"receive":this.showReceive();break;default:G.Logger.error("no find button name -> %s",e)}}showSend(){this.sendNode.active=!0,this.recordsNode.active=!1,this.receiveNode.active=!1,this.recordsDetailNode.active=!1}showRecords(){this.sendNode.active=!1,this.recordsNode.active=!0,this.receiveNode.active=!1,this.recordsDetailNode.active=!1}showReceive(){this.sendNode.active=!1,this.recordsNode.active=!1,this.receiveNode.active=!0,this.recordsDetailNode.active=!1}update(e){}};o([s(cc.Node)],c.prototype,"sendNode",void 0),o([s(cc.Node)],c.prototype,"recordsNode",void 0),o([s(cc.Node)],c.prototype,"receiveNode",void 0),o([s(cc.Node)],c.prototype,"recordsDetailNode",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],RegisterView:[function(e,t,n){"use strict";cc._RF.push(t,"2b8edPKxP5JsZkfr8jRqC2l","RegisterView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("../msgbox/PanelHelp")),h=i(e("./Validator")),u=e("../framework/external/protoc"),p=i(e("../common/component/CountDownCode")),{ccclass:g,property:m}=cc._decorator;let f=class extends l.default{constructor(){super(...arguments),this.btnClose=null,this.btnDaftar=null,this.hidePassNode=null,this.emailEditBox=null,this.m_emailStr="",this.codeEditBox=null,this.m_codeStr="",this.passwordEditBox=null,this.m_passwordStr="",this.phoneEditBox=null,this.m_phoneStr="",this.btnCountDown=null,this.extentEditBox=null,this.m_extentStr="",this.service=null}static getPrefabUrl(){return"login/prefabs/RegisterView"}onLoad(){super.onLoad(),this.bindEvents(),this.btnClose.on(cc.Node.EventType.TOUCH_END,()=>{this.close()}),this.btnCountDown.active=!1}bindEvents(){this.emailEditBox.node.on("editing-did-began",this.onEmailBegan,this),this.emailEditBox.node.on("editing-did-ended",this.onEmailEnded,this),this.emailEditBox.node.on("editing-return",this.onEmailEnded,this),this.emailEditBox.node.on("text-changed",this.onEmailChanged,this),this.codeEditBox.node.on("editing-did-began",this.onCodeBegan,this),this.codeEditBox.node.on("editing-did-ended",this.onCodeEnded,this),this.codeEditBox.node.on("editing-return",this.onCodeEnded,this),this.codeEditBox.node.on("text-changed",this.onCodeChanged,this),this.passwordEditBox.node.on("editing-did-began",this.onPassWordBegan,this),this.passwordEditBox.node.on("editing-did-ended",this.onPassWordEnded,this),this.passwordEditBox.node.on("editing-return",this.onPassWordEnded,this),this.passwordEditBox.node.on("text-changed",this.onPassWordChanged,this),this.extentEditBox.node.on("editing-did-began",this.onExtentBegan,this),this.extentEditBox.node.on("editing-did-ended",this.onExtentEnded,this),this.extentEditBox.node.on("editing-return",this.onExtentEnded,this),this.extentEditBox.node.on("text-changed",this.onExtentChanged,this)}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_S2C_GetCheckCode",this.onEvent_S2C_GetCheckCode),this.registerEvent("Event_S2C_Register",this.onEvent_S2C_Register)}validataFunc(){let e=new h.default,t=this.m_codeStr;e.add(t,[{strategy:"isNonEmpty",errorMsg:a.i18n.REGISTER.CODEINFORMATIONEMPTY}]);let n=this.m_emailStr;e.add(n,[{strategy:"isNonEmpty",errorMsg:a.i18n.REGISTER.EMAILINFORMATIONEMPTY}]);let o=this.m_passwordStr;return e.add(o,[{strategy:"minLength:8",errorMsg:a.i18n.REGISTER.PASSWORD8}]),e.add(o,[{strategy:"passwordRule",errorMsg:a.i18n.REGISTER.MUST_INCLUDE_CASE_NUMBER}]),e.start()}startCountDown(){this.btnCountDown.getComponent(p.default)._doStartTime()}clickRegister(){let e=this.validataFunc();e?d.default.showTip(e):this.requestRegister()}onEmailBegan(e){this.emailEditBox.string=this.m_emailStr}onEmailEnded(e){this.m_emailStr.length<=0||(this.emailEditBox.string=this.m_emailStr)}onEmailChanged(e){this.m_emailStr=e.string}onCodeBegan(e){this.codeEditBox.string=this.m_codeStr}onCodeEnded(e){this.m_codeStr.length<=0||(this.codeEditBox.string=this.m_codeStr)}onCodeChanged(e){this.m_codeStr=e.string}onPassWordBegan(e){this.passwordEditBox.string=this.m_passwordStr}onPassWordEnded(e){this.m_passwordStr.length<=0||(this.passwordEditBox.string=this.m_passwordStr)}onPassWordChanged(e){this.m_passwordStr=e.string}onPhoneBegan(e){this.phoneEditBox.string=this.m_phoneStr}onPhoneEnded(e){this.m_phoneStr.length<=0||(this.phoneEditBox.string=this.m_phoneStr)}onPhoneChanged(e){this.m_phoneStr=e.string}onExtentBegan(e){this.extentEditBox.string=this.m_extentStr}onExtentEnded(e){this.m_extentStr.length<=0||(this.extentEditBox.string=this.m_extentStr)}onExtentChanged(e){this.m_extentStr=e.string}onClick(e,t){switch(e){case"btnGetCode":this.clickGetCodeHanlder();break;case"btnClose":this.close();break;case"btnRegister":this.clickRegister();break;case"btnHidePassword":this.clickHidePass()}}clickHidePass(){let e=this.hidePassNode.getChildByName("iconHide"),t=this.hidePassNode.getChildByName("iconShow");e.active=!e.active,t.active=!t.active,this.passwordEditBox.inputFlag=t.active?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD}clickGetCodeHanlder(){let e=new h.default,t=this.m_emailStr;e.add(t,[{strategy:"isEmail",errorMsg:a.i18n.REGISTER.EMAILWRONG}]),e.add(t,[{strategy:"isNonEmpty",errorMsg:a.i18n.REGISTER.EMAILINFORMATIONEMPTY}]);let n=e.start();n?d.default.showTip(n):(this.startCountDown(),this.requestGetCheckCode())}requestGetCheckCode(){let e=this.m_emailStr,t=u.MST.C2S_GetCheckCode.create({serial:r.Manager.netManager.getNewSeqId(),username:e}),n=u.MST.C2S_GetCheckCode.encode(t).finish();s.LobbyService.instance.sendMsg(u.MST.C2S_GetCheckCode,u.MST.OuterOpcode_Lobby.C2S_GetCheckCode,n)}requestRegister(){let e=this.m_emailStr,t=this.m_passwordStr,n=this.m_codeStr,o=this.m_extentStr,i=r.Manager.localStorage.getItem("IMEI");i||(i="test imei"+Math.floor(1e4*Math.random()+1),r.Manager.localStorage.setItem("IMEI",i));let a=u.MST.C2S_Register.create({serial:r.Manager.netManager.getNewSeqId(),username:e,password:t,checkCode:n,extentCode:o,imei:i}),c=u.MST.C2S_Register.encode(a).finish();s.LobbyService.instance.sendMsg(u.MST.C2S_Register,u.MST.OuterOpcode_Lobby.C2S_Register,c)}onEvent_S2C_GetCheckCode(){d.default.showTip(a.i18n.REGISTER.PLEASECHECK)}onEvent_S2C_Register(){d.default.showTip(a.i18n.REGISTER.REGISTERSUCCESS),this.close()}};o([m(cc.Node)],f.prototype,"btnClose",void 0),o([m(cc.Node)],f.prototype,"btnDaftar",void 0),o([m(cc.Node)],f.prototype,"hidePassNode",void 0),o([m(cc.EditBox)],f.prototype,"emailEditBox",void 0),o([m(cc.EditBox)],f.prototype,"codeEditBox",void 0),o([m(cc.EditBox)],f.prototype,"passwordEditBox",void 0),o([m(cc.EditBox)],f.prototype,"phoneEditBox",void 0),o([m(cc.Node)],f.prototype,"btnCountDown",void 0),o([m(cc.EditBox)],f.prototype,"extentEditBox",void 0),f=o([g,c.injectService(s.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/component/CountDownCode":"CountDownCode","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./Validator":"Validator"}],ResourceLoader:[function(e,t,n){"use strict";cc._RF.push(t,"c2732/K5T1ACJsHnXRUvfbR","ResourceLoader"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResourceLoaderError=void 0;const o=e("../base/Defines"),i=e("../Framework");var a;(function(e){e[e.LOADING=0]="LOADING",e[e.NO_FOUND_LOAD_RESOURCE=1]="NO_FOUND_LOAD_RESOURCE",e[e.SUCCESS=2]="SUCCESS"})(a=n.ResourceLoaderError||(n.ResourceLoaderError={})),n.default=class{constructor(){this._resources=new Map,this._loadedCount=0,this._loadedResource=new Map,this._isLoading=!1,this._tag=null,this._onLoadComplete=null,this._getLoadResource=null}get tag(){return this._tag}set tag(e){this._tag=e}set onLoadComplete(e){this._onLoadComplete=e}get onLoadComplete(){return this._onLoadComplete}set onLoadProgress(e){this._onLoadProgress=e}get onLoadProgress(){return this._onLoadProgress}set getLoadResources(e){this._getLoadResource=e}get getLoadResources(){return this._getLoadResource}loadResources(){if(!this.getLoadResources)return void(this.onLoadComplete&&this.onLoadComplete(a.NO_FOUND_LOAD_RESOURCE));let e=this.getLoadResources();if(e)if(e.length<=0)this.onLoadComplete&&this.onLoadComplete(a.NO_FOUND_LOAD_RESOURCE);else if(this._isLoading)this.onLoadComplete&&this.onLoadComplete(a.LOADING);else{if(this._resources.size>0&&this.isLoadComplete())return this.onLoadComplete&&this.onLoadComplete(a.SUCCESS),void this.onLoadResourceComplete();this._isLoading=!0,e.forEach(e=>{e.url?this._resources.set(e.url,e):e.preloadView&&this._resources.set(e.preloadView.getPrefabUrl(),e)}),this._loadedCount=0,this._resources.forEach(e=>{e.preloadView?i.Manager.uiManager.preload(e.preloadView,e.bundle).then(t=>{let n=new o.ResourceCacheData;n.isLoaded=!0,n.data=t,n.url=e.preloadView.getPrefabUrl(),n.bundle=e.bundle,this._onLoadResourceComplete(n)}):i.Manager.assetManager.load(e.bundle,e.url,e.type,null,this._onLoadResourceComplete.bind(this))})}else this.onLoadComplete&&this.onLoadComplete(a.NO_FOUND_LOAD_RESOURCE)}unLoadResources(){this._unLoadResources()}_unLoadResources(){this._isLoading||this._resources.size<=0?this._isLoading&&cc.log("resources is loading , waiting for unload!!!"):(this._resources.size>0&&this._resources.forEach(e=>{if(e.url&&this._loadedResource.has(e.url)){let t=this._loadedResource.get(e.url);t&&i.Manager.assetManager.releaseAsset(t),this._loadedResource.delete(e.url)}}),this._isLoading=!1,this._loadedCount=0,this._resources.clear())}_onLoadResourceComplete(e){if(this._loadedCount++,this._onLoadProgress&&(this._loadedCount>this._resources.size&&(this._loadedCount=this._resources.size),this._onLoadProgress(this._loadedCount,this._resources.size,e)),e&&e.data instanceof cc.Asset){let t=new o.ResourceInfo;t.url=e.url,t.type=e.assetType,t.data=e.data,t.bundle=e.bundle,this._loadedResource.set(t.url,t)}this.checkLoadResourceComplete()}checkLoadResourceComplete(){this.isLoadComplete()&&(this._isLoading=!1,this.onLoadComplete&&this.onLoadComplete(a.SUCCESS),this.onLoadResourceComplete())}onLoadResourceComplete(){}isLoadComplete(){return this._loadedCount>=this._resources.size}},cc._RF.pop()},{"../Framework":"Framework","../base/Defines":"Defines"}],RichTextHandler:[function(e,t,n){"use strict";cc._RF.push(t,"91026bZRlJD2L85jQ0x5SlB","RichTextHandler");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.agreeUrl=null,this.termsUrl=null}agreeUrlHandler(){cc.sys.openURL(this.agreeUrl)}termsUrlHandler(){cc.sys.openURL(this.termsUrl)}};r=o([i],r),n.default=r,cc._RF.pop()},{}],RollNotice:[function(e,t,n){"use strict";cc._RF.push(t,"f4669YJDupOa5pHv/ZQ/ClJ","RollNotice");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.RollNoticeLogic=void 0;const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.Label=null,this.second=10,this.moveSize=80}onLoad(){super.onLoad(),this.node.parent.active=!0}bindingEvents(){super.bindingEvents(),this.registerEvent("rnotice.basestart",this.actionStart)}show(e){super.show(e)}start(){this.actionStart()}getContent(){return n.RollNoticeLogic.getContent()}actionStart(){this.Label.node.getNumberOfRunningActions()||this.isAction||this._action()}_action(){let e=this.getContent();if(!e)return void(this.node.parent.active=!1);this.node.parent.active=!0,this.isAction=!0,this.Label.string=this.formatContent(e);let t=this.node.width/2+this.Label.node.width/2+20;this.Label.node.x=t;let o=Math.floor(t/this.moveSize);cc.tween(this.Label.node).to(o,{position:cc.v2(-t,0)}).call(()=>{n.RollNoticeLogic.removeContent(),this.isAction=!1,this._action()}).start()}formatContent(e){let t=e.replace(/\[/g,"<");return t.replace(/\]/g,">")}};o([s(cc.RichText)],c.prototype,"Label",void 0),c=o([r],c),n.default=c,n.RollNoticeLogic=new class{constructor(){this.content_list=[],this.addContent=function(e){this.content_list.push(e),1===this.content_list.length&&dispatch("rnotice.basestart")},this.removeContent=function(){this.content_list[0]&&this.content_list.splice(0,1)}}getContent(){return this.content_list[0]?this.content_list[0]:null}},cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],RoomFruitPartyItem:[function(e,t,n){"use strict";cc._RF.push(t,"9750bfdG8VOr6UqkbHvlnJ0","RoomFruitPartyItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/config/Config"),r=e("../common/event/LogicEvent"),s=e("../common/language/LanguageImpl"),c=e("../common/manager/Manager"),l=e("../common/net/LobbyService"),d=e("../framework/decorator/Decorators"),h=e("../framework/external/protoc"),u=i(e("../msgbox/PanelHelp")),p=i(e("./RoomItemBase")),{ccclass:g,property:m}=cc._decorator;let f=class extends p.default{onLoad(){super.onLoad(),this.updateView()}start(){}updateView(){let e=c.Manager.language.getLanguage();if(this.m_infoType===h.com.bt.game.proto.hall.RoomInfoType.Pve){let t=this.m_data,n=null;0===t.gameType?n=e==cc.sys.LANGUAGE_HINDI?this.spfPublicRoomHI:this.spfPublicRoom:1===t.gameType&&(n=e==cc.sys.LANGUAGE_HINDI?this.spfAgentRoomHI:this.spfAgentRoom),this.imgRoom.spriteFrame=n}else this.m_infoType===h.com.bt.game.proto.hall.RoomInfoType.Pvp||G.Logger.warn(`\u623f\u95f4\u7c7b\u578b\u9519\u8bef ${this.m_infoType}`)}onClickEnter(){super.playDefaultEffect();let e={gameId:a.Config.GameId.FruitParty,areaId:this.m_data.areaId,deskId:this.m_data.roomId};dispatch(r.LogicEvent.ENTER_GAME_MATCH,e),u.default.showLoading(s.i18n.Waiting.EnterGame)}};f=o([g,d.injectService(l.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/config/Config":"Config","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../msgbox/PanelHelp":"PanelHelp","./RoomItemBase":"RoomItemBase"}],RoomItemBase:[function(e,t,n){"use strict";cc._RF.push(t,"0e6fcB7O3tM0618kyeGTneT","RoomItemBase");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.spfAgentRoom=null,this.spfPublicRoom=null,this.spfAgentRoomHI=null,this.spfPublicRoomHI=null,this.imgRoom=null,this.m_gameId=null,this.m_infoType=null,this.m_data=null}onLoad(){}start(){}preloadData(e,t,n){this.m_gameId=e,this.m_infoType=t,this.m_data=n}};o([s(cc.SpriteFrame)],c.prototype,"spfAgentRoom",void 0),o([s(cc.SpriteFrame)],c.prototype,"spfPublicRoom",void 0),o([s(cc.SpriteFrame)],c.prototype,"spfAgentRoomHI",void 0),o([s(cc.SpriteFrame)],c.prototype,"spfPublicRoomHI",void 0),o([s(cc.Sprite)],c.prototype,"imgRoom",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/ui/UIView":"UIView"}],RoomItemInterface:[function(e,t,n){"use strict";cc._RF.push(t,"9f248I27TZMtqkAQZuO6P4Q","RoomItemInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],RoomListGuide:[function(e,t,n){"use strict";cc._RF.push(t,"9bcf5NS6TRNH6XRavRWvEqC","RoomListGuide");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../framework/ui/UIView")),r=e("../global/User"),s=e("../common/net/CommonService"),c=e("../framework/decorator/Decorators"),l=e("../common/net/LobbyService"),d=e("../common/config/Config"),h=i(e("./RoomTexaCowTableItem")),u=i(e("./RoomFruitPartyItem")),p=i(e("./RoomRedVsBlackItem")),{ccclass:g,property:m}=cc._decorator;let f=class extends a.default{constructor(){super(...arguments),this.m_data=null}static getPrefabUrl(){return"roomlist/prefabs/RoomListGuide"}onLoad(){super.onLoad(),this.room=this.node.getChildByName("room"),this.room.active=!1}show(e){super.show(e),e[0]&&"RoomListView"==cc.js.getClassName(e[0])&&(this.roomListView=e[0],this.step=0,this.setStep()),this.m_data=e[1]}start(){}setStep(){let e;switch(this.step++,this.step){case 1:this.room.active=!0,this.roomListView.scvRoomList.content.children.length>0&&(e=this.roomListView.scvRoomList.content.children[0].convertToWorldSpaceAR(cc.v2(0,0))),this.room.getChildByName("mask").getComponent(cc.Mask).type=cc.Mask.Type.RECT,this.room.getChildByName("mask").setPosition(this.node.convertToNodeSpaceAR(e)),this.room.getChildByName("mask").setContentSize(cc.size(354,372)),this.room.getChildByName("jiantou").active=!0,this.room.getChildByName("jiantou").x=this.room.getChildByName("mask").x,this.room.getChildByName("jiantou").y=this.room.getChildByName("mask").y+this.room.getChildByName("mask").height/2+50;break;case 2:this.toGame(),this.reqGuide(),this.close()}}onClick(e,t){switch(e){case"skip":this.node.active=!1,this.reqGuide();break;default:this.setStep()}}toGame(){switch(this.m_data.gameId){case d.Config.GameId.TexaCowTable:this.roomListView.scvRoomList.content.children[0].getComponent(h.default);break;case d.Config.GameId.FruitParty:this.roomListView.scvRoomList.content.children[0].getComponent(u.default);break;case d.Config.GameId.RedVsBlack:this.roomListView.scvRoomList.content.children[0].getComponent(p.default)}(void 0).onClickEnter()}reqGuide(){if(G.Logger.log(r.User._gameIds),-1===r.User._gameIds.indexOf(2002)){let e=s.protoPackage.hall.ReqInsertNewPlayerGuid.create({gameId:2002}),t=s.protoPackage.hall.ReqInsertNewPlayerGuid.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_ReqInsertNewPlayerGuid,t)}}};f=o([g,c.injectService(l.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/config/Config":"Config","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","./RoomFruitPartyItem":"RoomFruitPartyItem","./RoomRedVsBlackItem":"RoomRedVsBlackItem","./RoomTexaCowTableItem":"RoomTexaCowTableItem"}],RoomListView:[function(e,t,n){"use strict";cc._RF.push(t,"3855bRNSeZNYZWtRx/he/Pv","RoomListView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/config/Config"),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=e("../framework/external/protoc"),d=i(e("../framework/ui/UIView")),h=e("../global/User"),u=e("../global/UtilMgr"),p=i(e("../msgbox/PanelHelp")),g=e("../framework/Framework"),m=e("../framework/base/Defines"),f=e("../framework/event/EventApi"),{ccclass:b,property:y,menu:_}=cc._decorator;let v=class extends d.default{constructor(){super(...arguments),this.labNick=null,this.labId=null,this.labChip=null,this.notice=null,this.scvRoomList=null,this.imgGameName=null,this.pfbRoomItemDznz=null,this.pfbRoomRedVsBlackItem=null,this.pfbRoomFruitPartyItem=null,this.spfRoomItemDznz=null,this.spfRoomRedVsBlackItem=null,this.spfRoomFruitPartyItem=null,this.spfRoomRedVsBlackItemHI=null,this.spfRoomFruitPartyItemHI=null,this.m_data=null}static getPrefabUrl(){return"roomlist/prefabs/RoomListView"}bindingEvents(){super.bindingEvents(),this.registerEvent("updateUserInfo",this.updateUserInfo),this.registerEvent(c.makeKey(r.serverType.Lobby,r.protoPackage.hall.HallCmd.USER_INFORMATION),this.onUpdateUserInfo),m.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(f.EventApi.CHANGE_LANGUAGE,this.updateRoomName)}onLoad(){super.onLoad(),this.initView(),p.default.showRollNotice(this.notice,this)}show(e){super.show(e),this.reqUserInfo(),this.m_data=e[0],this.updateUserInfo(),this.updateRoomName(),this.updateRoomList(),p.default.hideLoading()}getRoomList(){let e=[];switch(this.m_data.infoType){case l.com.bt.game.proto.hall.RoomInfoType.Pve:e=this.m_data.pveInfos;break;case l.com.bt.game.proto.hall.RoomInfoType.Pvp:e=this.m_data.roomList}return this.sortRoomList(e)}initView(){this.labNick.string="",this.labId.string="",this.labChip.string=""}sortRoomList(e){return e.sort((e,t)=>e.areaId-t.areaId),e}reqUserInfo(){let e=r.protoPackage.hall.UserInformation.create({userId:h.User._userID}),t=r.protoPackage.hall.UserInformation.encode(e).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.USER_INFORMATION,t)}onUpdateUserInfo(e){0==e.statusMsg.status&&(h.User._gold=e.gold,this.updateUserInfo())}updateUserInfo(){this.labNick.string=u.UtilMgr.setString(h.User._userName),this.labId.string="ID:"+h.User._userID,this.labChip.string=u.UtilMgr.changeMoney(h.User._gold)}updateRoomName(){this.imgGameName.spriteFrame=this.getRoomNameSpriteFrame(this.m_data.gameId)}updateRoomList(){this.scvRoomList.content.destroyAllChildren(),this.m_data.infoType===l.com.bt.game.proto.hall.RoomInfoType.Pve?this.updatePveRoomList():this.m_data.infoType===l.com.bt.game.proto.hall.RoomInfoType.Pvp?this.updatePvpRoomList():G.Logger.warn("\u623f\u95f4\u5217\u8868\u7c7b\u578b\u9519\u8bef")}updatePveRoomList(){let e=this.pfbRoomItemDznz.data.width,t=this.m_data.pveInfos.length;this.m_data.pveInfos=this.sortRoomList(this.m_data.pveInfos);let n=60+20*(t-1)+t*e;if(n>this.scvRoomList.content.width){this.scvRoomList.content.width=n,this.scvRoomList.inertia=!0,this.scvRoomList.elastic=!0;let o=30+e/2;for(let n=0;n<t;++n){let t=this.m_data.pveInfos[n],i=this.getRoomItemNode(this.m_data.gameId);i.getComponent(i.name).preloadData(this.m_data.gameId,this.m_data.infoType,t),i.x=o+(e+20)*n,i.y=0,this.scvRoomList.content.addChild(i)}}else{this.scvRoomList.inertia=!1,this.scvRoomList.elastic=!1;let n=0,o=(this.scvRoomList.node.width-e*t)/(t+1);for(let e=0;e<t;++e){let t=this.m_data.pveInfos[e],i=this.getRoomItemNode(this.m_data.gameId),a=i.getComponent(i.name),r=i.width/2;n+=o+r,a.preloadData(this.m_data.gameId,this.m_data.infoType,t),i.x=n,i.y=0,this.scvRoomList.content.addChild(i),n+=r}}}updatePvpRoomList(){let e=this.pfbRoomItemDznz.data.width,t=this.m_data.roomList.length;this.m_data.pveInfos=this.sortRoomList(this.m_data.pveInfos);let n=60+20*(t-1)+e;n>this.scvRoomList.content.width&&(this.scvRoomList.content.width=n);let o=30+e/2;for(let i=0;i<this.m_data.roomList.length;++i){let t=this.m_data.roomList[i],n=this.getRoomItemNode(this.m_data.gameId);n.getComponent(n.name).preloadData(this.m_data.gameId,this.m_data.infoType,t),n.x=o+(e+20)*i,n.y=0,this.scvRoomList.content.addChild(n)}}getRoomItemNode(e){let t=null;switch(e){case a.Config.GameId.TexaCowTable:t=cc.instantiate(this.pfbRoomItemDznz);break;case a.Config.GameId.FruitParty:t=cc.instantiate(this.pfbRoomFruitPartyItem);break;case a.Config.GameId.RedVsBlack:t=cc.instantiate(this.pfbRoomRedVsBlackItem)}return t}getRoomNameSpriteFrame(e){let t=null;switch(e){case a.Config.GameId.TexaCowTable:t=this.spfRoomItemDznz;break;case a.Config.GameId.FruitParty:t=g.Manager.language.getLanguage()==cc.sys.LANGUAGE_HINDI?this.spfRoomFruitPartyItemHI:this.spfRoomFruitPartyItem;break;case a.Config.GameId.RedVsBlack:t=g.Manager.language.getLanguage()==cc.sys.LANGUAGE_HINDI?this.spfRoomRedVsBlackItemHI:this.spfRoomRedVsBlackItem}return t}onClickGoBack(){this.close(),super.playDefaultEffect("close")}onClickCopy(){window.platformUtil.copyToClip(this.labId.string),super.playDefaultEffect()}onClickShop(){dispatch("openRechargeView"),super.playDefaultEffect()}onClickSetting(){dispatch("openSetting"),super.playDefaultEffect()}};o([y(cc.Label)],v.prototype,"labNick",void 0),o([y(cc.Label)],v.prototype,"labId",void 0),o([y(cc.Label)],v.prototype,"labChip",void 0),o([y(cc.Node)],v.prototype,"notice",void 0),o([y(cc.ScrollView)],v.prototype,"scvRoomList",void 0),o([y(cc.Sprite)],v.prototype,"imgGameName",void 0),o([y(cc.Prefab)],v.prototype,"pfbRoomItemDznz",void 0),o([y(cc.Prefab)],v.prototype,"pfbRoomRedVsBlackItem",void 0),o([y(cc.Prefab)],v.prototype,"pfbRoomFruitPartyItem",void 0),o([y(cc.SpriteFrame)],v.prototype,"spfRoomItemDznz",void 0),o([y(cc.SpriteFrame)],v.prototype,"spfRoomRedVsBlackItem",void 0),o([y(cc.SpriteFrame)],v.prototype,"spfRoomFruitPartyItem",void 0),o([y(cc.SpriteFrame)],v.prototype,"spfRoomRedVsBlackItemHI",void 0),o([y(cc.SpriteFrame)],v.prototype,"spfRoomFruitPartyItemHI",void 0),v=o([b,c.injectService(s.LobbyService.instance)],v),n.default=v,cc._RF.pop()},{"../common/config/Config":"Config","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/Framework":"Framework","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp"}],RoomRedVsBlackItem:[function(e,t,n){"use strict";cc._RF.push(t,"b4a200wCHtKB7avw4qcuexO","RoomRedVsBlackItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/config/Config"),r=e("../common/event/LogicEvent"),s=e("../common/language/LanguageImpl"),c=e("../common/manager/Manager"),l=e("../common/net/LobbyService"),d=e("../framework/decorator/Decorators"),h=e("../framework/external/protoc"),u=i(e("../msgbox/PanelHelp")),p=i(e("./RoomItemBase")),{ccclass:g,property:m}=cc._decorator;let f=class extends p.default{onLoad(){super.onLoad(),this.updateView()}start(){}updateView(){let e=c.Manager.language.getLanguage();if(this.m_infoType===h.com.bt.game.proto.hall.RoomInfoType.Pve){let t=this.m_data,n=null;0===t.gameType?n=e==cc.sys.LANGUAGE_HINDI?this.spfPublicRoomHI:this.spfPublicRoom:1===t.gameType&&(n=e==cc.sys.LANGUAGE_HINDI?this.spfAgentRoomHI:this.spfAgentRoom),this.imgRoom.spriteFrame=n}else this.m_infoType===h.com.bt.game.proto.hall.RoomInfoType.Pvp||G.Logger.warn(`\u623f\u95f4\u7c7b\u578b\u9519\u8bef ${this.m_infoType}`)}onClickEnter(){super.playDefaultEffect();let e={gameId:a.Config.GameId.RedVsBlack,areaId:this.m_data.areaId,deskId:this.m_data.roomId};dispatch(r.LogicEvent.ENTER_GAME_MATCH,e),u.default.showLoading(s.i18n.Waiting.EnterGame)}};f=o([g,d.injectService(l.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/config/Config":"Config","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../msgbox/PanelHelp":"PanelHelp","./RoomItemBase":"RoomItemBase"}],RoomTexaCowTableItem:[function(e,t,n){"use strict";cc._RF.push(t,"f2199SxG2ZDe71lHhNN4e6V","RoomTexaCowTableItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/config/Config"),r=e("../common/event/LogicEvent"),s=e("../common/language/LanguageImpl"),c=e("../common/manager/Manager"),l=e("../common/net/LobbyService"),d=e("../framework/decorator/Decorators"),h=e("../framework/external/protoc"),u=i(e("../msgbox/PanelHelp")),p=i(e("./RoomItemBase")),{ccclass:g,property:m}=cc._decorator;let f=class extends p.default{onLoad(){super.onLoad(),this.updateView()}start(){}updateView(){let e=c.Manager.language.getLanguage();if(this.m_infoType===h.com.bt.game.proto.hall.RoomInfoType.Pve){let t=this.m_data,n=null;0===t.gameType?n=e==cc.sys.LANGUAGE_HINDI?this.spfPublicRoomHI:this.spfPublicRoom:1===t.gameType&&(n=e==cc.sys.LANGUAGE_HINDI?this.spfAgentRoomHI:this.spfAgentRoom),this.imgRoom.spriteFrame=n}else this.m_infoType===h.com.bt.game.proto.hall.RoomInfoType.Pvp||G.Logger.warn(`\u623f\u95f4\u7c7b\u578b\u9519\u8bef ${this.m_infoType}`)}onClickEnter(){super.playDefaultEffect();let e={gameId:a.Config.GameId.TexaCowTable,areaId:this.m_data.areaId,deskId:this.m_data.roomId};dispatch(r.LogicEvent.ENTER_GAME_MATCH,e),u.default.showLoading(s.i18n.Waiting.EnterGame)}};f=o([g,d.injectService(l.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/config/Config":"Config","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../msgbox/PanelHelp":"PanelHelp","./RoomItemBase":"RoomItemBase"}],RuleView:[function(e,t,n){"use strict";cc._RF.push(t,"4f9ddhu5wxOOJDJ1/oIETSn","RuleView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/Manager"),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=e("../global/UtilMgr"),h=i(e("../msgbox/PanelHelp")),{ccclass:u,property:p}=cc._decorator;let g=class extends l.default{constructor(){super(...arguments),this.layout=null,this.item=null}static getPrefabUrl(){return"rank/prefabs/RuleView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}bindingEvents(){super.bindingEvents(),this.registerEvent(c.makeKey(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_NewRankingRule),this.updateRuleView)}show(e){super.show(e),this.showWithAction(!0)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}updateRuleView(e){if(G.Logger.log("\u89c4\u5219",e),this.layout.children.splice(1),0==e.statusMsg.status){if(e.reward.length)for(let t=0;t<e.reward.length;t++){const n=e.reward[t];let o=cc.instantiate(this.item);o.parent=this.layout,o.active=!0,o.x=0,o.getChildByName("rankLab").getComponent(cc.Label).string=n.rank,o.getChildByName("rewardLab").getComponent(cc.Label).string=d.UtilMgr.changeMoney(n.reward)}this.layout.active=e.reward.length}else h.default.showMsgBox("",a.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}start(){this.layout.active=!1,this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_NewRankingRule,null)}};o([p(cc.Node)],g.prototype,"layout",void 0),o([p(cc.Node)],g.prototype,"item",void 0),g=o([u,c.injectService(s.LobbyService.instance)],g),n.default=g,cc._RF.pop()},{"../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp"}],ScroViewBaseItem:[function(e,t,n){"use strict";cc._RF.push(t,"975126ZKidEB4994WnfE6qD","ScroViewBaseItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=class extends cc.Component{updateItem(e,t){this._data=e,this._itemId=t}getItemId(){return this._itemId}};r=o([i],r),n.default=r,cc._RF.pop()},{}],ScroViewCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"74479PUJG5NM6xwH1yGzl+1","ScroViewCtrl");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=a(e("./ScroViewPlus")),{ccclass:s,property:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.scroViewPlus=null,this.itemPrefab=null,this.itemScriptName="",this.onItemClickCallback=null,this.dataList=[]}_initItem(e){let t=cc.instantiate(this.itemPrefab);t.parent=this.scroViewPlus.content,t.getComponent(this.itemScriptName).updateItem(this.dataList[e],e,this.onItemClickCallback)}framingLoad(e,t=!0){return i(this,void 0,void 0,function*(){this.unscheduleAllCallbacks(),t&&this.scroViewPlus.content.removeAllChildren(),yield this.executePreFrame(this._getItemGenerator(e),1),this.scroViewPlus.optDc()})}executePreFrame(e,t){return new Promise(n=>{let o=e,i=()=>{let e=(new Date).getTime();for(let a=o.next();;a=o.next()){if(null==a||a.done)return void n();if((new Date).getTime()-e>t)return void this.scheduleOnce(()=>{i()})}};i()})}*_getItemGenerator(e){for(let t=0;t<e;t++)yield this._initItem(t)}removeItem(e){this.scroViewPlus.content.children.forEach(t=>{t.getComponent(this.itemScriptName).getItemId()==e&&(this.dataList.splice(e,1),this.scroViewPlus.content.removeChild(t))}),this.updateItem()}updateItem(){this.scroViewPlus.content.children.forEach((e,t)=>{e.getComponent(this.itemScriptName).updateItem(this.dataList[t],t,this.onItemClickCallback)}),this.scroViewPlus.content.getComponent(cc.Layout).updateLayout()}};o([c(r.default)],l.prototype,"scroViewPlus",void 0),o([c(cc.Prefab)],l.prototype,"itemPrefab",void 0),o([c(cc.String)],l.prototype,"itemScriptName",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"./ScroViewPlus":"ScroViewPlus"}],ScroViewLogic:[function(e,t,n){"use strict";cc._RF.push(t,"197a6lAYWtPB6Ey6D+xShF6","ScroViewLogic");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.item=null,this.scrollView=null,this.maxSpawnCount=9,this.maxTotalCount=50,this.bufferZone=300,this.spacing=10,this.itemScriptName=""}start(){}initUI(e){this.resetData(),this._datas=e||[],this._spawnCount=e.length<this.maxSpawnCount?e.length:this.maxSpawnCount,this._totalCount=e.length<this.maxTotalCount?e.length:this.maxTotalCount,cc.log("\u5b9e\u4f8b\u5316\u6761\u6570\uff1a "+this._spawnCount),cc.log("\u603b\u6761\u6570\uff1a "+this._totalCount),cc.log("\u6570\u636e\u6761\u6570\uff1a"+this._datas.length),this.initialize(),this.schedule(this.onUpdate,.08)}addItem(e){0!=this.scrollView.content.childrenCount?(this.scrollView.content.height=(this._totalCount+1)*(this.item.height+this.spacing)+this.spacing,this._totalCount=this._totalCount+1,this._datas.push(e),this._spawnCount<this.maxSpawnCount&&(this.createItem(e,this._spawnCount),this._spawnCount+=1)):this.initUI([e])}resetData(){this.onUpdate&&this.unschedule(this.onUpdate),this.scrollView.content.destroyAllChildren(),this.lastContentPosY=0,this._spawnCount=0,this._totalCount=0,this._datas=[],this.itemMgr=[]}initialize(){this.scrollView.content.height=this._totalCount*(this.item.height+this.spacing)+this.spacing;for(let e=0;e<this._spawnCount;++e){let t=this.getDatas();this.createItem(t[e],e)}}getDatas(){return this._datas}createItem(e,t){let n=cc.instantiate(this.item);this.scrollView.content.addChild(n),n.active=!0,n.setPosition(0,-n.height*(.5+t)-this.spacing*(t+1)),n.getComponent(""+this.itemScriptName).updateItem(e,t),this.itemMgr.push(n)}removeItem(e){let t=this.itemMgr.splice(e,1);this.scrollView.content.removeChild(t[0])}getPositionInView(e){let t=e.parent.convertToWorldSpaceAR(e.position);return this.scrollView.node.convertToNodeSpaceAR(t)}onUpdate(e){let t=this.itemMgr;if(t.length<1)return;let n=this.bufferZone,o=this.scrollView.content.y<this.lastContentPosY,i=(t[0].height+this.spacing)*t.length,a=this.getDatas();for(let r=0;r<t.length;++r){let e=this.getPositionInView(t[r]);if(o){if(e.y<-n&&t[r].y+i<0){t[r].y=t[r].y+i;let e=t[r].getComponent(""+this.itemScriptName),n=e.getItemId()-t.length;e.updateItem(a[n],n)}}else if(e.y>n&&t[r].y-i>-this.scrollView.content.height){t[r].y=t[r].y-i;let e=t[r].getComponent(""+this.itemScriptName),n=e.getItemId()+t.length;e.updateItem(a[n],n)}}this.lastContentPosY=this.scrollView.content.y}};o([a(cc.Node)],r.prototype,"item",void 0),o([a(cc.ScrollView)],r.prototype,"scrollView",void 0),o([a({type:cc.Integer,displayName:"\u5b9e\u4f8bitem\u6700\u5927\u6570"})],r.prototype,"maxSpawnCount",void 0),o([a({type:cc.Integer,displayName:"\u6570\u636e\u6700\u5927\u6570"})],r.prototype,"maxTotalCount",void 0),o([a(cc.Integer)],r.prototype,"bufferZone",void 0),o([a(cc.Integer)],r.prototype,"spacing",void 0),o([a(cc.String)],r.prototype,"itemScriptName",void 0),r=o([i],r),n.default=r,cc._RF.pop()},{}],ScroViewPlusItem:[function(e,t,n){"use strict";cc._RF.push(t,"091fetwLYtMO5Y0reKklm/m","ScroViewPlusItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const{ccclass:i,property:a}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.onEnterScorllViewEvents=[],this.onExitScorllViewEvents=[],this.onPositionChangeEvents=[],this.isShowing=!1}publishOnEnterScrollView(){0!=this.onEnterScorllViewEvents.length&&this.onEnterScorllViewEvents.forEach(e=>{e.emit([])})}publishOnExitScrollView(){0!=this.onExitScorllViewEvents.length&&this.onExitScorllViewEvents.forEach(e=>{e.emit([])})}publishOnPositionChange(e,t){0!=this.onPositionChangeEvents.length&&this.onPositionChangeEvents.forEach(n=>{n.emit([e,t])})}updateItem(e,t){this._data=e,this._itemId=t}getItemId(){return this._itemId}};o([a({type:[cc.Component.EventHandler],tooltip:"\u8fdb\u5165ScrollView\u65f6\u56de\u8c03"})],r.prototype,"onEnterScorllViewEvents",void 0),o([a({type:[cc.Component.EventHandler],tooltip:"\u79bb\u5f00ScrollView\u65f6\u56de\u8c03"})],r.prototype,"onExitScorllViewEvents",void 0),o([a({type:[cc.Component.EventHandler],tooltip:"\u8fdb\u5165ScrollView\u4e4b\u540e\uff0c\u4f4d\u7f6e\u53d1\u751f\u6539\u53d8\u65f6\u56de\u8c03"})],r.prototype,"onPositionChangeEvents",void 0),r=o([i],r),n.default=r,cc._RF.pop()},{}],ScroViewPlus:[function(e,t,n){"use strict";cc._RF.push(t,"02718mBGYFOhb5ag/vm7Ws1","ScroViewPlus");var o,i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=a(e("./ScroViewPlusItem")),{ccclass:s,property:c}=cc._decorator;let l=o=class extends cc.ScrollView{constructor(){super(...arguments),this.caculatePosition=!1}onEnable(){super.onEnable(),this.node.on("scrolling",this._onScrollingDrawCallOpt,this)}onDisable(){super.onDisable(),this.node.off("scrolling",this._onScrollingDrawCallOpt,this)}_onScrollingDrawCallOpt(){0!=this.content.childrenCount&&this.optDc()}optDc(){o.optDc(this,this.caculatePosition)}static optDc(e,t){let n=e.node.parent.convertToWorldSpaceAR(cc.v2(e.node.x-e.node.anchorX*e.node.width,e.node.y-e.node.anchorY*e.node.height)),o=cc.rect(n.x,n.y,e.node.width,e.node.height);e.content.children.forEach(e=>{let n=e.getComponent(r.default);if(null==n)return;let i=e.getBoundingBoxToWorld();i.intersects(o)?(n.isShowing||(n.isShowing=!0,n.publishOnEnterScrollView()),t&&n.isShowing&&n.publishOnPositionChange((i.x-(o.x-i.width/2))/(i.width+o.width),(i.y-(o.y-i.height/2))/(i.height+o.height))):n.isShowing&&(n.isShowing=!1,n.publishOnExitScrollView())})}};i([c({tooltip:"\u662f\u5426\u8ba1\u7b97\u5728\u53ef\u89c6\u533a\u57df\u4e2dItem\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff08\u53ef\u80fd\u4f1a\u76f8\u5bf9\u8017\u6027\u80fd\uff09"})],l.prototype,"caculatePosition",void 0),l=o=i([s],l),n.default=l,cc._RF.pop()},{"./ScroViewPlusItem":"ScroViewPlusItem"}],SecondaryPwdView:[function(e,t,n){"use strict";cc._RF.push(t,"9df5bGqXglA7q0nkeyG6ovu","SecondaryPwdView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.CheckSecondaryPwdType=void 0;const a=i(e("../framework/ui/UIView")),r=e("../common/language/LanguageImpl"),s=i(e("../msgbox/PanelHelp")),c=e("../common/net/CommonService"),l=e("../common/net/LobbyService"),d=e("../framework/decorator/Decorators"),h=e("./SetSecondaryPwdView"),{ccclass:u,property:p}=cc._decorator;var g;(function(e){e[e.getPwq=0]="getPwq",e[e.checkSuccCall=1]="checkSuccCall"})(g=n.CheckSecondaryPwdType||(n.CheckSecondaryPwdType={}));let m=class extends a.default{constructor(){super(...arguments),this.service=null,this.pwdEditbox=null}static getPrefabUrl(){return"withdrawal/prefabs/SecondaryPwdView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.initLanguage()}bindingEvents(){super.bindingEvents(),this.registerEvent(d.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_CHECK_SECOND_PASSWD),this.toCheckPwdRes)}show(e){super.show(e[0]),this.showWithAction(!0)}initLanguage(){this.pwdEditbox.placeholder=r.i18n.ACCOUNT_LOGIN.PALCE_HOLDER.PASSWORD}onClick(e){switch(e){case"close":this.closeWithAction();break;case"FoegetPassword":dispatch("openSetSecondaryPwdView",h.SettSecondaryPwdType.reset);break;case"confirm":this.toCheckPwd()}}toCheckPwd(){let e=this.checkPwd();if(e)switch(this.args[0]){case g.getPwq:this.args[1]&&this.args[1](e),this.close();break;case g.checkSuccCall:this.toCheckReq(e)}}toCheckReq(e){let t=c.protoPackage.hall.CheckSecondPasswdReq.create({passwd:e}),n=c.protoPackage.hall.CheckSecondPasswdReq.encode(t).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_CHECK_SECOND_PASSWD,n)}checkPwd(){let e=this.pwdEditbox.string;return""==e?(s.default.showTip(r.i18n.ACCOUNT_LOGIN.ERROR.EMPTY_PWD),""):e}toCheckPwdRes(e){0==e.statusMsg.status?(this.close(),this.args[1]&&this.args[1]()):s.default.showMsgBox("",r.i18n.ERRORCODE[e.statusMsg.status])}};o([p(cc.EditBox)],m.prototype,"pwdEditbox",void 0),m=o([u,d.injectService(l.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp","./SetSecondaryPwdView":"SetSecondaryPwdView"}],SendVerificationCodePlus:[function(e,t,n){"use strict";cc._RF.push(t,"8cc7fW3gehA56CdDr4Y/JdB","SendVerificationCodePlus");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("./SendVerificationCode")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.prebg=null}onLoad(){super.onLoad(),this.countDownEnd()}doSendVerificationCode(e){super.doSendVerificationCode(e),this.countDownEnd()}_doStartTime(){super._doStartTime(),this.prebg.active=!1}countDownEnd(){this.prebg.active=!0,this.label.string=""}sendFail(){super.sendFail(),this.countDownEnd()}};o([s(cc.Node)],c.prototype,"prebg",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"./SendVerificationCode":"SendVerificationCode"}],SendVerificationCode:[function(e,t,n){"use strict";cc._RF.push(t,"40b41aNgUpJTo5/QItI9R3Z","SendVerificationCode");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.VerificationCodeType=void 0;const a=e("../../framework/decorator/Decorators"),r=e("../../framework/net/HttpClient"),s=i(e("../../framework/ui/UIView")),c=i(e("../../msgbox/PanelHelp")),l=e("../language/LanguageImpl"),d=e("../manager/Manager"),h=e("../net/CommonService"),u=e("../net/LobbyService");var p;(function(e){e[e.none=0]="none",e[e.resetPwd=1]="resetPwd"})(p=n.VerificationCodeType||(n.VerificationCodeType={}));const{ccclass:g,property:m}=cc._decorator;let f=class extends s.default{constructor(){super(...arguments),this.label=null,this.service=null,this.verificationCodeType=p.none}bindingEvents(){super.bindingEvents(),this.registerEvent(a.makeKey(h.serverType.Lobby,h.protoPackage.hall.HallCmd.SEND_PHONE_CODE),this.onPhoneCodeCall)}onPhoneCodeCall(e){0==e.statusMsg.status?(c.default.showTip(l.i18n.ERRORTIPS.REQSENDCHECKMESSAGE),this._doStartTime()):c.default.showMsgBox("",d.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}doSendVerificationCode(e){if(this.isSendOk)c.default.showTip(l.i18n.ERRORTIPS.REQSENDCHECKMESSAGE);else if(this.isSendOk=!0,this.label.language=l.i18n.BIND.SEND,e.type){let t=h.protoPackage.hall.SendPhoneCode.create({phone:e.phone,area:e.area}),n=h.protoPackage.hall.SendPhoneCode.encode(t).finish();this.service.sendMsg(h.serverType.Lobby,h.protoPackage.hall.HallCmd.SEND_PHONE_CODE,n)}else{let t="";t+=G.URLMgr.loginURL+"sms?phone="+encodeURIComponent(e.phone)+"&area="+encodeURIComponent(e.areaCode)+"&type="+this.verificationCodeType;let n=new r.RequestPackge;n.data.url=t,n.send(e=>{0==e.state?(c.default.showTip(l.i18n.ERRORTIPS.REQSENDCHECKMESSAGE),this._doStartTime()):(c.default.showMsgBox("",l.i18n.ERRORCODE[e.state]||d.Manager.makeLanguage("ERRORCODE.SERVERERROR")),this.sendFail())},e=>{G.Logger.log("\u9a8c\u8bc1\u7801 = ",e),this.sendFail()})}}_doStartTime(){this.verifiCD=60,this.node.getComponent(cc.Button)&&(this.node.getComponent(cc.Button).interactable=!1),this.label.string=this.verifiCD+"s",this.verifiCD-=1,this.updateVerifiCD=setInterval(()=>{this.verifiCD<0?(clearInterval(this.updateVerifiCD),this.verifiCD=60,this.label.language=l.i18n.BIND.SEND,this.isSendOk=null,this.countDownEnd(),this.node.getComponent(cc.Button)&&(this.node.getComponent(cc.Button).interactable=!0)):null==this.label?(clearInterval(this.updateVerifiCD),cc.isValid(this.node)&&this.onDestroy()):(this.label.string=this.verifiCD+"s",this.verifiCD--)},1e3)}countDownEnd(){}sendFail(){this.isSendOk=null}setVerificationCodeType(e){this.verificationCodeType=e}};o([m(cc.Label)],f.prototype,"label",void 0),f=o([g,a.injectService(u.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../../framework/decorator/Decorators":"Decorators","../../framework/net/HttpClient":"HttpClient","../../framework/ui/UIView":"UIView","../../msgbox/PanelHelp":"PanelHelp","../language/LanguageImpl":"LanguageImpl","../manager/Manager":"Manager","../net/CommonService":"CommonService","../net/LobbyService":"LobbyService"}],ServerConnector:[function(e,t,n){"use strict";cc._RF.push(t,"ab4429aUZpJfoTpYOpkh3ZI","ServerConnector");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ServerConnector=void 0;const i=o(e("./WebSocketClient"));n.ServerConnector=class{constructor(){this._wsClient=null,this._curRecvHartTimeOutCount=0,this._wsClient=new i.default,this._wsClient.onClose=this.onClose.bind(this),this._wsClient.onError=this.onError.bind(this),this._wsClient.onMessage=this.onMessage.bind(this),this._wsClient.onOpen=this.onOpen.bind(this)}sendHeartbeat(){}getMaxHeartbeatTimeOut(){return 5}getHeartbeatInterval(){return 3e3}onHeartbeatTimeOut(){cc.error("server heartbeat timeout")}isHeartBeat(e){return!1}onOpen(){G.Logger.log("\u7f51\u7edc\u6253\u5f00"),this._curRecvHartTimeOutCount=0,this.startSendHartSchedule()}onClose(e){G.Logger.log("\u7f51\u7edc\u5173\u95ed",e),this.stopSendHartSchedule()}onError(e){G.Logger.log("\u7f51\u7edc\u9519\u8bef",e),this.stopSendHartSchedule()}onMessage(e){this.recvHeartbeat()}recvHeartbeat(){this._curRecvHartTimeOutCount=0}connect(e,t=null,n="ws"){n="https:"===window.location.protocol?"wss":"ws",t?"string"==typeof t&&t.length>0?this._wsClient&&this._wsClient.initWebSocket(e,t,n):"number"==typeof t&&t>0?this._wsClient&&this._wsClient.initWebSocket(e,t.toString(),n):this._wsClient&&this._wsClient.initWebSocket(e,null,n):this._wsClient&&this._wsClient.initWebSocket(e,null,n)}stopSendHartSchedule(){this._sendHartId&&(clearInterval(this._sendHartId),this._sendHartId=null)}startSendHartSchedule(){this.stopSendHartSchedule(),this.sendHeartbeat(),this._sendHartId=setInterval(()=>{if(this._curRecvHartTimeOutCount=this._curRecvHartTimeOutCount+1,this._curRecvHartTimeOutCount>this.getMaxHeartbeatTimeOut())return this.stopSendHartSchedule(),void this.onHeartbeatTimeOut();this.sendHeartbeat()},this.getHeartbeatInterval())}send(e){this._wsClient&&this._wsClient.send(e.buffer)}close(){this.stopSendHartSchedule(),this._wsClient&&this._wsClient.close()}},cc._RF.pop()},{"./WebSocketClient":"WebSocketClient"}],ServiceView:[function(e,t,n){"use strict";cc._RF.push(t,"51223pmLQ5M1IhZMCeWO3/w","ServiceView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/LobbyService"),r=e("../framework/decorator/Decorators"),s=i(e("../framework/ui/UIView")),c=i(e("../msgbox/PanelHelp")),l=e("../Helpder/openAppHelpder/openAppHelpder"),d=e("../common/manager/Manager"),{ccclass:h,property:u}=cc._decorator;let p=class extends s.default{constructor(){super(...arguments),this.service=null,this.item=null,this.scrollView=null}static getPrefabUrl(){return"service/prefabs/ServiceView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.scrollView.enabled=!1}bindingEvents(){super.bindingEvents()}onShowList(e){if(e)if(G.Logger.log("\u5ba2\u670d",e),0==e.statusMsg.status){if(e.customerServiceConfigList&&e.customerServiceConfigList.length>0){e.customerServiceConfigList.length>5?this.scrollView.enabled=!0:this.scrollView.enabled=!1,e.customerServiceConfigList.sort((e,t)=>e.sort-t.sort),this.scrollView.content.removeAllChildren();for(let t=0;t<e.customerServiceConfigList.length;t++){const n=e.customerServiceConfigList[t];if(1===n.status){let e=cc.instantiate(this.item);e.active=!0,e.parent=this.scrollView.content,e.x=0,e.buttonId=n.buttonId,e.url=n.url,e.getChildByName("Layout").getChildByName("nameLabel").getComponent(cc.Label).string=n.appName+": ",e.getChildByName("Layout").getChildByName("appNum").getComponent(cc.Label).string=n.number,e.getChildByName("appOpen").getChildByName("Background").getChildByName("btnName").getComponent(cc.Label).string=n.buttonName}}this.scrollView.scrollToTop()}}else c.default.showMsgBox("",d.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}show(e){super.show(e),this.showWithAction(!0),e[0]&&this.onShowList(e[0])}onClick(e,t){if("close"===e)this.closeWithAction();else{let n=t.parent.getChildByName("Layout").getChildByName("appNum").getComponent(cc.Label).string;switch(t.parent.buttonId){case 1:window.platformUtil.copyToClip(n),"appOpen"===e&&window.platformUtil.openEmail(n);break;case 2:window.platformUtil.copyToClip(n),"appOpen"===e&&l.OpenAppHelpder.openApp(l.OpenAppHelpder.APP_NAMES.facebook);break;case 3:window.platformUtil.copyToClip(n),"appOpen"===e&&l.OpenAppHelpder.openApp(l.OpenAppHelpder.APP_NAMES.whatsApp);break;case 4:window.platformUtil.copyToClip(n),"appOpen"===e&&l.OpenAppHelpder.openApp(l.OpenAppHelpder.APP_NAMES.telegram);break;case 5:t.parent.url&&(window.platformUtil.copyToClip(n),window.platformUtil.openURL(t.parent.url));break;case 6:window.platformUtil.copyToClip(n);break;default:G.Logger.error("no find button name -> %s",e)}}}};o([u(cc.Node)],p.prototype,"item",void 0),o([u(cc.ScrollView)],p.prototype,"scrollView",void 0),p=o([h,r.injectService(a.LobbyService.instance)],p),n.default=p,cc._RF.pop()},{"../Helpder/openAppHelpder/openAppHelpder":"openAppHelpder","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],Service:[function(e,t,n){"use strict";cc._RF.push(t,"04660opGZBJ3JOIgugJWjAl","Service");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Service=void 0;const i=e("../net/ServerConnector"),a=e("../event/EventApi"),r=e("../decorator/Decorators"),s=e("../net/Message"),c=e("../Framework"),l=o(e("../../msgbox/PanelHelp")),d=o(e("../../data/AppData")),h=o(e("../extentions/Operation"));n.Service=class extends i.ServerConnector{constructor(){super(...arguments),this._listeners={},this._masseageQueue=new Array,this._isDoingMessage=!1,this._isPause=!1,this._sendLoadingHart=new Map,this._LoadingTime=1e4,this.startLoadingMsgIDMap={"3002_1002":"3002_1003","3001_10001":"3001_10001","3012_1002":"3012_1003","3004_1002":"3004_1003","3015_1002":"3015_1003","3016_1001":"3016_1002","3018_1003":"3018_1004","3020_10001":"3020_10001"}}get commonMessageType(){return s.Message}sendHeartbeat(){super.sendHeartbeat()}getMaxHeartbeatTimeOut(){return super.getMaxHeartbeatTimeOut()}onHeartbeatTimeOut(){super.onHeartbeatTimeOut()}isHeartBeat(e){return super.isHeartBeat(e)}onOpen(){super.onOpen(),this.stopSendLoadingHart(),dispatch(a.EventApi.NetEvent.ON_OPEN)}onClose(e){super.onClose(e),this.stopSendLoadingHart(),dispatch(a.EventApi.NetEvent.ON_CLOSE,e)}onError(e){super.onError(e),this.stopSendLoadingHart(),dispatch(a.EventApi.NetEvent.ON_ERROR,e)}onMessage(e){let t=new this.commonMessageType;if(!t.decode(e))return void cc.error("\u5305\u4fe1\u8fdb\u884c\u89e3\u6790 error");if(super.onMessage(e),this.isHeartBeat(t)){let e=t.data,n=G.DataMgr.get(d.default);return n.timeDifference=h.default.sub(Number(e.Time),Date.now()),void console.log(`\u6536\u5230\u7f51\u7edc\u6d88\u606f main cmd : ${t.mainCmd} \u65f6\u95f4\u5dee ${n.timeDifference}`)}G.Logger.color("\u63a5\u6536\u6d88\u606f\uff1a",`${t.mainCmd}`),G.Logger.log(t.data),this.stopSendLoadingHart(null,t.mainCmd);let n=r.makeKey(t.mainCmd);if(this.onlyServerSendMsg(t))return void cc.log(`\u670d\u52a1\u5668\u4e3b\u52a8\u4e0b\u53d1: ${t.mainCmd}`);if(!this._listeners[n])return void cc.warn(`no find listener data main cmd : ${t.mainCmd}`);if(this._listeners[n].length<=0)return;let o=this._listeners[n],i=[];for(let r=0;r<o.length;r++){let n=null;if(o[r].type?(n=new o[r].type).decode(e):n=t,o[r].isQueue)i.push(this.copyListenerData(o[r],n));else try{o[r].func&&o[r].func.call(o[r].target,n.data.data)}catch(a){cc.error(a)}}i.length>0&&this._masseageQueue.push(i)}pauseMessageQueue(){this._isPause=!0}resumeMessageQueue(){this._isPause=!1}removeMessageQueue(e=3){0!=this._masseageQueue.length&&this._masseageQueue.length>e&&this._masseageQueue.splice(0,this._masseageQueue.length-e)}addListener(e,t,n,o,i){let a=r.makeKey(e);if(this._listeners[a]){let r=!1;for(let e=0;e<this._listeners[a].length;e++)if(this._listeners[a][e].target===i){r=!0;break}if(r)return;this._listeners[a].push({mainCmd:e,func:n,type:t,isQueue:o,target:i})}else this._listeners[a]=[],this._listeners[a].push({mainCmd:e,func:n,type:t,isQueue:o,target:i})}removeListeners(e,t){if(t){let n=this;Object.keys(this._listeners).forEach(o=>{let i=n._listeners[o],a=i.length;for(;a--;)i[a].target==e&&i[a].mainCmd==t&&i.splice(a,1);0==i.length&&delete n._listeners[o]});let o=this._masseageQueue.length;for(;o--;){let n=this._masseageQueue[o],i=n.length;for(;i--;)n[i].target==e&&n[i].mainCmd==t&&n.splice(i,1);0==n.length&&this._masseageQueue.splice(o,1)}}else{let t=this;Object.keys(this._listeners).forEach(n=>{let o=t._listeners[n],i=o.length;for(;i--;)o[i].target==e&&o.splice(i,1);0==o.length&&delete t._listeners[n]});let n=this._masseageQueue.length;for(;n--;){let t=this._masseageQueue[n],o=t.length;for(;o--;)t[o].target==e&&t.splice(o,1);0==t.length&&this._masseageQueue.splice(n,1)}}}send(e){e.encode()?(super.send(e),this.startSendLoadingHart(e.mainCmd)):cc.error("encode error")}copyListenerData(e,t){return{mainCmd:e.mainCmd,type:e.type,func:e.func,isQueue:e.isQueue,data:t,target:e.target}}handMessage(){if(this._isPause)return;if(this._isDoingMessage)return;if(0==this._masseageQueue.length)return;let e=this._masseageQueue.shift();if(null==e)return;if(0==e.length)return;this._isDoingMessage=!0;let t=0;for(let o=0;o<e.length;o++){let i=e[o];if(i.func instanceof Function)try{let e=i.func.call(i.target,i.data.data);"number"==typeof e&&(t=Math.max(t,e))}catch(n){cc.error(n)}}0==t?this._isDoingMessage=!1:c.Manager.uiManager.getCanvasComponent().scheduleOnce(()=>{this._isDoingMessage=!1},t)}reset(){this._isDoingMessage=!1,this._listeners={},this._masseageQueue=[],this.resumeMessageQueue()}close(){this._masseageQueue=[],this._isDoingMessage=!1,super.close()}onlyServerSendMsg(e){return!1}startSendLoadingHart(e){let t=e;this.isKey(t)&&(this.stopSendLoadingHart(t,null),this._sendLoadingHart[t]=setInterval(()=>{this.stopSendLoadingHart(t,null),l.default.hideLoading()},this._LoadingTime))}isKey(e){for(const t in this.startLoadingMsgIDMap)if(t==e)return!0;return!1}isValue(e){for(const t in this.startLoadingMsgIDMap)if(this.startLoadingMsgIDMap[t]==e)return t;return null}stopSendLoadingHart(e=null,t=null){if(null==e&&null==t){for(const e in this._sendLoadingHart)clearInterval(this._sendLoadingHart[e]),delete this._sendLoadingHart[e];this._sendLoadingHart.clear()}else if(e)0!=Object.keys(this._sendLoadingHart).length&&this._sendLoadingHart[e]&&(clearInterval(this._sendLoadingHart[e]),delete this._sendLoadingHart[e]);else{let e=this.isValue(t);e&&0!=Object.keys(this._sendLoadingHart).length&&this._sendLoadingHart[e]&&(clearInterval(this._sendLoadingHart[e]),delete this._sendLoadingHart[e])}}},cc._RF.pop()},{"../../data/AppData":"AppData","../../msgbox/PanelHelp":"PanelHelp","../Framework":"Framework","../decorator/Decorators":"Decorators","../event/EventApi":"EventApi","../extentions/Operation":"Operation","../net/Message":"Message","../net/ServerConnector":"ServerConnector"}],SetSecondaryPwdView:[function(e,t,n){"use strict";cc._RF.push(t,"2fe468cuKBGbZEfWEhetJ27","SetSecondaryPwdView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SettSecondaryPwdType=void 0;const a=i(e("../framework/ui/UIView")),r=i(e("../common/component/SendVerificationCodePlus")),s=e("../common/language/LanguageImpl"),c=i(e("../msgbox/PanelHelp")),l=e("../common/net/CommonService"),d=e("../common/net/LobbyService"),h=e("../framework/decorator/Decorators"),u=e("../global/User"),p=e("../global/UtilMgr"),g=e("../common/component/SendVerificationCode"),{ccclass:m,property:f}=cc._decorator;var b;(function(e){e[e.set=0]="set",e[e.reset=1]="reset"})(b=n.SettSecondaryPwdType||(n.SettSecondaryPwdType={}));let y=class extends a.default{constructor(){super(...arguments),this.service=null,this.verCodeEditbox=null,this.pwdEditbox=null,this.pwdEditboxConfirm=null,this.titlesNode=null,this.lbl_restPhoneTips=null,this.sendVerificationCode=null,this.passwordType=b.set}static getPrefabUrl(){return"withdrawal/prefabs/SetSecondaryPwdView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.initLanguage()}bindingEvents(){super.bindingEvents(),this.registerEvent(h.makeKey(l.serverType.Lobby,l.protoPackage.hall.HallCmd.CMD_SET_SECOND_PASSWORD),this.toSetPwdRes),this.registerEvent(h.makeKey(l.serverType.Lobby,l.protoPackage.hall.HallCmd.CMD_CHANGE_SECOND_PASSWD),this.tochangePwdRes)}show(e){let t=e[0];this.showWithAction(!0),this.initView(t),this.lbl_restPhoneTips.string=s.i18n.ACCOUNT_LOGIN.SEND_CODE_TO_PHONE+" "+p.UtilMgr.setStringCover(u.User._phone),this.sendVerificationCode.setVerificationCodeType(g.VerificationCodeType.resetPwd)}initLanguage(){this.pwdEditbox.placeholder=s.i18n.ACCOUNT_LOGIN.PALCE_HOLDER.PASSWORD,this.verCodeEditbox.placeholder=s.i18n.ACCOUNT_LOGIN.PALCE_HOLDER.VER_CODE,this.pwdEditboxConfirm.placeholder=s.i18n.ACCOUNT_LOGIN.PALCE_HOLDER.PASSWORD_CONFIRM}initView(e){this.passwordType=e;var t="resetPwd";switch(e){case b.set:t="setPwd";break;case b.reset:}this.titlesNode.children.forEach(e=>{e.active=e.name==t})}onClick(e){switch(e){case"getCode":this.sendAccVerification();break;case"close":this.closeWithAction();break;case"conirm":this.passwordType==b.set?this.toSetPwd():this.toFoegetOrResetPwd()}}toSetPwd(){let e=this.verCodeEditbox.string;if(!e)return c.default.showTip(s.i18n.EDITBOX.VERIFINULL);let t=this.checkPwd();if(!t)return;let n=l.protoPackage.hall.SetSecondPasswdReq.create({passwd:base64Encrypt(t),code:parseInt(e)}),o=l.protoPackage.hall.SetSecondPasswdReq.encode(n).finish();this.service.sendMsg(l.serverType.Lobby,l.protoPackage.hall.HallCmd.CMD_SET_SECOND_PASSWORD,o)}toFoegetOrResetPwd(){let e=this.verCodeEditbox.string;if(!e)return c.default.showTip(s.i18n.EDITBOX.VERIFINULL);let t=this.checkPwd();if(!t)return;let n=l.protoPackage.hall.ChangeSecondPasswdReq.create({passwd:base64Encrypt(t),code:parseInt(e)}),o=l.protoPackage.hall.ChangeSecondPasswdReq.encode(n).finish();this.service.sendMsg(l.serverType.Lobby,l.protoPackage.hall.HallCmd.CMD_CHANGE_SECOND_PASSWD,o)}toSetPwdRes(e){0==e.statusMsg.status?(c.default.showTip(s.i18n.ACCOUNT_LOGIN.SUCCEEDED),this.close(),u.User.piggyBank=!0):(G.Logger.warn("toSetPwdRes:",e),c.default.showMsgBox("",s.i18n.ERRORCODE[e.statusMsg.status]))}tochangePwdRes(e){0==e.statusMsg.status?(c.default.showTip(s.i18n.ACCOUNT_LOGIN.SUCCEEDED),this.close()):(G.Logger.warn("tochangePwdRes:",e),c.default.showMsgBox("",s.i18n.ERRORCODE[e.statusMsg.status]))}checkVerification(e){return e||(c.default.showTip(s.i18n.EDITBOX.VERIFINULL),null)}checkPwd(){let e=this.pwdEditbox.string,t=this.pwdEditboxConfirm.string;return""==e||""==t?(c.default.showTip(s.i18n.ACCOUNT_LOGIN.ERROR.EMPTY_PWD),""):e!=t?(c.default.showTip(s.i18n.ACCOUNT_LOGIN.ERROR.TWO_PWD_DISACCORD),""):e}checkPhone(e){return e?e.length<7?(c.default.showTip(s.i18n.EDITBOX.PHONETYPEERR),null):e:(c.default.showTip(s.i18n.EDITBOX.PHONENULL),null)}sendAccVerification(){this.sendVerificationCode.doSendVerificationCode({phone:u.User._phone,areaCode:u.User._areaCode})}};o([f(cc.EditBox)],y.prototype,"verCodeEditbox",void 0),o([f(cc.EditBox)],y.prototype,"pwdEditbox",void 0),o([f(cc.EditBox)],y.prototype,"pwdEditboxConfirm",void 0),o([f(cc.Node)],y.prototype,"titlesNode",void 0),o([f(cc.Label)],y.prototype,"lbl_restPhoneTips",void 0),o([f(r.default)],y.prototype,"sendVerificationCode",void 0),y=o([m,h.injectService(d.LobbyService.instance)],y),n.default=y,cc._RF.pop()},{"../common/component/SendVerificationCode":"SendVerificationCode","../common/component/SendVerificationCodePlus":"SendVerificationCodePlus","../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp"}],Setting:[function(e,t,n){"use strict";cc._RF.push(t,"7dd8d8JnYhJzbKuNo0ShgP+","Setting");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=e("../global/Global"),u=e("../global/User"),p=e("../msgbox/ConfirmBox"),g=i(e("../msgbox/PanelHelp")),m=e("../withdrawal/SetSecondaryPwdView"),f=e("../framework/base/Defines"),b=e("../framework/event/EventApi"),{ccclass:y,property:_}=cc._decorator;let v=class extends d.default{constructor(){super(...arguments),this.title=null,this.musiclabel=null,this.effectlabel=null,this.btnlabel=null,this.languagelabel=null,this.musicToggle=null,this.effectToggle=null,this.switchacc=null,this.languageItem=null,this.resetNode=null,this.resetItemNode=null,this.scrollView=null}static getPrefabUrl(){return"setting/prefabs/Setting"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.title.language=a.i18n.SETTING.TITTLE,this.musiclabel.language=a.i18n.SETTING.MUSIC,this.effectlabel.language=a.i18n.SETTING.EFFECT,this.btnlabel.language=a.i18n.SETTING.CHANGEID;let e=!!r.Manager.globalAudio.isMusicOn;cc.log(r.Manager.globalAudio.isMusicOn,"\u7b2c\u4e09\u65b9\u7b2c\u4e09\u65b9\u90fd\u662f"),this.musicToggle.isChecked=e,this.musicToggle.node.getChildByName("Background").active=!e;let t=!!r.Manager.globalAudio.isEffectOn;this.effectToggle.isChecked=t,this.effectToggle.node.getChildByName("Background").active=!t,this.languagelabel.language=a.i18n.SETTING.LANGUAGE}bindingEvents(){super.bindingEvents(),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_PushResetNewPlayerGuid),this.resetGuid),f.ENABLE_CHANGE_LANGUAGE&&this.registerEvent(b.EventApi.CHANGE_LANGUAGE,()=>{this.languagelabel.language=a.i18n.SETTING.LANGUAGE})}resetGuid(e){if(e){g.default.showTip(a.i18n.SETTING.RESETGUIDTIPSUCC);let e=[];u.User._gameIds.forEach(t=>{2001!=t&&2002!=t&&2003!=t||e.push(t)}),u.User._gameIds=[],u.User._gameIds=u.User._gameIds.concat(e)}}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&e[0].isGame&&(this.switchacc.active=!1,this.languageItem.active=!1,this.resetNode.active=!1),this.resetItemNode.active=!!u.User._phone&&null!=this.node.parent.getChildByName("HallView"),this.resetItemNode.active?(this.scrollView.enabled=!0,this.scrollView.scrollToTop()):this.scrollView.enabled=!1}onClick(e,t){switch(e){case"musicToggle":this.click_music(t);break;case"effectToggle":this.click_effect(t);break;case"switchacc":this.click_switchacc();break;case"close":this.closeWithAction();break;case"resetPwd":dispatch("toResetPwdView"),this.closeWithAction();break;case"resetSCPwd":dispatch("openSetSecondaryPwdView",m.SettSecondaryPwdType.reset),this.closeWithAction();break;case"resetGuid":g.default.showDialog("",a.i18n.SETTING.RESETGUIDTIP,()=>{let e=s.protoPackage.hall.ReqResetNewPlayerGuid.create({gameId:0}),t=s.protoPackage.hall.ReqResetNewPlayerGuid.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_ReqResetNewPlayerGuid,t)},null,p.ConfirmBoxBtnSprite.btn_Cancel,p.ConfirmBoxBtnSprite.btn_Reset);break;case"languageBtn":dispatch("openLanguageChangeView");break;default:G.Logger.error("no find button name -> %s",e)}}click_switchacc(){h.goToLogin()}click_music(e){let t=e.getComponent(cc.Toggle).isChecked;e.getChildByName("Background").active=!t,r.Manager.globalAudio.setMusicEnabled(t,!0)}click_effect(e){let t=e.getComponent(cc.Toggle).isChecked;e.getChildByName("Background").active=!t,r.Manager.globalAudio.isEffectOn=t}start(){}};o([_(cc.Label)],v.prototype,"title",void 0),o([_(cc.Label)],v.prototype,"musiclabel",void 0),o([_(cc.Label)],v.prototype,"effectlabel",void 0),o([_(cc.Label)],v.prototype,"btnlabel",void 0),o([_(cc.Label)],v.prototype,"languagelabel",void 0),o([_(cc.Toggle)],v.prototype,"musicToggle",void 0),o([_(cc.Toggle)],v.prototype,"effectToggle",void 0),o([_(cc.Node)],v.prototype,"switchacc",void 0),o([_(cc.Node)],v.prototype,"languageItem",void 0),o([_(cc.Node)],v.prototype,"resetNode",void 0),o([_(cc.Node)],v.prototype,"resetItemNode",void 0),o([_(cc.ScrollView)],v.prototype,"scrollView",void 0),v=o([y,l.injectService(c.LobbyService.instance)],v),n.default=v,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/event/EventApi":"EventApi","../framework/ui/UIView":"UIView","../global/Global":"Global","../global/User":"User","../msgbox/ConfirmBox":"ConfirmBox","../msgbox/PanelHelp":"PanelHelp","../withdrawal/SetSecondaryPwdView":"SetSecondaryPwdView"}],ShareBase:[function(e,t,n){"use strict";cc._RF.push(t,"51c1ac3ua9NcbG3U/Ddk2au","ShareBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{constructor(){this.AppClassName=""}shareText(e){let t=-1;return cc.sys.isBrowser?cc.log("shareTest",e):cc.sys.os===cc.sys.OS_IOS||cc.sys.os===cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod(this.AppClassName,"shareTest","(Ljava/lang/String;)I",e)),t}shareImage(e){cc.sys.isBrowser&&cc.log("shareImage",e),this.downRemoteImage(e,e=>{cc.sys.os===cc.sys.OS_IOS||cc.sys.os===cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.AppClassName,"shareImage","(Ljava/lang/String;)I",e)})}downRemoteImage(e,t){let n="",o=new XMLHttpRequest;o.onreadystatechange=()=>{if(4===o.readyState&&200===o.status&&o.response&&cc.sys.isNative){n=jsb.fileUtils.getWritablePath()+"qrcode.png";const e=new Uint8Array(o.response);let i=jsb.fileUtils.writeDataToFile(e,n);console.log(i?"\u4fdd\u5b58\u6210\u529f":"\u4fdd\u5b58\u5931\u8d25"),t(n)}},o.responseType="arraybuffer",o.open("GET",e,!0),o.send()}},cc._RF.pop()},{}],ShareHelpder:[function(e,t,n){"use strict";cc._RF.push(t,"b051csq0+1J+409Xi51qe4e","ShareHelpder");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=o(e("./ShareBase"));class a extends i.default{constructor(){super(...arguments),this.AppClassName="com/threeoctopus/ShareHelpder/instagram/InstagramShare"}shareText(e){let t=super.shareText(e);return console.log("shareText:22222",t),t}shareImage(e){let t=super.shareImage(e);return console.log("shareImage:",t),t}}class r extends i.default{constructor(){super(...arguments),this.AppClassName="com/threeoctopus/ShareHelpder/whatsapp/WhatsappShare"}shareText(e){let t=super.shareText(e);return console.log("shareText:2222",t),t}shareImage(e){let t=super.shareImage(e);return console.log("shareImage:",t),t}}class s{constructor(){this.instagram=new a,this.whatsapp=new r}static getInstance(){return null==s._ins&&(s._ins=new s),s._ins}shareTextFail(e){cc.log("\u5206\u4eab\u6587\u5b57\u5931\u8d25:",e)}shareImageFail(e){cc.log("\u5206\u4eab\u56fe\u7247\u5931\u8d25:",e)}}n.default=s,s._ins=null,cc._RF.pop()},{"./ShareBase":"ShareBase"}],ShareTraceHelpder:[function(e,t,n){"use strict";cc._RF.push(t,"20aecOtJP5L7b4URvvtIrdY","ShareTraceHelpder"),Object.defineProperty(n,"__esModule",{value:!0}),n.ShareTraceHelpder=void 0;const o=e("../../common/manager/Manager"),i=e("../../common/net/CommonService"),a=e("../../common/net/LobbyService"),r=e("../../framework/decorator/Decorators"),s=e("../../global/User");n.ShareTraceHelpder=new class{constructor(){this.inviterId=0,this.agentId=0,this.timerCheckCount=0,this.maxCount=3,this.isInit=!1}init(){o.Manager.eventDispatcher.addEventListener(r.makeKey(i.serverType.Lobby,i.protoPackage.hall.HallCmd.CMD_BIND_AGENT),()=>{s.User._inviterId=this.inviterId},this)}inviteCodeCallBack(e){G.Logger.log("\u83b7\u53d6\u9080\u8bf7\u7801\u4fe1\u606f\u6210\u529f\uff1a"+e),this.handleData(e)}failed(e){G.Logger.error("ShareTraceHelpder.\u83b7\u53d6\u9080\u8bf7\u7801\u5931\u8d25\uff1a"+e)}getData(){var e="";return cc.sys.os===cc.sys.OS_IOS?e=jsb.reflection.callStaticMethod("ShareTraceHelpder","getShareTraceAppDate",""):cc.sys.os===cc.sys.OS_ANDROID&&(e=jsb.reflection.callStaticMethod("com/threeoctopus/shareTrace/ShareTraceHelpder","getShareTraceAppDate","()Ljava/lang/String;")),e}handleData(e){if(G.Logger.warn("getInviterId"+e),e){let t=e.split("userId=")[1]||"";if(t)this.inviterId=Number(t);else{let t=e.split("agentId=")[1]||"";t&&(this.agentId=Number(t))}}}getInviterId(){if(cc.sys.isBrowser)return 0;if(0!=this.inviterId)return this.inviterId;var e=this.getData();return this.handleData(e),G.Logger.log("\u9080\u8bf7\u7801\uff1a"+this.inviterId),this.inviterId}getAgentId(){if(cc.sys.isBrowser)return 0;if(0!=this.agentId)return this.agentId;var e=this.getData();return this.handleData(e),G.Logger.log("\u4ee3\u7406id\uff1a"+this.agentId),this.agentId}checkNeedBindInviterId(e=!1){if(!cc.sys.isBrowser){if(0!=s.User._inviterId)return G.Logger.log("\u5df2\u7ecf\u7ed1\u5b9a\u9080\u8bf7\u7801\uff1a"+s.User._inviterId);e&&(this.timerCheckCount=this.maxCount),0==this.isInit&&(this.isInit=!0,this.init()),G.Logger.warn("checkNeedBindInviterId"),0==this.inviterId&&this.getInviterId(),this.inviterId>0?this.bindInviterIdId():this.timerCheckCount>0&&(this.timerCheckCount-=1,setTimeout(()=>{this.checkNeedBindInviterId()},3e3))}}bindInviterIdId(){if(0==this.inviterId)return;let e=i.protoPackage.hall.base.BindAgentReq.create({inviterId:this.inviterId}),t=i.protoPackage.hall.base.BindAgentReq.encode(e).finish();a.LobbyService.instance.sendMsg(i.serverType.Lobby,i.protoPackage.hall.HallCmd.CMD_BIND_AGENT,t)}},cc._RF.pop()},{"../../common/manager/Manager":"Manager","../../common/net/CommonService":"CommonService","../../common/net/LobbyService":"LobbyService","../../framework/decorator/Decorators":"Decorators","../../global/User":"User"}],ShareView:[function(e,t,n){"use strict";cc._RF.push(t,"82a04879jJLPoe7gziQvrXH","ShareView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/net/CommonService"),r=e("../common/net/LobbyService"),s=e("../framework/decorator/Decorators"),c=i(e("../framework/ui/UIView")),l=e("../global/User"),d=e("../platform/android"),h=e("../common/language/LanguageImpl"),{ccclass:u,property:p}=cc._decorator;let g=class extends c.default{constructor(){super(...arguments),this.icon=null,this.link=null,this.kuang=null,this.panelbg=null}static getPrefabUrl(){return"share/prefabs/ShareView"}onLoad(){super.onLoad(),this.kuang.node.active=!1,this.content=this.node.getChildByName("content"),this.shareInfo()}bindingEvents(){super.bindingEvents()}createQRcode(e){var t=new window.QRCode(-1,2);t.addData(e),t.make(),this.icon.fillColor=cc.Color.BLACK;for(var n=this.icon.node.width/t.getModuleCount(),o=this.icon.node.height/t.getModuleCount(),i=0;i<t.getModuleCount();i++)for(var a=0;a<t.getModuleCount();a++)if(t.isDark(i,a)){var r=Math.ceil((a+1)*n)-Math.floor(a*n),s=Math.ceil((i+1)*n)-Math.floor(i*n);this.icon.rect(Math.round(a*n),Math.round(i*o),r,s),this.icon.fill()}}shareInfo(){let e=l.User._promoteUrl;this.createQRcode(e),e.length>24&&(e=e.slice(0,24)+"..."),this.link.string=e}show(e){super.show(e),this.showWithAction(!0),this.kuang.node.active=!0}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"facebook":this.shareToFacebook();break;case"instagram":this.shareToInstagram();break;case"whatsApp":this.shareToWhatsApp()}}shareToFacebook(){window.platformUtil.shareToFacebook(d.shareType.PHOTO,l.User._promoteUrl,l.User._shareImgUrl)}shareToInstagram(){G.ShareHelpder.instagram.shareImage(l.User._shareImgUrl)}shareToWhatsApp(){G.ShareHelpder.whatsapp.shareImage(l.User._shareImgUrl)}reqShare(){let e=a.protoPackage.hall.base.Share.create({userId:l.User._userID}),t=a.protoPackage.hall.base.Share.encode(e).finish();this.service.sendMsg(a.serverType.Lobby,a.protoPackage.hall.HallCmd.SHARE,t)}onCopyInvateURL(){window.platformUtil.copyToClip(l.User._promoteUrl),this.playDefaultEffect()}start(){this.panelbg&&(this.panelbg.getChildByName("exclusiveLink").getComponent(cc.Label).language=h.i18n.SHARE.EXCLUSIVELINK,this.panelbg.getChildByName("layout_share").getChildByName("shareTo").getComponent(cc.Label).language=h.i18n.SHARE.SHARETO)}};o([p(cc.Graphics)],g.prototype,"icon",void 0),o([p(cc.Label)],g.prototype,"link",void 0),o([p(cc.Sprite)],g.prototype,"kuang",void 0),o([p(cc.Node)],g.prototype,"panelbg",void 0),g=o([u,s.injectService(r.LobbyService.instance)],g),n.default=g,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../platform/android":"android"}],SignUpPlayerItem:[function(e,t,n){"use strict";cc._RF.push(t,"0727918MJxB1Jg2i0fyFZuS","SignUpPlayerItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=e("../global/UtilMgr"),{ccclass:s,property:c}=cc._decorator;let l=class extends a.default{constructor(){super(...arguments),this.id=null,this.nickname=null,this.signUpTime=null,this.signUpFee=null}onLoad(){}updateItem(e,t){super.updateItem(e,t);let n=e;this.id.string=n.userId+"",this.nickname.string=r.UtilMgr.setString(n.nickname),this.signUpTime.string=new Date(+n.signUpTime).format("yyyy-MM-dd hh:mm:ss"),this.signUpFee.string=r.UtilMgr.changeMoney(n.signUpFee)}};o([c(cc.Label)],l.prototype,"id",void 0),o([c(cc.Label)],l.prototype,"nickname",void 0),o([c(cc.Label)],l.prototype,"signUpTime",void 0),o([c(cc.Label)],l.prototype,"signUpFee",void 0),l=o([s],l),n.default=l,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../global/UtilMgr":"UtilMgr"}],SignUpPlayersView:[function(e,t,n){"use strict";cc._RF.push(t,"53239WYjKxBAIOgSz3FDPt5","SignUpPlayersView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewLogic")),r=e("../common/net/LobbyService"),s=e("../framework/decorator/Decorators"),c=i(e("../framework/ui/UIView")),{ccclass:l,property:d}=cc._decorator;let h=class extends c.default{static getPrefabUrl(){return"tournament/prefabs/SignUpPlayersView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){this.updateView()}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this.data=e[0]),console.log("SignUpPlayers",this.data)}bindingEvents(){super.bindingEvents()}onClick(e,t){switch(e){case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}updateView(){this.getComponent(a.default).initUI(this.data)}onDestroy(){super.onDestroy()}};h=o([l,s.injectService(r.LobbyService.instance)],h),n.default=h,cc._RF.pop()},{"../common/component/ScroViewLogic":"ScroViewLogic","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView"}],SigninNew:[function(e,t,n){"use strict";cc._RF.push(t,"6e0c8UpyzhGyJBPm9a9uffT","SigninNew");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/net/LobbyService"),s=e("../framework/decorator/Decorators"),c=i(e("../framework/ui/UIView")),l=i(e("../msgbox/PanelHelp")),d=e("../common/manager/Manager"),h=e("../framework/external/protoc"),u=i(e("../data/HallData")),{ccclass:p,property:g}=cc._decorator;let m=class extends c.default{constructor(){super(...arguments),this.SevenSigin=null,this.ThirtySigin=null,this.dayItem0=null,this.dayItem1=null,this.dayItem2=null,this.dayItem3=null,this.dayItem4=null,this.dayItem5=null,this.dayItem6=null,this.dayNode0=null,this.dayNode1=null,this.dayNode2=null,this.dayNode3=null,this.dayNode4=null,this.dayNode5=null}static getPrefabUrl(){return"signin/prefabs/SigninNew"}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_S2C_GetSignedInfo",this.onEvent_S2C_GetSignedInfo),this.registerEvent("Event_S2C_Signed",this.onEvent_S2C_Signed)}show(e){this.requestGetSigned()}requestGetSigned(){let e=h.MST.C2S_GetSignedInfo.create({serial:d.Manager.netManager.getNewSeqId()}),t=h.MST.C2S_GetSignedInfo.encode(e).finish();r.LobbyService.instance.sendMsg(h.MST.C2S_GetSignedInfo,h.MST.OuterOpcode_Lobby.C2S_GetSignedInfo,t)}onEvent_S2C_GetSignedInfo(){let e=G.DataMgr.get(u.default).signinData;this.SevenSigin.active=!1,this.ThirtySigin.active=!1,0==e.signedType?(this.SevenSigin.active=!0,this.refreshSevenView()):(this.ThirtySigin.active=!0,this.refreshThirtyView())}onEvent_S2C_Signed(){this.requestGetSigned();let e=G.DataMgr.get(u.default).signinData,t=e.serial,n=e.reward;n&&n>0?0==t?l.default.showTip(a.i18n.TIPS.SEVENSIGNINSUCCESS):l.default.showTip(a.i18n.TIPS.THIRTYSIGNINSUCCESS):l.default.showTip(a.i18n.TIPS.SIGNINSUCCESS)}refreshSevenView(){let e=this,t=G.DataMgr.get(u.default).signinData,n=t.signedDays,o=t.isSigned;for(let i=0;i<7;i++){let t=this[`dayItem${i}`].getChildByName("bg"),a=t.getChildByName("canGet"),r=t.getChildByName("obtain"),s=t.getChildByName("noReach"),c=a.getChildByName("btnMasuk");s.active=!0,a.active=!1,r.active=!1,n>0?i<n?(r.active=!0,s.active=!1):i==n?o||(a.active=!0,r.active=!1,s.active=!1,c.on(cc.Node.EventType.TOUCH_END,()=>{e.requestSignHandler()})):s.active=!0:0==i&&(a.active=!0,s.active=!1,c.on(cc.Node.EventType.TOUCH_END,()=>{e.requestSignHandler()}))}}requestSignHandler(){let e=h.MST.C2S_Signed.create({serial:d.Manager.netManager.getNewSeqId()}),t=h.MST.C2S_Signed.encode(e).finish();r.LobbyService.instance.sendMsg(h.MST.C2S_Signed,h.MST.OuterOpcode_Lobby.C2S_Signed,t)}refreshThirtyView(){let e=this,t=G.DataMgr.get(u.default).signinData,n=t.signedDays,o=t.isSigned,i=0,a=0,r=0;for(let s=0;s<6;s++)for(let t=0;t<5;t++){a>4&&(a=0,r++);let t=this[`dayNode${r}`].getChildByName(`day${a}`);t.getChildByName("day0").getComponent(cc.Label).string=`Day${i+1}`;let s=t.getChildByName("canGet"),c=t.getChildByName("obtain"),l=t.getChildByName("noReach"),d=s.getChildByName("btnMasuk");s.active=!1,c.active=!1,l.active=!0,n>0?i<n?(c.active=!0,l.active=!1):i==n?o||(s.active=!0,c.active=!1,l.active=!1,d.on(cc.Node.EventType.TOUCH_END,()=>{e.requestSignHandler()})):l.active=!0:0==i&&(s.active=!0,l.active=!1,d.on(cc.Node.EventType.TOUCH_END,()=>{e.requestSignHandler()})),i++,a++}}onClick(e,t){switch(e){case"btnClose":this.close()}}onDestroy(){super.onDestroy()}};o([g(cc.Node)],m.prototype,"SevenSigin",void 0),o([g(cc.Node)],m.prototype,"ThirtySigin",void 0),o([g(cc.Node)],m.prototype,"dayItem0",void 0),o([g(cc.Node)],m.prototype,"dayItem1",void 0),o([g(cc.Node)],m.prototype,"dayItem2",void 0),o([g(cc.Node)],m.prototype,"dayItem3",void 0),o([g(cc.Node)],m.prototype,"dayItem4",void 0),o([g(cc.Node)],m.prototype,"dayItem5",void 0),o([g(cc.Node)],m.prototype,"dayItem6",void 0),o([g(cc.Node)],m.prototype,"dayNode0",void 0),o([g(cc.Node)],m.prototype,"dayNode1",void 0),o([g(cc.Node)],m.prototype,"dayNode2",void 0),o([g(cc.Node)],m.prototype,"dayNode3",void 0),o([g(cc.Node)],m.prototype,"dayNode4",void 0),o([g(cc.Node)],m.prototype,"dayNode5",void 0),m=o([p,s.injectService(r.LobbyService.instance)],m),n.default=m,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../data/HallData":"HallData","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],Singleton:[function(e,t,n){"use strict";cc._RF.push(t,"3c1e2cvYbZBz7B3hGxIdjG+","Singleton"),Object.defineProperty(n,"__esModule",{value:!0}),n.getSingleton=void 0,n.getSingleton=function(e){return e.Instance()},cc._RF.pop()},{}],Strategies:[function(e,t,n){"use strict";cc._RF.push(t,"ac495r8FUFEA7G3vaHhJtO+","Strategies"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{constructor(){}isNonEmpty(e,t){if(""===e)return t[0]}minLength(e,t){if(e.length<t[0])return t[1]}isMobile(e,t){if(!/(^1[3|5|8][0-9]{9}$)/.test(e))return t[0]}isEmail(e,t){if(!/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/.test(e))return t[0]}passwordRule(e,t){if(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(e))return t[0]}},cc._RF.pop()},{}],SubGameDefine:[function(e,t,n){"use strict";cc._RF.push(t,"40b7f7whKRERqDWzvij92DR","SubGameDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.SubGameDefine=void 0,function(e){let t;(function(e){e.CRASH="crash",e.ROULETTE="roulette",e.WINGO="wingo"})(t=e.GameName||(e.GameName={}))}(n.SubGameDefine||(n.SubGameDefine={})),cc._RF.pop()},{}],TitleItemPageUser:[function(e,t,n){"use strict";cc._RF.push(t,"1dac0fmqHtNApsWicOqgsQj","TitleItemPageUser");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../data/UserData")),r=e("../../framework/base/Defines"),s=i(e("../../framework/ui/UIView")),c=e("../../global/UtilMgr"),l=i(e("../../login/LoginNewView")),d=i(e("../../wallet/RechargeNewView")),h=e("../manager/Manager"),u=i(e("../utils/NumberUtils")),{ccclass:p,property:g}=cc._decorator;let m=class extends s.default{constructor(){super(...arguments),this.labPageName=null,this.btnLogin=null,this.nodUserInfo=null,this.imgAvatar=null,this.labUserName=null,this.imgGold=null,this.labGold=null,this._userData=null}onLoad(){super.onLoad(),this.initData(),this.initUI(),this.refreshUser()}start(){}bindingEvents(){super.bindingEvents(),this.registerEvent("Event_M2C_GoldChange_Mes",this.onEvent_M2C_GoldChange_Mes),this.registerEvent("Event_S2C_ModifyAvartar",this.onRefreshUserInfo),this.registerEvent("updateUserInfo",this.onRefreshUserInfo)}initData(){this._userData=G.DataMgr.get(a.default)}initUI(){this.labPageName.string="",this.btnLogin.node.active=!1,this.nodUserInfo.active=!1,this.imgAvatar.spriteFrame=null,this.labGold.string=""}onRefreshUserInfo(){this.refreshUser()}setPageName(e){this.labPageName.string=e}languagePageName(e){this.labPageName.language=e}refreshUser(){this.btnLogin.node.active=!1,this.nodUserInfo.active=!1,this._userData.isLogined()?(this.nodUserInfo.active=!0,this.refreshAvatar(),this.refreshGold(),this.refreshNick()):this.btnLogin.node.active=!0}refreshAvatar(){c.UtilMgr.loadHeadImg(this.imgAvatar,this._userData.info.HeaderUrl,this._userData.info.UnitId,this)}refreshGold(){this.labGold.string=u.default.converToC(Number(this._userData.info.Gold))}refreshNick(){this.labUserName.string=c.UtilMgr.setString(this._userData.info.Nick)}getGoldWorldPos(){return this.imgGold.node.convertToWorldSpaceAR(cc.v2(0,0))}onEvent_M2C_GoldChange_Mes(e){this.refreshGold()}onClick(e){switch(e){case"btnLogin":h.Manager.uiManager.open({type:l.default,bundle:r.BUNDLE_RESOURCES});break;case"btnBuyGold":h.Manager.uiManager.open({type:d.default,bundle:r.BUNDLE_RESOURCES})}}};o([g(cc.Label)],m.prototype,"labPageName",void 0),o([g(cc.Button)],m.prototype,"btnLogin",void 0),o([g(cc.Node)],m.prototype,"nodUserInfo",void 0),o([g(cc.Sprite)],m.prototype,"imgAvatar",void 0),o([g(cc.Label)],m.prototype,"labUserName",void 0),o([g(cc.Sprite)],m.prototype,"imgGold",void 0),o([g(cc.Label)],m.prototype,"labGold",void 0),m=o([p],m),n.default=m,cc._RF.pop()},{"../../data/UserData":"UserData","../../framework/base/Defines":"Defines","../../framework/ui/UIView":"UIView","../../global/UtilMgr":"UtilMgr","../../login/LoginNewView":"LoginNewView","../../wallet/RechargeNewView":"RechargeNewView","../manager/Manager":"Manager","../utils/NumberUtils":"NumberUtils"}],TitleItemPage:[function(e,t,n){"use strict";cc._RF.push(t,"c554bHJMOBExoTNGQc8eSX1","TitleItemPage");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../../framework/ui/UIView")),{ccclass:r,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.labPageName=null}onLoad(){super.onLoad(),this.initData(),this.initUI()}start(){}bindingEvents(){super.bindingEvents()}initData(){}initUI(){this.labPageName.string=""}setPageName(e){this.labPageName.string=e}languagePageName(e){this.labPageName.language=e}};o([s(cc.Label)],c.prototype,"labPageName",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../../framework/ui/UIView":"UIView"}],ToastDelegate:[function(e,t,n){"use strict";cc._RF.push(t,"cadb3GTNrdGmIsJFrNkQpVQ","ToastDelegate"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{show(e){}},cc._RF.pop()},{}],TournamentData:[function(e,t,n){"use strict";cc._RF.push(t,"db73f6UE85G6bfNtGFJs94g","TournamentData"),Object.defineProperty(n,"__esModule",{value:!0}),n.CreateTournamentStep=void 0,function(e){e[e.SetRules=1]="SetRules",e[e.CreateBasicInformation=2]="CreateBasicInformation",e[e.SetReward=3]="SetReward"}(n.CreateTournamentStep||(n.CreateTournamentStep={}));class o{constructor(){this.m_gameIds=null,this.signStatus=null,this.tournamentStatus=null,this.tournamentID=null,this.isTournamentGame=!1,this.toServerId=null,this.serverType=null,this.flushItmeID=null,this.serviceFee=null,this.isCountDownDate=null,this.isOpenTournamentView=!1}static getInstance(){return null===this.instance&&(this.instance=new o),this.instance}set gameIds(e){this.m_gameIds=e}get gameIds(){return this.m_gameIds}clear(){this.m_gameIds=null,this.signStatus=null,this.tournamentStatus=null,this.tournamentID=null,this.isTournamentGame=!1,this.toServerId=null,this.serverType=null,this.isOpenTournamentView=!1}}n.default=o,o.instance=null,cc._RF.pop()},{}],TournamentDetailView:[function(e,t,n){"use strict";cc._RF.push(t,"c8598j6TttEVoPlCYyZSmeo","TournamentDetailView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/config/Config"),r=e("../common/language/LanguageImpl"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=e("../framework/Framework"),u=i(e("../framework/ui/UIView")),p=e("../global/User"),g=e("../global/UtilMgr"),m=i(e("../msgbox/PanelHelp")),f=e("../platform/android"),b=i(e("./SignUpPlayersView")),y=i(e("./TournamentData")),{ccclass:_,property:v}=cc._decorator;let w=class extends u.default{constructor(){super(...arguments),this.detailNode=null,this.signUpNode=null,this.head=null,this.creatorName=null,this.game=null,this.pPeople=null,this.rewardChip=[],this.enterPassword=null,this.touenamentID=null,this.password_SignUp=null,this.password=null,this.detailjoinFee=null,this.sginUpjoinFee=null,this.closeBtn=null,this.signUpPlayersBtn=null,this.signUpBtn=null,this.exitTournamentBtn=null,this.joinBtn=null,this.shareNode=null,this.shareBG=null,this.shanrPassword=null,this.shanrTournamentID=null,this.icon=null,this._isSaveIamge=!1}static getPrefabUrl(){return"tournament/prefabs/TournamentDetailView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){this.updateView()}hideUI(){this.closeBtn.active=!1,this.signUpBtn.active=!1,this.signUpPlayersBtn.active=!1,this.exitTournamentBtn.active=!1,this.shareBG.active=!1}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this.data=e[0]),console.log("ITournamentDetailRes",this.data),this.hideUI(),0==this.data.userId?0==this.data.signStatus?this.signUpNode.active=!0:this.detailNode.active=!0:(this.data.userId==p.User._userID?(this.detailNode.active=!0,this.closeBtn.active=!0,this.signUpPlayersBtn.active=!0):0==this.data.signStatus?this.signUpNode.active=!0:this.detailNode.active=!0,0==this.data.signStatus?this.signUpBtn.active=!0:this.exitTournamentBtn.active=!0,this.joinBtn.active=0!=this.data.signStatus),this.shareNode.x=this.signUpNode.active?110:0}bindingEvents(){super.bindingEvents(),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_TournamentSignUp),this.onNetTournamentSignUp),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_TournamentSignUpUsers),this.onNetTournamentSignUpUsersRes),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_CloseTournament),this.onNetCloseTournamentRes),this.registerEvent("handleSaveImageToLocal",e=>{e&&(this.unscheduleAllCallbacks(),m.default.showTip(r.i18n.REDPAKGE.saveSuccess),this._isSaveIamge=!1,this.shareImageChangeUI(!1))})}updateView(){this.creatorName.string=g.UtilMgr.setString(this.data.nickname),this.pPeople.string=this.data.numberOfParticipants+"-people",this.shanrPassword.string=this.password_SignUp.string=this.password.string=0==this.data.password.length?"No Password":this.data.password,this.shanrTournamentID.string=this.touenamentID.string=this.data.tournamentId+"",this.sginUpjoinFee.string=this.detailjoinFee.string=g.UtilMgr.changeMoney(this.data.joinFee),this.game.string=a.Config.games[this.data.gameId].disName;let e=this.data.reward.split(",");this.rewardChip.forEach((t,n)=>{n<e.length&&(t.active=!0,t.getChildByName("lb_Glod").getComponent(cc.Label).string=g.UtilMgr.changeMoney(e[n]))}),g.UtilMgr.loadHeadImg(this.head,this.data.headImg,this.data.userId+"",this),this.enterPassword.node.active=!!this.data.enterPassword,this.sginUpjoinFee.node.parent.active=this.detailjoinFee.node.parent.active=0!=this.data.joinFee;let t=this.shareUrl();this.createQRcode(decodeURIComponent(t))}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"closeBtn":m.default.showDialog("",r.i18n.Tournament.CloseTournament,()=>{this.reqCloseTournament()},()=>{},"btn_Cancel","btn_Confirm");break;case"signUpPlayerBtn":this.reqSignUpUsers();break;case"joinBtn":this.reqJoinTournament();break;case"signUpBtn_1":this.reqSignUp(1);break;case"sginUpBtn_2":this.reqSignUp(2);break;case"exitTournamentBtn":this.reqSignUp(3);break;case"saveImageBtn":this.onSaveImage();break;case"facebookBtn":this.onShareFaceBook();break;case"copyLineBtn":this.onCopyTournamentInfo();break;case"copyIDBtn":window.platformUtil.copyToClip(this.touenamentID.string);break;default:G.Logger.error("no find button name -> %s",e)}}reqSignUp(e){let t,n;1==e?(t=1==this.data.enterPassword?this.enterPassword.string:"",n=0):2==e?(t=this.data.password,n=0):3==e&&(t=this.data.password,n=1);let o={tournamentId:this.data.tournamentId,password:t,type:n};this.signType=n,this.pw=t,G.Logger.log("\u62a5\u540d\u9526\u6807\u8d5b",e,o);let i=s.protoPackage.hall.TournamentSignUpReq.create(o),a=s.protoPackage.hall.TournamentSignUpReq.encode(i).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_TournamentSignUp,a)}onNetTournamentSignUp(e){0==e.statusMsg.status?(this.signUpBtn.active=1==this.signType,this.exitTournamentBtn.active=1!=this.signType,this.signUpNode.active=1==this.signType&&this.data.userId!=p.User._userID,this.detailNode.active=this.data.userId==p.User._userID||1!=this.signType,this.joinBtn.active=1!=this.signType,y.default.getInstance().flushItmeID=this.data.tournamentId,this.shareNode.x=this.signUpNode.active?110:0,0==this.signType&&m.default.showTip(r.i18n.Tournament.SignSuccessfully),this.shanrPassword.string=this.password_SignUp.string=this.password.string=0==this.pw.length?"No Password":this.pw,dispatch("UpdateTournamentList")):251==e.statusMsg.status?m.default.showMsgBox("",r.i18n.FRIENDROOM.ToRecharge,()=>{dispatch("openRechargeView")},"btn_Recharge"):309==e.statusMsg.status?m.default.showTip(r.i18n.Tournament.passwordWong):m.default.showTip(r.i18n.ERRORCODE[e.statusMsg.status])}reqSignUpUsers(){let e={tournamentId:this.data.tournamentId},t=s.protoPackage.hall.TournamentSignUpUsersReq.create(e),n=s.protoPackage.hall.TournamentSignUpUsersReq.encode(t).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_TournamentSignUpUsers,n)}onNetTournamentSignUpUsersRes(e){0==e.statusMsg.status?h.Manager.uiManager.open({type:b.default,bundle:l.BUNDLE_RESOURCES,args:[e.users]}):m.default.showTip(r.i18n.ERRORCODE[e.statusMsg.status])}reqCloseTournament(){let e={tournamentId:this.data.tournamentId},t=s.protoPackage.hall.CloseTournamentReq.create(e),n=s.protoPackage.hall.CloseTournamentReq.encode(t).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_CloseTournament,n)}onNetCloseTournamentRes(e){0==e.statusMsg.status?(dispatch("UpdateTournamentList"),this.closeWithAction()):m.default.showTip(r.i18n.ERRORCODE[e.statusMsg.status])}reqJoinTournament(){m.default.showLoading(r.i18n.Waiting.EnterGame),y.default.getInstance().isTournamentGame=!0,y.default.getInstance().tournamentID=this.data.tournamentId,y.default.getInstance().toServerId=this.data.serverId,y.default.getInstance().serverType=this.data.serverType,dispatch("JoinTournament",{serviceType:this.data.serverType,toServerId:this.data.serverId})}shareUrl(){return G.URLMgr.shareFriendRoomURL+"/t/"+window.platformUtil.getAppQuDaoId()+"/"+p.User._userID+"/"+this.data.gameId+"/"+this.data.tournamentId+"/index.html"}onCopyTournamentInfo(){let e=this.shareUrl();window.platformUtil.copyToClip(e,r.i18n.FRIENDROOM.CopyRoomInfoSuccess)}onShareFaceBook(){let e=this.shareUrl();window.platformUtil.shareToFacebook(f.shareType.LINK,e,e)}shareImageChangeUI(e){this.shareBG.active=e,this.detailNode.active=!e}onSaveImage(){this.shareImageChangeUI(!0),this._isSaveIamge||(this._isSaveIamge=!0,g.UtilMgr.captureTexture(this.shareNode),this.scheduleOnce(()=>{this._isSaveIamge=!1,this.shareImageChangeUI(!1)},5))}createQRcode(e){var t=new window.QRCode(-1,3);t.addData(e),t.make(),this.icon.fillColor=cc.Color.BLACK;for(var n=this.icon.node.width/t.getModuleCount(),o=this.icon.node.height/t.getModuleCount(),i=0;i<t.getModuleCount();i++)for(var a=0;a<t.getModuleCount();a++)if(t.isDark(i,a)){var r=Math.ceil((a+1)*n)-Math.floor(a*n),s=Math.ceil((i+1)*n)-Math.floor(i*n);this.icon.rect(Math.round(a*n),Math.round(i*o),r,s),this.icon.fill()}}onDestroy(){super.onDestroy()}};o([v(cc.Node)],w.prototype,"detailNode",void 0),o([v(cc.Node)],w.prototype,"signUpNode",void 0),o([v(cc.Sprite)],w.prototype,"head",void 0),o([v(cc.Label)],w.prototype,"creatorName",void 0),o([v(cc.Label)],w.prototype,"game",void 0),o([v(cc.Label)],w.prototype,"pPeople",void 0),o([v(cc.Node)],w.prototype,"rewardChip",void 0),o([v(cc.EditBox)],w.prototype,"enterPassword",void 0),o([v(cc.Label)],w.prototype,"touenamentID",void 0),o([v(cc.Label)],w.prototype,"password_SignUp",void 0),o([v(cc.Label)],w.prototype,"password",void 0),o([v(cc.Label)],w.prototype,"detailjoinFee",void 0),o([v(cc.Label)],w.prototype,"sginUpjoinFee",void 0),o([v(cc.Node)],w.prototype,"closeBtn",void 0),o([v(cc.Node)],w.prototype,"signUpPlayersBtn",void 0),o([v(cc.Node)],w.prototype,"signUpBtn",void 0),o([v(cc.Node)],w.prototype,"exitTournamentBtn",void 0),o([v(cc.Node)],w.prototype,"joinBtn",void 0),o([v(cc.Node)],w.prototype,"shareNode",void 0),o([v(cc.Node)],w.prototype,"shareBG",void 0),o([v(cc.Label)],w.prototype,"shanrPassword",void 0),o([v(cc.Label)],w.prototype,"shanrTournamentID",void 0),o([v(cc.Graphics)],w.prototype,"icon",void 0),w=o([_,d.injectService(c.LobbyService.instance)],w),n.default=w,cc._RF.pop()},{"../common/config/Config":"Config","../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/Framework":"Framework","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","../platform/android":"android","./SignUpPlayersView":"SignUpPlayersView","./TournamentData":"TournamentData"}],"TournamentEndDetailView ":[function(e,t,n){"use strict";cc._RF.push(t,"a4a61EOYNRNLY0ZiLo+UdhU","TournamentEndDetailView ");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewLogic")),r=e("../common/config/Config"),s=e("../common/net/LobbyService"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=e("../global/UtilMgr"),{ccclass:h,property:u}=cc._decorator;let p=class extends l.default{constructor(){super(...arguments),this.head=null,this.creatorName=null,this.game=null,this.pPeople=null,this.jackpot=null,this.bonusSource=null}static getPrefabUrl(){return"tournament/prefabs/TournamentEndDetailView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content")}start(){this.updateView()}show(e){super.show(e),this.showWithAction(!0),e&&e[0]&&(this.data=e[0]),console.log("TournamentEndDetailView",this.data)}bindingEvents(){super.bindingEvents()}updateView(){d.UtilMgr.loadHeadImg(this.head,this.data.headImg,this.data.userId+"",this),this.creatorName.string=d.UtilMgr.setString(this.data.nickname),this.game.string=r.Config.games[this.data.gameId].disName,this.pPeople.string=this.data.numberOfParticipants+"-people";let e=this.data.reward.split(","),t=0;e.forEach(e=>{t+=+e}),this.jackpot.string=d.UtilMgr.changeMoney(t),this.bonusSource.string=0==this.data.bonusSource?"Pay by myself":"Pay by participant",this.getComponent(a.default).initUI(this.data.tournamentSignUpUser)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;default:G.Logger.error("no find button name -> %s",e)}}onDestroy(){super.onDestroy()}};o([u(cc.Sprite)],p.prototype,"head",void 0),o([u(cc.Label)],p.prototype,"creatorName",void 0),o([u(cc.Label)],p.prototype,"game",void 0),o([u(cc.Label)],p.prototype,"pPeople",void 0),o([u(cc.Label)],p.prototype,"jackpot",void 0),o([u(cc.Label)],p.prototype,"bonusSource",void 0),p=o([h,c.injectService(s.LobbyService.instance)],p),n.default=p,cc._RF.pop()},{"../common/component/ScroViewLogic":"ScroViewLogic","../common/config/Config":"Config","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr"}],TournamentEndItem:[function(e,t,n){"use strict";cc._RF.push(t,"a32eeGG/INJ4K3SDsHgw5wg","TournamentEndItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../common/component/ScroViewBaseItem")),r=e("../common/net/LobbyService"),s=e("../framework/decorator/Decorators"),c=e("../global/UtilMgr"),{ccclass:l,property:d}=cc._decorator;let h=class extends a.default{constructor(){super(...arguments),this.rank=null,this.userid=null,this.nickname=null,this.bonus=null}onLoad(){}updateItem(e,t){super.updateItem(e,t),this.rank.string=e.rank.toString(),this.userid.string=e.userId.toString(),this.nickname.string=c.UtilMgr.setString(e.nickname),this.bonus.string=c.UtilMgr.changeMoney(e.bonus)}};o([d(cc.Label)],h.prototype,"rank",void 0),o([d(cc.Label)],h.prototype,"userid",void 0),o([d(cc.Label)],h.prototype,"nickname",void 0),o([d(cc.Label)],h.prototype,"bonus",void 0),h=o([l,s.injectService(r.LobbyService.instance)],h),n.default=h,cc._RF.pop()},{"../common/component/ScroViewBaseItem":"ScroViewBaseItem","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../global/UtilMgr":"UtilMgr"}],TournamentItem:[function(e,t,n){"use strict";cc._RF.push(t,"487fbZlpjtNQK7o2tbkS7/X","TournamentItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/Manager"),r=e("../common/net/CommonService"),s=e("../common/net/LobbyService"),c=e("../framework/base/Defines"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=e("../global/User"),u=e("../global/UtilMgr"),p=i(e("./TournamentData")),{ccclass:g,property:m}=cc._decorator;let f=class extends d.default{constructor(){super(...arguments),this.head=null,this.creatorName=null,this.onlinePeople=null,this.championReward=null,this.needPassWordNode=null,this.detailNode=null,this.signUpNode=null,this.startTime=null,this.startTimeNode=null,this.tournamentType=null,this.tSprte=[],this._data=null}onLoad(){this.signUpNode.active=!1,this.detailNode.active=!1}updateItem(e){this._data=e,this.creatorName.string=u.UtilMgr.setString(e.nickname),this.onlinePeople.string=e.signNum+"/"+e.totalNum,this.championReward.string=u.UtilMgr.changeMoney(e.championReward),u.UtilMgr.loadHeadImg(this.head,this._data.headImg,e.userId+"",this),this.needPassWordNode.active=!!this._data.enterPassword,this.startTime.string=new Date(+this._data.startTime).format("yyyy-MM-dd hh:mm:ss"),0==e.userId?(0==e.signStatus?this.signUpNode.active=!0:this.detailNode.active=!0,this.tournamentType.spriteFrame=this.tSprte[1],this.startTimeNode.active=!0):(e.userId==h.User._userID?(this.detailNode.active=!0,this.tournamentType.spriteFrame=this.tSprte[0]):(0==e.signStatus?this.signUpNode.active=!0:this.detailNode.active=!0,this.tournamentType.spriteFrame=null),this.startTimeNode.active=!1)}onClick(e){let t=e.target.name;switch(a.Manager.globalAudio.playEffect("common/audio/click",c.BUNDLE_RESOURCES),t){case"detailBtn":case"signupBtn":p.default.getInstance().signStatus=this._data.signStatus,this.reqTournamentDetail()}}reqTournamentDetail(){let e={tournamentId:this._data.tournamentId},t=r.protoPackage.hall.TournamentDetailReq.create(e),n=r.protoPackage.hall.TournamentDetailReq.encode(t).finish();this.service.sendMsg(r.serverType.Lobby,r.protoPackage.hall.HallCmd.CMD_TournamentDetail,n)}onEnterSrcollView(){this.node.opacity=255}onExitScrollView(){this.node.opacity=0}};o([m(cc.Sprite)],f.prototype,"head",void 0),o([m(cc.Label)],f.prototype,"creatorName",void 0),o([m(cc.Label)],f.prototype,"onlinePeople",void 0),o([m(cc.Label)],f.prototype,"championReward",void 0),o([m(cc.Node)],f.prototype,"needPassWordNode",void 0),o([m(cc.Node)],f.prototype,"detailNode",void 0),o([m(cc.Node)],f.prototype,"signUpNode",void 0),o([m(cc.Label)],f.prototype,"startTime",void 0),o([m(cc.Node)],f.prototype,"startTimeNode",void 0),o([m(cc.Sprite)],f.prototype,"tournamentType",void 0),o([m(cc.SpriteFrame)],f.prototype,"tSprte",void 0),f=o([g,l.injectService(s.LobbyService.instance)],f),n.default=f,cc._RF.pop()},{"../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","./TournamentData":"TournamentData"}],TournamentRoomView:[function(e,t,n){"use strict";cc._RF.push(t,"26d7342Wk1K7bf58pS8KQAs","TournamentRoomView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=a(e("../common/component/ScroViewCtrl")),s=e("../common/config/Config"),c=e("../common/language/LanguageImpl"),l=e("../common/net/CommonService"),d=e("../common/net/LobbyService"),h=e("../framework/base/Defines"),u=e("../framework/decorator/Decorators"),p=e("../framework/Framework"),g=a(e("../framework/ui/UIView")),m=e("../global/User"),f=a(e("../msgbox/PanelHelp")),b=a(e("./CreateTournamentView")),y=a(e("./MyTournamentView")),_=a(e("./TournamentData")),v=a(e("./TournamentDetailView")),w=a(e("./TournamentEndDetailView ")),{ccclass:C,property:R}=cc._decorator;let L=class extends g.default{constructor(){super(...arguments),this.gameEditBox=null,this.lb_myTournamentTip=null,this.lb_myTournamentStep=null,this.lb_createTournamentTip=null,this.tournamentList=null,this.searchId=null}static getPrefabUrl(){return"tournament/prefabs/TournamentRoomView"}onLoad(){super.onLoad()}start(){}show(e){super.show(e),this.reqTournamentList()}bindingEvents(){super.bindingEvents(),this.registerEvent(u.makeKey(l.serverType.Lobby,l.protoPackage.hall.HallCmd.CMD_TournamentList),this.onNetTournamentList),this.registerEvent(u.makeKey(l.serverType.Lobby,l.protoPackage.hall.HallCmd.CMD_TournamentDetail),this.onNetTournamentDetailRes),this.registerEvent("UpdateTournamentList",this.reqTournamentList)}onClick(e,t){switch(e){case"btnBack":this.close();break;case"createToutnamentBtn":p.Manager.uiManager.open({type:b.default,bundle:h.BUNDLE_RESOURCES});break;case"myTournamentBtn":p.Manager.uiManager.open({type:y.default,bundle:h.BUNDLE_RESOURCES});break;case"searchTournamentBtn":let t=this.gameEditBox.string;if(0==t.length)return void this.reqTournamentList();let n=this.tournamentList.find(e=>e.tournamentId==+t);n?(this.getComponent(r.default).scroViewPlus.content.removeAllChildren(),this.tournamentListView([n])):f.default.showTip(c.i18n.Tournament.NotTournament),this.searchId=n?n.tournamentId:null;break;default:G.Logger.error("no find button name -> %s",e)}}reqTournamentList(){this.service.sendMsg(l.serverType.Lobby,l.protoPackage.hall.HallCmd.CMD_TournamentList,null)}onNetTournamentList(e){0==e.statusMsg.status?(this.tournamentList=e.tournaments,this.tournamentListView(this.tournamentList),this.updateSelfTournament()):f.default.showTip(c.i18n.ERRORCODE[e.statusMsg.status]),f.default.hideLoading()}tournamentListView(e){return i(this,void 0,void 0,function*(){if(this.searchId&&_.default.getInstance().flushItmeID&&this.searchId==_.default.getInstance().flushItmeID){let t=e.findIndex(e=>e.tournamentId==_.default.getInstance().flushItmeID);-1!=t&&(e=e.splice(t,1)),_.default.getInstance().flushItmeID=null}let t=this.getComponent(r.default);t.dataList=e,yield t.framingLoad(e.length),f.default.hideLoading()})}updateSelfTournament(){let e=this.tournamentList.find(e=>1==e.signStatus);e?(this.lb_myTournamentTip.string="Rummy tournamenth created by "+e.nickname,this.lb_myTournamentStep.string=0==e.tournamentStatus?"About to start":""):(this.lb_myTournamentTip.string="You are not participating in the tournament",this.lb_myTournamentStep.node.active=!1);let t=m.User._userID,n=this.tournamentList.find(e=>e.userId==t);this.lb_createTournamentTip.string=n?"You created a Rummy tournament "+s.Config.games[n.gameId].disName:"You have not created a tournament"}onNetTournamentDetailRes(e){0==e.statusMsg.status?(3==_.default.getInstance().tournamentStatus?p.Manager.uiManager.open({type:w.default,bundle:h.BUNDLE_RESOURCES,args:[e]}):p.Manager.uiManager.open({type:v.default,bundle:h.BUNDLE_RESOURCES,args:[e]}),_.default.getInstance().tournamentStatus=null):f.default.showTip(c.i18n.ERRORCODE[e.statusMsg.status])}onDestroy(){super.onDestroy()}};o([R(cc.EditBox)],L.prototype,"gameEditBox",void 0),o([R(cc.Label)],L.prototype,"lb_myTournamentTip",void 0),o([R(cc.Label)],L.prototype,"lb_myTournamentStep",void 0),o([R(cc.Label)],L.prototype,"lb_createTournamentTip",void 0),L=o([C,u.injectService(d.LobbyService.instance)],L),n.default=L,cc._RF.pop()},{"../common/component/ScroViewCtrl":"ScroViewCtrl","../common/config/Config":"Config","../common/language/LanguageImpl":"LanguageImpl","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/Framework":"Framework","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../msgbox/PanelHelp":"PanelHelp","./CreateTournamentView":"CreateTournamentView","./MyTournamentView":"MyTournamentView","./TournamentData":"TournamentData","./TournamentDetailView":"TournamentDetailView","./TournamentEndDetailView ":"TournamentEndDetailView "}],TurntableView:[function(e,t,n){"use strict";cc._RF.push(t,"0f2bd9wafxNUYzJeIS6fxTe","TurntableView");var o,i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/language/LanguageImpl"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/base/Defines"),d=e("../framework/decorator/Decorators"),h=e("../common/manager/Manager"),u=a(e("../framework/ui/UIView")),p=a(e("../msgbox/PanelHelp")),g=a(e("./AwardWinningView")),m=a(e("./HelpView")),f=a(e("./MyPrizeView")),b=a(e("./PrizeItem")),y=e("../global/UtilMgr"),{ccclass:_,property:v}=cc._decorator;let w=o=class extends u.default{constructor(){super(...arguments),this.remainingTimes=null,this.itemContent=null,this.lightGround=null,this.itemPrize=null,this.awardTips=null,this.movex=0,this.isCheckSpin=!1}static getPrefabUrl(){return"turntable/prefab/TurntableView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.awardTips.string="",o.inst=this}start(){this.activityTurntableRes(this.activityTurntableData),this.showLightAnimation()}show(e){super.show(e),this.showWithAction(!0),e&&(this.activityTurntableData=e,this.turnTableType=e.type),G.Logger.log("args-----------------------",e)}bindingEvents(){super.bindingEvents(),this.registerEvent(d.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.Play_Turntable),this.playTurntableRes)}onClick(e,t){switch(e){case"close":if(this.itemContent.getNumberOfRunningActions()>0)return;y.UtilMgr.popWindows("OpenTurntable"),this.closeWithAction();break;case"btn_bangzhu":h.Manager.uiManager.open({type:m.default,bundle:l.BUNDLE_RESOURCES,args:[this.rule]});break;case"btn_myprize":if(this.isCheckSpin)return;h.Manager.uiManager.open({type:f.default,bundle:l.BUNDLE_RESOURCES,args:[this.turnTableType]});break;case"btn_spin":this.reqPlayTurntable();break;default:G.Logger.error("no find button name -> %s",e)}}activityTurntableRes(e){0==e.statusMsg.status?(this.remainingTimes.string=e.remainingTimes,this.currentTimes=e.remainingTimes,this.rule=e.rule,e.rotations.length>0&&this.updateAwardTips(e.rotations),this.drawTurntable(e.activeTurntable)):p.default.showTip(r.i18n.ERRORCODE[e.statusMsg.status])}drawTurntable(e){this.prizeData=e,this.itemContent.removeAllChildren();for(let t=0;t<e.length;t++){let n=cc.instantiate(this.itemPrize);n.parent=this.itemContent,n.getComponent(b.default).updateItem(e[t])}}reqPlayTurntable(){if(this.isCheckSpin)return;this.isCheckSpin=!0;let e=s.protoPackage.hall.PlayTurntableReq.create({type:this.turnTableType}),t=s.protoPackage.hall.PlayTurntableReq.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.Play_Turntable,t)}playTurntableRes(e){0==e.statusMsg.status?this.runTurnTable(e):(this.isCheckSpin=!1,p.default.showTip(r.i18n.ERRORCODE[e.statusMsg.status]))}runTurnTable(e){let t=e.tableId-1,n=this.itemContent.angle%360;this.itemContent.angle=n;let o=36*t+2160;h.Manager.globalAudio.playEffect("turntable/audio/rotate",l.BUNDLE_RESOURCES),this.remainingTimes.string=this.currentTimes-1>=0?(this.currentTimes-1).toString():"0",cc.tween(this.itemContent).to(2,{angle:-1080},{easing:"sineIn"}).to(4,{angle:-o},{easing:"quadOut"}).delay(.2).call(()=>{let t=this.prizeData.find(t=>t.tableId==e.tableId);this.remainingTimes.string=e.remainingTimes>=0?e.remainingTimes.toString():"0",this.currentTimes=e.remainingTimes,h.Manager.globalAudio.playEffect("turntable/audio/win",l.BUNDLE_RESOURCES),h.Manager.uiManager.open({type:g.default,bundle:l.BUNDLE_RESOURCES,args:[e,t]})}).delay(.5).call(()=>{this.isCheckSpin=!1}).start()}updateAwardTips(e){let t=e.length,n=y.UtilMgr.random(0,t),o=e.splice(n).concat(e),i=0;this.movex=150+(this.awardTips.node.width>300?this.awardTips.node.width:300),this.awardTips.string=o[i].username+" Won "+o[i].goodsName;let a=Math.floor(this.movex/50);this.awardTips.node.x=this.movex,G.Logger.log("endTips",o);let r=()=>{(i+=1)>t-1&&(i=0);let e=.5*this.awardTips.node.width+150;(this.awardTips.node.x>=e||this.awardTips.node.x<=-e)&&(this.awardTips.string=o[i].username+" Won "+o[i].goodsName,this.movex=150+(this.awardTips.node.width>300?this.awardTips.node.width:300))};cc.tween(this.awardTips.node).repeatForever(cc.tween().to(a,{position:cc.v2(-this.movex,0)}).call(()=>{this.awardTips.node.x=this.movex,r()})).start()}showLightAnimation(){if(this.lightGround&&this.lightGround.children[0]){let e=this.lightGround.children[0];this.lightGround.removeAllChildren();for(let t=0;t<24;t++){let n=cc.instantiate(e);n.parent=this.lightGround,n.angle=-15*t}this.lightGround.children.forEach((e,t)=>{t%4==0?e.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.8),cc.fadeOut(.8),cc.delayTime(4.8)))):t%4==1?e.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1.6),cc.fadeIn(.8),cc.fadeOut(.8),cc.delayTime(3.2)))):t%4==2?e.runAction(cc.repeatForever(cc.sequence(cc.delayTime(3.2),cc.fadeIn(.8),cc.fadeOut(.8),cc.delayTime(1.6)))):t%4==3&&e.runAction(cc.repeatForever(cc.sequence(cc.delayTime(4.8),cc.fadeIn(.8),cc.fadeOut(.8))))})}}onDestroy(){this.turnTableType=0,o.inst=null,super.onDestroy()}};w.inst=null,i([v(cc.Label)],w.prototype,"remainingTimes",void 0),i([v(cc.Node)],w.prototype,"itemContent",void 0),i([v(cc.Node)],w.prototype,"lightGround",void 0),i([v(cc.Prefab)],w.prototype,"itemPrize",void 0),i([v(cc.Label)],w.prototype,"awardTips",void 0),w=o=i([_,d.injectService(c.LobbyService.instance)],w),n.default=w,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./AwardWinningView":"AwardWinningView","./HelpView":"HelpView","./MyPrizeView":"MyPrizeView","./PrizeItem":"PrizeItem"}],TypeUtils:[function(e,t,n){"use strict";cc._RF.push(t,"0be95lRqrdJWZ5NkZRQouWm","TypeUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{static isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}static isNull(e){return null==e}},cc._RF.pop()},{}],UILoadingDelegate:[function(e,t,n){"use strict";cc._RF.push(t,"d1fe84twrZPRK91L4UW5/Qg","UILoadingDelegate"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=class{show(e,t){}updateProgress(e){}hide(){}},cc._RF.pop()},{}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"28677ZXSZ1Au4QNZRC+wUw8","UIManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.UIManager=void 0;const o=e("./Defines"),i=e("../Framework"),a="DYNAMIC_LOAD_GARBAGE",r="DYNAMIC_LOAD_RETAIN_MEMORY";class s{constructor(e=null){this.local=new Map,this.remote=new Map,this.name=e}addLocal(e,t=null){e&&e.url&&(this.name,this.local.has(e.url)||this.local.set(e.url,e))}addRemote(e,t=null){e&&e.data&&!this.remote.has(e.url)&&(this.name,i.Manager.cacheManager.remoteCaches.retainAsset(e),this.remote.set(e.url,e))}clear(){this.name==a?((this.local.size>0||this.remote.size>0)&&cc.error("\u5f53\u524d\u672a\u80fd\u91ca\u653e\u8d44\u6e90\u5982\u4e0b:"),this.local&&this.local.size>0&&(cc.error("-----------local-----------"),this.local&&this.local.forEach(e=>{cc.error(e.url)})),this.remote&&this.remote.size>0&&(cc.error("-----------remote-----------"),this.remote&&this.remote.forEach(e=>{cc.error(e.url)}))):(this.local&&(this.local.forEach(e=>{i.Manager.assetManager.releaseAsset(e)}),this.local.clear()),this.remote&&(this.remote.forEach(e=>{i.Manager.cacheManager.remoteCaches.releaseAsset(e)}),this.remote.clear()))}}class c{constructor(){this.isLoaded=!1,this.status=o.ViewStatus.WAITTING_NONE,this.view=null,this.finishCb=[],this.getViewCb=[],this.isPreload=!1,this.info=null,this.loadData=new s,this.node=null}doGet(e,t,n){for(let o=0;o<this.getViewCb.length;o++){let t=this.getViewCb[o];t&&t(e)}this.getViewCb=[]}doFinish(e,t,n){for(let o=0;o<this.finishCb.length;o++){let t=this.finishCb[o];t&&t(e)}this.finishCb=[]}doCallback(e,t,n){this.doFinish(e,t,n),this.doGet(e,t,n)}}class l{constructor(){this._logTag="[UIManager]",this._viewDatas=new Map,this._viewList=[],this.GC_INTERVAL=1500,this._lastGCTime=0,this._isNeedGC=!1,this.garbage=new s(a),this.retainMemory=new s(r),this.uiLoading=null,this.toast=null}static Instance(){return this._instance||(this._instance=new l)}getViewData(e){let t=this.getClassName(e);return t&&this._viewDatas.has(t)?this._viewDatas.get(t):null}getClassName(e){if(!e)return null;return"string"==typeof e?e:cc.js.getClassName(e)}preload(e,t){return this._open(e,t,0,!0,null,null)}open(e){return this._open(e.type,e.bundle,e.zIndex?e.zIndex:0,!1,e.args,e.delay,e.name)}_open(e,t,n=0,a,r,s,l){return new Promise(d=>{if(!e)return void d(null);let h=cc.js.getClassName(e);if(G.Logger.log(`\u6253\u5f00\u754c\u9762 ${h}`),!this.getCanvas())return void d(null);this.recordGCTime();let u=this.getViewData(e);if(u)return u.isPreload=a,u.isLoaded?(u.status=o.ViewStatus.WAITTING_NONE,a||u.view&&cc.isValid(u.node)&&(u.node.zIndex=n,u.node.parent||(u.node.parent=this.getCanvas()),i.Manager.adaptor.fullScreenAdapt(u.node),u.view.show(r)),this._viewList.push(u),void d(u.view)):(u.status=o.ViewStatus.WAITTING_NONE,a||this.uiLoading&&this.uiLoading.show(s,l),void u.finishCb.push(d));{(u=new c).loadData.name=h;let i=e.getPrefabUrl();u.isPreload=a,this._viewDatas.set(h,u);let p=null;this.uiLoading&&this.uiLoading.show(s,l),p=(e,t)=>{let n=Math.ceil(e/t*100);dispatch("loadGameProgress",n),this.uiLoading&&this.uiLoading.updateProgress(n)},this.loadPrefab(t,i,p).then(s=>{u.info=new o.ResourceInfo,u.info.url=i,u.info.type=cc.Prefab,u.info.data=s,u.info.bundle=t,this.createNode(h,e,d,s,r,n,t,a),this.uiLoading&&this.uiLoading.hide()}).catch(t=>{u.isLoaded=!0,cc.error(t),this.close(e),u.doCallback(null,h,"\u6253\u5f00\u754c\u9762\u5f02\u5e38"),d(null);let n="";l&&(n=l),this.toast&&this.toast.show(`\u52a0\u8f7d\u754c\u9762${n}\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5`),this.uiLoading&&this.uiLoading.hide()})}})}_addComponent(e,t,n,o,a,r,s){if(e){let c=e.getComponent(t);if(!c&&!(c=e.addComponent(t)))return null;i.Manager.adaptor.fullScreenAdapt(e),c.className=o,c.bundle=s,n.view=c,c._args=r;let l=c.getComponent(cc.Widget);return l?(l.isAlignHorizontalCenter=!0,l.horizontalCenter=0,l.isAlignVerticalCenter=!0,l.verticalCenter=0):((l=c.addComponent(cc.Widget)).isAlignHorizontalCenter=!0,l.horizontalCenter=0,l.isAlignVerticalCenter=!0,l.verticalCenter=0),n.isPreload||(e.parent=this.getCanvas(),e.zIndex=a),c}return null}createNode(e,t,n,i,a,r,s,c){let l=this._viewDatas.get(e);if(l.isLoaded=!0,l.status==o.ViewStatus.WAITTING_CLOSE)return n(null),void l.doCallback(null,e,"\u83b7\u53d6\u754c\u5185\u5df2\u7ecf\u5173\u95ed");let d=cc.instantiate(i);l.node=d;let h=this._addComponent(d,t,l,e,r,a,s);h?(this._viewList.push(l),l.status==o.ViewStatus.WATITING_HIDE?(h.hide(),n(h),l.doCallback(h,e,"\u52a0\u8f7d\u5b8c\u6210\uff0c\u4f46\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u88ab\u9690\u85cf")):(c||h.show(a),n(h),l.doCallback(h,e,"\u52a0\u8f7d\u5b8c\u6210\uff0c\u56de\u8c03\u4e4b\u524d\u52a0\u8f7d\u4e2d\u7684\u754c\u9762"))):n(null)}loadPrefab(e,t,n){return new Promise((a,r)=>{null!=e&&""!=e&&null!=e||(e=o.BUNDLE_RESOURCES),i.Manager.assetManager.load(e,t,cc.Prefab,n,e=>{e&&e.data&&e.data instanceof cc.Prefab?a(e.data):r(`\u52a0\u8f7dprefab : ${t} \u5931\u8d25`)})})}getCanvas(){let e=cc.director.getScene();return e&&e.getChildByName("Canvas")||null}onDirectorAfterDraw(){let e=!0,t=!1;return this._viewDatas.forEach(n=>{n&&(n.isLoaded||(e=!1),n.status==o.ViewStatus.WAITTING_CLOSE&&(t=!0))}),t&&e&&(console.time("\u91ca\u653e\u8d44\u6e90"),this._viewDatas.forEach((e,t)=>{e&&e.status==o.ViewStatus.WAITTING_CLOSE&&(console.time(`${this._logTag} close view : ${t}`),cc.isValid(e.node)&&(e.node.removeFromParent(!1),e.node.destroy()),this._viewDatas.delete(t),console.timeEnd(`${this._logTag} close view : ${t}`))}),console.timeEnd("\u91ca\u653e\u8d44\u6e90")),this._isNeedGC&&Date.timeNowMillisecons()-this._lastGCTime>this.GC_INTERVAL&&(cc.sys.garbageCollect(),this._isNeedGC=!1),e}addLocal(e,t){if(e){let n=this.getViewData(t);n&&n.loadData.addLocal(e,t)}}addRemote(e,t){if(e){let n=this.getViewData(t);n&&n.loadData.addRemote(e,t)}}recordGCTime(e=null){null!=e&&(this._isNeedGC=e),this._lastGCTime=Date.timeNowMillisecons()}close(e){let t=this.getViewData(e);if(t){for(;;){let e=this._viewList.lastIndexOf(t);if(-1==e)break;this._viewList.splice(e,1)}t.status=o.ViewStatus.WAITTING_CLOSE,t.view&&cc.isValid(t.node)&&t.node.removeFromParent(!1),this.recordGCTime()}}closeExcept(e){let t=this;if(null==e||null==e||0==e.length)return void this._viewDatas.forEach((e,n)=>{t.close(n)});let n=new Set;for(let o=0;o<e.length;o++)n.add(this.getClassName(e[o]));this._viewDatas.forEach((e,o)=>{n.has(o)||t.close(o)}),this.printViews()}hide(e){let t=this.getViewData(e);t&&(t.isLoaded?t.view&&cc.isValid(t.view.node)&&t.view.hide():t.status=o.ViewStatus.WATITING_HIDE)}getView(e){return new Promise(t=>{if(null==e||null==e)return void t(null);let n=this.getViewData(e);n?n.isPreload?t(null):n.isLoaded?t(n.view):n.getViewCb.push(t):t(null)})}getLastView(){let e=null;return this._viewList.length>0&&(e=this._viewList[this._viewList.length-1].view),e}checkView(e,t){}isShow(e){let t=this.getViewData(e);return!!t&&!(!t.isLoaded||t.status!=o.ViewStatus.WAITTING_NONE||!t.view)&&t.view.node.active}fullScreenAdapt(){this._viewDatas.forEach(e=>{e.isLoaded&&e.view&&i.Manager.adaptor.fullScreenAdapt(e.view.node)})}getCanvasComponent(){return this.getCanvas().getComponent("MainController")}addComponent(e){let t=this.getCanvas();if(t){return t.getComponent(e)||t.addComponent(e)}return null}removeComponent(e){let t=this.getCanvas();t&&t.removeComponent(e)}printViews(){cc.log(`${this._logTag}---------views----start-----`),this._viewDatas.forEach((e,t)=>{cc.log(`[${t}] isLoaded : ${e.isLoaded} status : ${e.status} view : ${e.view} active : ${!(!e.view||!e.view.node)&&e.view.node.active}`)}),cc.log(`${this._logTag}---------views----end-----`)}printCanvasChildren(){cc.log(`${this._logTag}-----------printCanvasChildren--start-----------`);let e=this.getCanvas();if(e){let t=e.children;for(let e=0;e<t.length;e++)cc.log(`${t[e].name} active : ${t[e].active}`)}cc.log(`${this._logTag}-----------printCanvasChildren--end-----------`)}isInLogin(){return!!this.getViewData("LoginView")}isInHall(){return!!this.getViewData("HallNewView")}isInGame(){return!!this.getViewData("CrashGameView")}isInCurrentGame(e){return!!this.getViewData(e)}}n.UIManager=l,l._instance=null,cc._RF.pop()},{"../Framework":"Framework","./Defines":"Defines"}],UIView:[function(e,t,n){"use strict";cc._RF.push(t,"3ab94+tF5hMG5+UXd1Yf5M5","UIView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=i(e("../base/EventComponent")),r=i(e("../base/AudioComponent")),s=e("../base/Defines"),c=e("../../common/manager/Manager"),l=i(e("../../data/UserData")),d=e("../../common/define/EventDefine"),{ccclass:h,property:u}=cc._decorator;let p=class extends a.default{constructor(){super(...arguments),this._isEnableKey=!1,this.curClickState=!1,this.scvRoot=null,this._args=null,this._content=null,this._className="unknow",this._bundle=null,this.audioHelper=null,this._enterBackgroundTime=0,this._enableFrontAndBackgroundSwitch=!1}static getPrefabUrl(){return"unknown"}get args(){return this._args}find(e,t){return t?cc.find(e,t):this.content?cc.find(e,this.content):cc.find(e,t)}set content(e){this._content=e}get content(){return this._content}set className(e){this._className=e}get className(){return this._className}set bundle(e){this._bundle=e}get bundle(){return this._bundle}close(){c.Manager.uiManager.close(this.className)}show(e){this._args=e,this.node&&(this.node.active=!0)}hide(){c.Manager.uiManager.close(this.className)}playDefaultEffect(e){switch(e){case"close":this.audioHelper&&this.audioHelper.playEffect("common/audio/close",s.BUNDLE_RESOURCES);break;default:this.audioHelper&&this.audioHelper.playEffect("common/audio/click",s.BUNDLE_RESOURCES)}}onClickButton(e,t){let n=e.target.name,o=e.target;if(null==t){if(this.curClickState)return;this.curClickState=!0,this.allCurTimeout=this.allCurTimeout||[],this.allCurTimeout.push(setTimeout(()=>{this.curClickState=!1},100))}this.playDefaultEffect(n),this.onClick(n,o,t)}onClickCheckButton(e,t){let n=e.target.name,o=e.target;if(null==t){if(this.curClickState)return;this.curClickState=!0,this.allCurTimeout=this.allCurTimeout||[],this.allCurTimeout.push(setTimeout(()=>{this.curClickState=!1},100))}this.playDefaultEffect(n),G.DataMgr.get(l.default).isLogined()?this.onClick(n,o,t):dispatch(d.EventDefine.NOT_LOGIN_CLICK_BUTTON)}onClick(e,t,n){}clearCurTimeout(){if(!this.allCurTimeout)return;let e=this.allCurTimeout.length;for(let t=0;t<e;t++)clearTimeout(this.allCurTimeout[t])}showWithAction(e=!1,t){this.content&&(e||this.show(this.args),this.content.stopAllActions(),this.content.getComponent(cc.Widget)&&(this.content.getComponent(cc.Widget).enabled=!1),cc.tween(this.content).set({scale:.2}).to(.1,{scale:1.15}).delay(.05).to(.1,{scale:1}).call(()=>{t&&t(),this.content.getComponent(cc.Widget)&&(this.content.getComponent(cc.Widget).enabled=!0)}).start())}hideWithAction(e){this.content&&(this.content.stopAllActions(),cc.tween(this.content).to(.1,{scale:1.15}).to(.1,{scale:.3}).call(()=>{this.hide(),this.content.scale=1,e&&e()}).start())}closeWithAction(e){this.content&&0==this.content.getNumberOfRunningActions()&&(this.content.stopAllActions(),cc.tween(this.content).to(.1,{scale:1.15}).to(.1,{scale:.3}).call(()=>{e&&e(),this.close()}).start())}setEnabledKeyBack(e){e?(cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)):cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this._isEnableKey=e}isEnabledKeyBack(){return this._isEnableKey}onKeyUp(e){e.keyCode==cc.macro.KEY.escape?this.onKeyBack(e):e.stopPropagation()}onKeyBack(e){e.stopPropagation()}onLoad(){this.audioHelper=this.addComponent(r.default),this.audioHelper.owner=this;let e=this.node.getChildByName("scvRoot");if(e){let t=e.getComponent(cc.ScrollView);t&&(this.scvRoot=t)}super.onLoad()}onDestroy(){this.setEnabledKeyBack(!1),this.enableFrontAndBackgroundSwitch=!1,this.clearCurTimeout(),super.onDestroy()}set enableFrontAndBackgroundSwitch(e){this._enableFrontAndBackgroundSwitch=e,e?(cc.game.on(cc.game.EVENT_SHOW,this._onEnterForgeGround,this),cc.game.on(cc.game.EVENT_HIDE,this._onEnterBackground,this)):(cc.game.off(cc.game.EVENT_SHOW,this._onEnterForgeGround,this),cc.game.off(cc.game.EVENT_HIDE,this._onEnterBackground,this))}get enableFrontAndBackgroundSwitch(){return this._enableFrontAndBackgroundSwitch}_onEnterBackground(){this._enterBackgroundTime=Date.timeNow(),this.onEnterBackground()}_onEnterForgeGround(){let e=Date.timeNow()-this._enterBackgroundTime;this.onEnterForgeground(e)}onEnterForgeground(e){}onEnterBackground(){}onScrollTop(){this.scvRoot&&(this.scvRoot.stopAutoScroll(),this.scvRoot.scrollToTop())}};p=o([h],p),n.default=p,cc._RF.pop()},{"../../common/define/EventDefine":"EventDefine","../../common/manager/Manager":"Manager","../../data/UserData":"UserData","../base/AudioComponent":"AudioComponent","../base/Defines":"Defines","../base/EventComponent":"EventComponent"}],URLConfig:[function(e,t){"use strict";cc._RF.push(t,"48af1u8uC9CPLruKWwZFyje","URLConfig"),cc._RF.pop()},{}],URLManager:[function(e,t,n){"use strict";cc._RF.push(t,"96d893ntB5AAamxbhfnwVGu","URLManager"),Object.defineProperty(n,"__esModule",{value:!0});let o=null,i=null,a=null,r=null,s=null;class c{constructor(){this.m_apkVersion=null,this.m_apkURL=null,this.m_hotUpdateURL=null,this.m_loginURL=null,this.m_payURL=null,this.m_customerURL=null,this.m_shareFriendRoomURL=null,this.m_apkVersion=null,this.m_apkURL=null,this.m_hotUpdateURL=null,this.m_loginURL=null,this.m_payURL=null}static getInstance(){return null===this.s_instance&&(this.s_instance=new c),this.s_instance}static destroy(){null!==this.s_instance&&this.s_instance.destroy(),this.s_instance=null}get apkVersion(){return this.m_apkVersion}set apkVersion(e){this.m_apkVersion=e}get apkURL(){return this.m_apkURL}set apkURL(e){this.m_apkURL=e}get hotUpdateURL(){return o&&(this.m_hotUpdateURL=o),this.m_hotUpdateURL}set hotUpdateURL(e){this.m_hotUpdateURL=e}get loginURL(){return i&&(this.m_loginURL=i),this.m_loginURL}set loginURL(e){this.m_loginURL=e}get payURL(){return a&&(this.m_payURL=a),this.m_payURL}set payURL(e){this.m_payURL=e}get customerURL(){return r&&(this.m_customerURL=r),this.m_customerURL}set customerURL(e){this.m_customerURL=e}get shareFriendRoomURL(){return s&&(this.m_shareFriendRoomURL=s),this.m_shareFriendRoomURL}set shareFriendRoomURL(e){this.m_shareFriendRoomURL=e}destroy(){this.m_apkVersion=null,this.m_apkURL=null,this.m_hotUpdateURL=null,this.m_loginURL=null,this.m_payURL=null,this.m_customerURL=null,this.m_shareFriendRoomURL=null}}n.default=c,c.s_instance=null,cc._RF.pop()},{}],Updating:[function(e,t,n){"use strict";cc._RF.push(t,"f7d82Qwlu9AvLHVfyR9jjRa","Updating");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/base/HotUpdate"),s=e("../common/config/Config"),c=e("../common/event/LogicEvent"),l=e("../common/language/LanguageImpl"),d=a(e("../framework/ui/UIView")),h=e("../global/Global"),u=e("../hall/HallEvent"),p=a(e("../msgbox/PanelHelp")),{ccclass:g,property:m}=cc._decorator;let f=class extends d.default{constructor(){super(...arguments),this.progressLabel=null,this.progressBar=null,this.updateFailedNum=0}onLoad(){super.onLoad(),this.className="Updating",this.progressLabel.string="",this.progressBar.progress=0,this.progressBar.node.active=!1}bindingEvents(){super.bindingEvents(),this.registerEvent(u.HallEvent.DOWNLOAD_PROGRESS,this.onDownloadProgess)}onDownloadProgess(e){cc.isValid(this.node)&&(-1==e.progress?(this.progressBar.node.active=!1,p.default.showMsgBox("",l.i18n.TIPS.DOWNLOADFAILED,()=>{this.checkUpdate()})):e.progress<=1?(this.progressBar.node.active=!0,e.progress>this.progressBar.progress&&(this.progressBar.progress=e.progress,this.progressLabel.string=Math.floor(100*e.progress)+"%")):this.progressBar.node.active=!1)}start(){return i(this,void 0,void 0,function*(){if(!s.Config.isOpenHotUpdate)return this.hide(),void dispatch(c.LogicEvent.ENTER_LOGIN);if(p.default.hideLoading(),cc.sys.os===cc.sys.OS_ANDROID&&cc.sys.isNative){let e=window.platformUtil.getVersionName();e&&G.URLMgr.apkVersion&&this.compareVersion(e)<0?p.default.showMsgBox("",l.i18n.TIPS.VERSIONUPDATE,()=>{cc.sys.openURL(G.URLMgr.apkURL)},l.i18n.TIPS.UPDATE,!1,!1):this.checkUpdate()}else this.checkUpdate()})}compareVersion(e){let t=e.split("."),n=G.URLMgr.apkVersion.split(".");for(let o=0;o<t.length&&o<n.length;++o){let e=parseInt(t[o]),i=parseInt(n[o]);if(e!==i)return e-i}return n.length>t.length?-1:0}checkUpdate(){r.HotUpdate.checkHallUpdate((e,t)=>{if(G.Logger.log("checkHallUpdate = ",e),e==r.AssetManagerCode.NEW_VERSION_FOUND)r.HotUpdate.onDownload=this.onDownload.bind(this),cc.log("\u68c0\u6d4b\u5230\u6709\u65b0\u7684\u7248\u672c"),r.HotUpdate.hotUpdate(),this.progressBar.node.active=!0;else if(t==r.AssetManagerState.TRY_DOWNLOAD_FAILED_ASSETS)r.HotUpdate.onDownload=this.onDownload.bind(this),cc.log("\u6b63\u5728\u5c1d\u8bd5\u91cd\u65b0\u4e0b\u8f7d\u4e4b\u524d\u4e0b\u8f7d\u5931\u8d25\u7684\u8d44\u6e90"),r.HotUpdate.downloadFailedAssets();else if(e==r.AssetManagerCode.UPDATE_FINISHED)h.reStartGame();else if(e==r.AssetManagerCode.ALREADY_UP_TO_DATE)this.hide(),dispatch("RefreshVersion"),p.default.showLoading(l.i18n.WAIT.LOADING,!0),dispatch(c.LogicEvent.ENTER_LOGIN);else if(e==r.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST||e==r.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST||e==r.AssetManagerCode.ERROR_PARSE_MANIFEST){let t="\u4e0b\u8f7d\u7248\u672c\u6587\u4ef6\u5931\u8d25!";e==r.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST?t="\u627e\u4e0d\u5230\u7248\u672c\u6587\u4ef6!":e==r.AssetManagerCode.ERROR_PARSE_MANIFEST&&(t="\u7248\u672c\u6587\u4ef6\u89e3\u6790\u9519\u8bef!")}else e==r.AssetManagerCode.CHECKING?cc.log("\u6b63\u5728\u68c0\u6d4b\u66f4\u65b0!!"):cc.log(`\u68c0\u6d4b\u66f4\u65b0\u5f53\u524d\u72b6\u6001 code : ${e} state : ${t}`)})}onDownload(e,t,n,o,i,a,s,c,l){let d=0;s==r.AssetManagerCode.UPDATE_PROGRESSION?(d=a==Number.NaN?0:a,dispatch(u.HallEvent.DOWNLOAD_PROGRESS,{progress:d})):s==r.AssetManagerCode.ALREADY_UP_TO_DATE?(d=1,dispatch(u.HallEvent.DOWNLOAD_PROGRESS,{progress:d})):s==r.AssetManagerCode.UPDATE_FINISHED?(d=1.1,this.updateFailedNum=0,cc.log("\u66f4\u65b0\u6210\u529f"),setTimeout(()=>{dispatch(u.HallEvent.DOWNLOAD_PROGRESS,{progress:d})},500)):s!=r.AssetManagerCode.UPDATE_FAILED&&s!=r.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST&&s!=r.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST&&s!=r.AssetManagerCode.ERROR_PARSE_MANIFEST&&s!=r.AssetManagerCode.ERROR_DECOMPRESS||(this.updateFailedNum++,this.updateFailedNum<4?this.checkUpdate():(d=-1,cc.error("\u66f4\u65b0\u5931\u8d25"),dispatch(u.HallEvent.DOWNLOAD_PROGRESS,{progress:d})))}};o([m(cc.Label)],f.prototype,"progressLabel",void 0),o([m(cc.ProgressBar)],f.prototype,"progressBar",void 0),f=o([g],f),n.default=f,cc._RF.pop()},{"../common/base/HotUpdate":"HotUpdate","../common/config/Config":"Config","../common/event/LogicEvent":"LogicEvent","../common/language/LanguageImpl":"LanguageImpl","../framework/ui/UIView":"UIView","../global/Global":"Global","../hall/HallEvent":"HallEvent","../msgbox/PanelHelp":"PanelHelp"}],UserData:[function(e,t,n){"use strict";cc._RF.push(t,"19b69NLoeZP/Kdd41DUm3aj","UserData");var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const c=s(e("../base/BaseData")),l=e("../common/manager/Manager"),d=s(e("../framework/decorator/ClassDecorator")),h=r(e("../common/define/LocalStorageDefine"));let u=class extends c.default{constructor(){super(),this.id=null,this.nick=null,this.email=null,this.BindPhone=null,this.extendCode=null,this.info=null,this.inGame=null}clearUserData(){this.id=null,this.nick=null,this.info=null,l.Manager.localStorage.getItem(h.ACCOUNT_TOKEN)&&l.Manager.localStorage.setItem(h.ACCOUNT_TOKEN,null),l.Manager.localStorage.getItem("IMEI")&&l.Manager.localStorage.setItem("IMEI",null)}isLogined(){return null!==this.id&&void 0!==this.id}destroy(){}};u=a([d.default.classname],u),n.default=u,cc._RF.pop()},{"../base/BaseData":"BaseData","../common/define/LocalStorageDefine":"LocalStorageDefine","../common/manager/Manager":"Manager","../framework/decorator/ClassDecorator":"ClassDecorator"}],UserInfo:[function(e,t,n){"use strict";cc._RF.push(t,"3821d3m/qFORKEAQGaJkuXf","UserInfo");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=e("../common/language/LanguageImpl"),s=e("../common/manager/Manager"),c=e("../common/net/CommonService"),l=e("../common/net/LobbyService"),d=e("../framework/base/Defines"),h=e("../framework/decorator/Decorators"),u=a(e("../framework/ui/UIView")),p=e("../global/User"),g=e("../global/UtilMgr"),m=a(e("../msgbox/PanelHelp")),f=e("../withdrawal/SetSecondaryPwdView"),b=a(e("../common/component/ScroViewPlus")),y=a(e("../common/component/ScroViewCtrl")),_=e("../hall/HallNetController"),{ccclass:v,property:w}=cc._decorator;let C=class extends u.default{constructor(){super(...arguments),this.nameEditBox=null,this.userId=null,this.gold=null,this.bank=null,this.phone=null,this.area=null,this.pay=null,this.lvBarLabel=null,this.lvBarProgreLabel=null,this.lvBar=null,this.head=null,this.headPanel=null,this.changeNamePanel=null,this.headContent=null,this.bindBtn=null,this.headUpPanel=null,this.scrollView=null,this.scrollViewMask=null,this.friendTip=null,this.addFriend=null,this.nickNameEditBox=null,this.signatureEditBox=null,this.changeHead=null,this.namebg=null,this.modifyBtn=null,this.areaNode=null,this.phoneNode=null,this.bankNode=null,this.payNode=null,this.copyBtn=null,this.nickName=null,this.signatureLabel=null,this.addFriendTip=null,this.addFriendBtn=null,this.headItmes=[],this.selectHeadIndex=0,this._areasList=[],this._areasItemHeight=40,this._areasCount=16}static getPrefabUrl(){return"userInfo/prefabs/UserInfo"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.nameEditBox.node.on("editing-did-ended",this.nameCallback,this),this.nameEditBox.node.on("text-changed",this.nameChangeCallback,this),this.nameEditBox.enabled=!1,this.initHeadPanel(),this.showUpHeadPanel(!1)}initHeadPanel(){for(let e=1;e<=16;e++){let t=this.headContent.getChildByName("headItem"+e);t.name=g.UtilMgr.setString(e.toString()),t.getChildByName("select").active=!1,t.on(cc.Node.EventType.TOUCH_END,this.headItemClick,this),this.headItmes.push(t)}}headItemClick(e){G.Logger.log(e),this.headItmes.forEach(t=>{"1"==e.target.name?(this.showUpHeadPanel(!0),this.onShowHeadPanel(!1)):t.name==e.target.name?(t.getChildByName("select").active=!0,this.selectHeadIndex=parseInt(t.name)):t.getChildByName("select").active=!1}),this.audioHelper.playEffect("common/audio/click",d.BUNDLE_RESOURCES)}showUpHeadPanel(e){this.headUpPanel&&(this.headUpPanel.active=e)}bindingEvents(){super.bindingEvents(),this.registerEvent(h.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.USER_INFORMATION),this.onUpdateInfo),this.registerEvent(h.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.UPDATE_NICKNAME),this.onUpdateName),this.registerEvent(h.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.UPDATE_HEAD_IMG),this.onUpdateHeadImg),this.registerEvent(h.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.UPLOAD_HEAD_IMG),this.onUpLoadHeadImg),this.registerEvent(h.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_UpdateUserArea),this.onUpdateUserAreaRes),this.registerEvent(h.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_AddFriend),this.onNetAddFriendRes),this.registerEvent(h.makeKey(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_FindUser),this.onNetFindUserRes),this.registerEvent("bindPhoneSuccess",this.initBindPhone),this.registerEvent("handleUpLoadPhoto",this.handleUpLoadPhoto),this.registerEvent("updateUserInfo",this.reqUserInfo)}initBindPhone(e){e?(this.phone.string=g.UtilMgr.setStringCover(e),this.bindBtn.active=!1):(this.bindBtn.active=!0,this.phone.string=r.i18n.USERINFO.UNBOUND)}onUpLoadHeadImg(e){e&&(0==e.statusMsg.status?(m.default.showTip(r.i18n.USERINFO.HEADCHANESUCCESS),this.reqUserInfo()):m.default.showMsgBox("",s.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}onUpdateHeadImg(e){cc.log(e,"updateHeadImg"),e&&(0==e.statusMsg.status?(p.User._headImgUrl="base_"+this.selectHeadIndex+".png",g.UtilMgr.loadHeadImg(this.head,p.User._headImgUrl,p.User._userID,this),dispatch("updateUserInfo"),this.onShowHeadPanel(!1)):m.default.showMsgBox("",s.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}onUpdateName(e){e&&(0==e.statusMsg.status?(this.nickName.string=this.nameEditBox.string=g.UtilMgr.setString(e.nickName),m.default.showTip(r.i18n.USERINFO.NAMECHANESUCCESS),p.User._userName=e.nickName,this.signatureLabel.string=p.User._signature=e.sign,dispatch("updateUserInfo")):m.default.showMsgBox("",s.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}onUpdateInfo(e){if(G.Logger.log("\u7528\u6237\u4fe1\u606f",e),e&&0==e.statusMsg.status){if(this.nickName.string=this.nameEditBox.string=g.UtilMgr.setString(e.nickName),this.signatureLabel.string=e.sign,this.userId.string=e.userId,this.gold.string=g.UtilMgr.changeMoney(e.gold),this.bank.string=g.UtilMgr.changeMoney(p.User._bank),this.lvBarLabel.string=(e.vipLevel-1).toString(),e.nextLevelTurnover){let t=g.UtilMgr.changeMoney(e.currentTurnover,!1);-1!=t.indexOf(".")&&(t=t.substring(0,t.indexOf("."))),this.lvBarProgreLabel.string=t+"/"+g.UtilMgr.changeMoney(e.nextLevelTurnover,!1),this.lvBar.progress=e.currentTurnover/e.nextLevelTurnover}else this.lvBar.progress=1;this.initBindPhone(e.phone),g.UtilMgr.loadHeadImg(this.head,e.headImgUrl,e.userId,this),this.area.string=e.area.length?e.area:r.i18n.USERINFO.UNBOUND,this._areasList=e.areas;let t=e.areas.length>this._areasCount?this._areasCount:e.areas.length;this.scrollView.node.height=this._areasItemHeight*t,this.scrollViewMask.height=this._areasItemHeight*t,this.refreshBankItem(e.areas)}}refreshBankItem(e){return i(this,void 0,void 0,function*(){let t=this.getComponent(y.default);t.dataList=e,t.onItemClickCallback=this.onClickAccountItemCallback.bind(this),yield t.framingLoad(e.length)})}onClickAccountItemCallback(e,t){cc.tween(this.scrollView.node).set({scaleY:1}).to(.1,{scaleY:0}).call(()=>{this.scrollView.node.active=!1}).start();let n=c.protoPackage.hall.UpdateUserAreaReq.create({areaName:this._areasList[t]}),o=c.protoPackage.hall.UpdateUserAreaReq.encode(n).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_UpdateUserArea,o)}onUpdateUserAreaRes(e){G.Logger.log("\u533a\u57df\u540d\u79f0",e),0==e.statusMsg.status&&(this.area.string=e.areaName.length?e.areaName:r.i18n.USERINFO.UNBOUND)}onNetAddFriendRes(e){G.Logger.log("AddUserRes",e),0==e.statusMsg.status?2==e.friend.state?(this.addFriendBtn.active=!0,this.addFriendTip.node.active=!1):1==e.friend.state?(this.addFriendBtn.active=!1,this.addFriendTip.node.active=!0,this.addFriendTip.language=s.Manager.makeLanguage("FRIEND.HAVE_BECOME_FRIEND"),this.addFriendTip.node.color=(new cc.Color).fromHEX("#01E922")):0==e.friend.state?(this.addFriendBtn.active=!1,this.addFriendTip.node.active=!0,this.addFriendTip.language=s.Manager.makeLanguage("FRIEND.ALREADY_APPLIED"),this.addFriendTip.node.color=(new cc.Color).fromHEX("#fd1414")):(this.addFriendBtn.active=!0,this.addFriendTip.node.active=!1):m.default.showTip(s.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}nameChangeCallback(e){let t=e.string;g.UtilMgr.strLen(t)>14&&(e.string=g.UtilMgr.setString(t))}nameCallback(e){G.Logger.log(e.string);let t=e.string;if(!t||t==p.User._userName)return void(e.string=p.User._userName);this.nameEditBox.enabled=!1;let n=c.protoPackage.hall.UpdateNickname.create({userId:p.User._userID,nickName:t}),o=c.protoPackage.hall.UpdateNickname.encode(n).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.UPDATE_NICKNAME,o)}show(e){super.show(e),this.showWithAction(!0),e&&e.length?this._UserID=e[0].userID:this._UserID=p.User._userID}playDefaultEffect(e){switch(e){case"headClose":case"headUpClose":super.playDefaultEffect("close");break;default:super.playDefaultEffect(e)}}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"changeHead":case"headSprite":this.onShowHeadPanel(!0);break;case"headClose":this.onShowHeadPanel(!1);break;case"headChange":this.onChangeHead();break;case"namebtn":this.onNameEditBtn(!0);break;case"bindPhonebtn":this.onBindPhoneBtn();break;case"bindPaybtn":this.onBindPayBtn();break;case"bankbtn":this.onBankBtn();break;case"headUpClose":this.showUpHeadPanel(!1);break;case"takePhoto":this.ontakePhotoBtn();break;case"localPhoto":this.onlocalPhotoBtn();break;case"maskClose":case"modifybtn":this.onClickCheck();break;case"copyBtn":this.onCopyIDBtn();break;case"changeNameClose":this.onNameEditBtn(!1);break;case"changeInfoBtn":this.onConfirmBtn();break;case"addfriendBtn":this.onAddFriendBtn();break;default:G.Logger.error("no find button name -> %s",e)}}handleUpLoadPhoto(e){if(this.showUpHeadPanel(!1),cc.sys.isBrowser)this.reqUpLoadHead(e);else{let t=g.UtilMgr.getUpLoadPhotoBase64(e);t&&this.reqUpLoadHead(t)}}reqUpLoadHead(e){m.default.showLoading(r.i18n.WAIT.UPLOADING);let t=c.protoPackage.hall.base.UploadHeadImgReq.create({userId:p.User._userID,imgData:e}),n=c.protoPackage.hall.base.UploadHeadImgReq.encode(t).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.UPLOAD_HEAD_IMG,n)}ontakePhotoBtn(){window.platformUtil.takePhotoMethod()}onlocalPhotoBtn(){window.platformUtil.localPhotoMethod()}onBindPhoneBtn(){dispatch("openBindPhone")}onBankBtn(){dispatch("openBankView")}onBindPayBtn(){p.User._phone.length>0?p.User.piggyBank?dispatch("openWithdrawalView"):dispatch("openSetSecondaryPwdView",f.SettSecondaryPwdType.set):m.default.showMsgBoxIcon("",r.i18n.WITHDRAWAL.NOBINDPHONETIP,()=>{dispatch("openBindPhone")},r.i18n.WITHDRAWAL.GOTOBINDPHONE)}onNameEditBtn(e){this.changeNamePanel&&(this.changeNamePanel.active=e)}onConfirmBtn(){let e=this.nickNameEditBox.string,t=this.signatureEditBox.string;if(0==e.length)return void m.default.showTip(r.i18n.USERINFO.ENTERNAME_ERROR);this.nameEditBox.enabled=!1;let n=c.protoPackage.hall.UpdateNickname.create({userId:p.User._userID,nickName:e,sign:t}),o=c.protoPackage.hall.UpdateNickname.encode(n).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.UPDATE_NICKNAME,o),this.onNameEditBtn(!1)}onAddFriendBtn(){let e={otherId:this._UserID},t=c.protoPackage.hall.AddFriendReq.create(e),n=c.protoPackage.hall.AddFriendReq.encode(t).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_AddFriend,n)}getMeHeadIndex(){let e=0;if(!p.User._headImgUrl||-1!=p.User._headImgUrl.indexOf("base"))if(p.User._headImgUrl){let t=p.User._headImgUrl.split("_");e=parseInt(t[t.length-1])}else e=g.UtilMgr.getLocalHeadIndex(p.User._userID);return e}onShowHeadPanel(e){if(e){let e=this.getMeHeadIndex();this.selectHeadIndex=e,this.headPanel.active=!0,this.headItmes.forEach(t=>{let n=t.getChildByName("select"),o=parseInt(t.name);n.active=o==e})}else this.selectHeadIndex=0,this.headPanel.active=!1}onChangeHead(){if(this.selectHeadIndex>0){let e="base_"+this.selectHeadIndex+".png";if(p.User._headImgUrl==e)return void this.onShowHeadPanel(!1);let t=c.protoPackage.hall.base.UpdateHeadImgReq.create({userId:p.User._userID,imgName:e}),n=c.protoPackage.hall.base.UpdateHeadImgReq.encode(t).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.UPDATE_HEAD_IMG,n)}}onCopyIDBtn(){window.platformUtil.copyToClip(this.userId.string)}reqUserInfo(){let e=c.protoPackage.hall.UserInformation.create({userId:this._UserID}),t=c.protoPackage.hall.UserInformation.encode(e).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.USER_INFORMATION,t)}findUser(){FriendData.getInstance().isUserInfoSendFind=!0;let e=c.protoPackage.hall.FindUserReq.create({otherId:this._UserID}),t=c.protoPackage.hall.FindUserReq.encode(e).finish();this.service.sendMsg(c.serverType.Lobby,c.protoPackage.hall.HallCmd.CMD_FindUser,t)}onNetFindUserRes(e){if(G.Logger.log("finduser",e),0==e.statusMsg.status){let t=0;e.friend&&(t=e.friend.state,this._UserID=e.friend.friendId);let n=this._UserID==p.User._userID,o=1==t;G.Logger.log("\u5224\u65ad\u73a9\u5bb6\u662f\u5426\u662f\u597d\u53cb",o),this.addFriendTip.node.active=!n&&o,this.addFriendBtn.active=!n&&!o,this.addFriendTip.language=s.Manager.makeLanguage("FRIEND.HAVE_BECOME_FRIEND")}else m.default.showTip(s.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status))}start(){this.changeLanguage(),this.reqUserInfo(),FriendData.getInstance().isOpenFriend&&this.findUser();let e=this._UserID==p.User._userID,t=s.Manager.uiManager.isInCurrentGame("HallView")&&!s.Manager.uiManager.isInCurrentGame("LeaderBoardView");if(this.changeHead.active=t&&e,this.namebg.active=t&&e,this.modifyBtn.active=t&&e,this.areaNode.active=t&&e,this.phoneNode.active=t&&e,this.bankNode.active=t&&e,this.payNode.active=t&&e&&(!!p.User.isRechargedPlayer||(()=>{let e=_.HallConfig.hallIconConfig&&_.HallConfig.hallIconConfig.find(function(e){return"goldBankCardBindStatus"==e.key});return e&&e.value>0})()),this.copyBtn.active=!t&&!e,this.nickName.node.active=!t||!e,this.phone.string=r.i18n.USERINFO.UNBOUND,this.area.string=r.i18n.USERINFO.UNBOUND,this.nickName.string=g.UtilMgr.setString(p.User._userName),this.area.horizontalAlign=e?cc.Label.HorizontalAlign.CENTER:cc.Label.HorizontalAlign.LEFT,e)if(this.signatureLabel.string=p.User._signature.length?p.User._signature:"You haven't said anything yet",this.nickNameEditBox.string=this.nickName.string=this.nameEditBox.string=g.UtilMgr.setString(p.User._userName),this.userId.string=p.User._userID||"",this.gold.string=g.UtilMgr.changeMoney(p.User._gold),this.bank.string=g.UtilMgr.changeMoney(p.User._bank),g.UtilMgr.loadHeadImg(this.head,p.User._headImgUrl,p.User._userID,this),this.headPanel.active=!1,p.User._phone){let e=s.Manager.localStorage.getItem("selectBankIndex");p.User._bankList.length>0?this.pay.string=null!=e&&e>=0?g.UtilMgr.setBankCardStringCover(p.User._bankList[e]):g.UtilMgr.setBankCardStringCover(p.User._bankList[0]):this.pay.string=r.i18n.USERINFO.UNBOUND}else this.pay.string=r.i18n.USERINFO.NOBINDPHONE}onClickCheck(){this.scrollView.node.active?cc.tween(this.scrollView.node).set({scaleY:1}).to(.1,{scaleY:0}).call(()=>{this.scrollView.node.active=!1}).start():(this.scrollView.node.active=!0,cc.tween(this.scrollView.node).set({scaleY:0}).to(.1,{scaleY:1}).start())}onDisable(){super.onDestroy(),FriendData.getInstance().isUserInfoSendFind=!1}changeLanguage(){this.changeNamePanel&&(this.find("content/nickName",this.changeNamePanel).getComponent(cc.Label).language=s.Manager.makeLanguage("USERINFO.NICKNAME"),this.find("content/signature",this.changeNamePanel).getComponent(cc.Label).language=s.Manager.makeLanguage("USERINFO.SIGNATURE"))}};o([w(cc.EditBox)],C.prototype,"nameEditBox",void 0),o([w(cc.Label)],C.prototype,"userId",void 0),o([w(cc.Label)],C.prototype,"gold",void 0),o([w(cc.Label)],C.prototype,"bank",void 0),o([w(cc.Label)],C.prototype,"phone",void 0),o([w(cc.Label)],C.prototype,"area",void 0),o([w(cc.Label)],C.prototype,"pay",void 0),o([w(cc.Label)],C.prototype,"lvBarLabel",void 0),o([w(cc.Label)],C.prototype,"lvBarProgreLabel",void 0),o([w(cc.ProgressBar)],C.prototype,"lvBar",void 0),o([w(cc.Sprite)],C.prototype,"head",void 0),o([w(cc.Node)],C.prototype,"headPanel",void 0),o([w(cc.Node)],C.prototype,"changeNamePanel",void 0),o([w(cc.Node)],C.prototype,"headContent",void 0),o([w(cc.Node)],C.prototype,"bindBtn",void 0),o([w(cc.Node)],C.prototype,"headUpPanel",void 0),o([w(b.default)],C.prototype,"scrollView",void 0),o([w(cc.Node)],C.prototype,"scrollViewMask",void 0),o([w(cc.Label)],C.prototype,"friendTip",void 0),o([w(cc.Node)],C.prototype,"addFriend",void 0),o([w(cc.EditBox)],C.prototype,"nickNameEditBox",void 0),o([w(cc.EditBox)],C.prototype,"signatureEditBox",void 0),o([w(cc.Node)],C.prototype,"changeHead",void 0),o([w(cc.Node)],C.prototype,"namebg",void 0),o([w(cc.Node)],C.prototype,"modifyBtn",void 0),o([w(cc.Node)],C.prototype,"areaNode",void 0),o([w(cc.Node)],C.prototype,"phoneNode",void 0),o([w(cc.Node)],C.prototype,"bankNode",void 0),o([w(cc.Node)],C.prototype,"payNode",void 0),o([w(cc.Node)],C.prototype,"copyBtn",void 0),o([w(cc.Label)],C.prototype,"nickName",void 0),o([w(cc.Label)],C.prototype,"signatureLabel",void 0),o([w(cc.Label)],C.prototype,"addFriendTip",void 0),o([w(cc.Node)],C.prototype,"addFriendBtn",void 0),C=o([v,h.injectService(l.LobbyService.instance)],C),n.default=C,cc._RF.pop()},{"../common/component/ScroViewCtrl":"ScroViewCtrl","../common/component/ScroViewPlus":"ScroViewPlus","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../hall/HallNetController":"HallNetController","../msgbox/PanelHelp":"PanelHelp","../withdrawal/SetSecondaryPwdView":"SetSecondaryPwdView"}],User:[function(e,t,n){"use strict";cc._RF.push(t,"6b6b923UKREAKczmLuDeBEp","User");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.User=void 0;const{ccclass:i,property:a}=cc._decorator;let r=class{constructor(){this._userName=null,this._userID=null,this._sex=0,this._gold=0,this._token=null,this._diamonds=0,this._headImgUrl="",this._inviterId=0,this._phone="",this._areaCode="",this._points=0,this._role=0,this._promoteUrl="",this._shareImgUrl="",this._needSetPassword=0,this._signature="",this._bankList=[],this._bank=0,this._vipLevel=0,this._goldType=-1,this._friendRoomSwitch=null,this.piggyBank=null,this.timestamp=0,this._gameIds=[],this._popWindows=[],this._isGameing=!1,this._recharge=0,this._firstpay=!1,this.resetData=function(){this._userName=null,this._userID=null,this._gold=null,this._bank_coin=null,this._token=null,this.piggyBank=null,this.timestamp=null,this._needSetPassword=0,this._isGameing=!1,this._goldType=-1,this._popWindows=[],this._firstpay=!1},this.updateUserData=function(e){cc.log(e,"\u66f4\u65b0\u73a9\u5bb6\u6570\u636e"),this._userName=e.nickName,this._userID=parseInt(e.userId),this._gold=e.gold,this._sex=e.sex,this._diamonds=e.diamonds,this._headImgUrl=e.headImgUrl,this._inviterId=e.inviterId,this._phone=e.phone,this._points=e.points,this._role=e.role,this.piggyBank=e.piggyBank,this._areaCode=e.areaCode,this._gameIds=e.gameIds}}get isRechargedPlayer(){return 0==this._goldType}};r=o([i],r),n.User=new r,cc._RF.pop()},{}],UtilMgr:[function(e,t,n){"use strict";cc._RF.push(t,"00df3PHuQhKipg6UdtdI0Y7","UtilMgr");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.UtilMgr=void 0;const i=e("../common/config/Config"),a=e("../framework/base/Defines"),r=o(e("../framework/extentions/Operation")),s=e("../common/manager/Manager"),c=o(e("../common/component/CaptureUtil")),l=e("./User");n.UtilMgr=new class{constructor(){this.LocalHeadPicName=null}spreadMoney(e){return isNaN(e)?e:r.default.mul(e,1e4)}shrinkMoney(e){return isNaN(e)?e:r.default.div(e,1e4)}changeMoney(e,t=!0,o=!1){if("string"==typeof e)e=Number(e)/1e4;else{if("number"!=typeof e)return void cc.error("parameter type error");e/=1e4}let i=!1;e<0&&(i=!0,e*=-1);let a="";return(o||e<.01)&&(e=parseInt(e)),-1!=e.toString().indexOf(".")?(a=t?n.UtilMgr.formatMoney(n.UtilMgr.toFixed(e,2).toString(),!0):n.UtilMgr.toFixed(e,2).toString(),a=n.UtilMgr.toPadding(a,2)):a=t?n.UtilMgr.formatMoney(e.toString(),!1):e.toString(),i&&(a="-"+a),a}abbrMoney(e){let t="";return(e/=1e4)>=1e10?-1!=(t=(Math.floor(e/1e7)/100).toString()).indexOf(".")?t=Number(t).toFixed(2)+"B":t+="B":e>=1e7?-1!=(t=(Math.floor(e/1e4)/100).toString()).indexOf(".")?t=this.toFixed(Number(t),2)+"M":t+="M":e>=1e4?-1!=(t=(Math.floor(e/10)/100).toString()).indexOf(".")?t=this.toFixed(Number(t),2)+"K":t+="K":(t=-1!=e.toString().indexOf(".")?this.toFixed(e,2).toString():e.toString(),0===e&&(t="0")),t}toFixed(e,t){let n=e,o=e.toString();if(o.indexOf(".")>0){let e=o.split("."),i=e[0]+".",a=e[1];for(let n=0;n<t;++n){let e=a[n];if(!e)break;i+=e}n=Number(i)}return n}toPadding(e,t){let n="",o=(n="string"==typeof e?e:e.toString()).indexOf("."),i=0;o<0?(i=t,n+="."):i=t-(n.length-(o+1));for(let a=0;a<i;++a)n+="0";return n}formatMoney(e,t){let n=[],o=[],i=0;for(let r=(n=t?(o=e.split("."))[0].split(""):e.split("")).length-1;r>=0;r--)3==++i&&0!=r&&(n.splice(r,0,","),i=0);let a="";return n.forEach(e=>{a+=e}),t&&void 0!==o[1]&&(a=a+"."+o[1]),a}recoverMoney(e){let t="";if("string"==typeof e)t=e;else{if("number"!=typeof e)return void cc.error("parameter type error");t=e.toString()}let n=new RegExp(",","g");return Number(t.replace(n,""))}getNowFormatDate(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();let i=n.toString();n>=1&&n<=9&&(i="0"+n);let a=o.toString();return o>=0&&o<=9&&(a="0"+o),t+"-"+i+"-"+a}setString(e,t=10,n=!0){var o=0,i="";e=e.toString();for(var a=0;a<e.length;a++)if(e.charCodeAt(a)>128?o+=2:o++,i+=e.charAt(a),o>t)return n?i+"...":i;return i}setBankCardStringCover(e,t=0,n=4){let o;if("string"==typeof e)o=e;else{if("number"!=typeof e)return void cc.error("parameter srr type error");o=e.toString()}var i="";for(let a=0;a<o.length;a++)a>=t&&a<o.length-n?i+="*":i+=o.charAt(a),(a+1)%4==0&&a>0&&(i+=" ");return i}setStringCover(e,t=0,n=4){let o;if("string"==typeof e)o=e;else{if("number"!=typeof e)return void cc.error("parameter srr type error");o=e.toString()}var i="";for(let a=0;a<o.length;a++)a>=t&&a<o.length-n?i+="*":i+=o.charAt(a);return i}strLen(e){let t=0;for(let n=0;n<e.length;n++)e.charCodeAt(n)>255||e.charCodeAt(n)<0?t+=2:t++;return t}random(e,t){return Math.floor(e+Math.random()*(t-e))}formatFloat(e){var t=Math.pow(10,2);return Math.round(e*t)/t}getLocalHeadIndex(e){return e%7+1}getLocalHeadPath(e){let t=n.UtilMgr.getLocalHeadIndex(e);return i.Config.avatar_path+t}loadHeadImg(e,t,n,o){if(t&&t.length>0)if(-1!=t.indexOf("http"))e.loadRemoteImage({url:t,view:o,defaultSpriteFrame:i.Config.headImage_default});else if(-1!=t.indexOf("head"))t=i.Config.headImageURL+t,e.loadRemoteImage({url:t,view:o,defaultSpriteFrame:i.Config.headImage_default});else if(-1!=t.indexOf("base"))t=t.slice(t.indexOf("_")+1,t.indexOf(".")),t=i.Config.avatar_path+t,e.loadImage({url:t,view:o,bundle:a.BUNDLE_RESOURCES});else if(1==t.length){let n=i.Config.avatar_path+(Number(t)+1);e.loadImage({url:n,view:this,bundle:a.BUNDLE_RESOURCES})}else G.Logger.error("headImg \u683c\u5f0f\u4e0d\u5bf9");else t=this.getLocalHeadPath(n),e.loadImage({url:t,view:o,bundle:a.BUNDLE_RESOURCES});e&&(e.node.userId=n,e.node.off("click"),null==e.node.getComponent(cc.Button)&&e.node.addComponent(cc.Button),e.node.on("click",()=>{s.Manager.globalAudio.playEffect("common/audio/click",a.BUNDLE_RESOURCES),dispatch("OpenUserHeadInfo",{userID:e.node.userId})},this))}downloadImg(e,t,n,o){function i(){cc.loader.load(r,function(e,t){if(e)cc.error(e);else{var o=new cc.SpriteFrame(t);o&&n(o)}})}if(cc.sys.isNative){var a=jsb.fileUtils.getWritablePath()+"downloadImg/",r=a+e+".png";if(jsb.fileUtils.isFileExist(r))return cc.log("Remote is find"+r),void i();var s=function(e){void 0!==e?(jsb.fileUtils.isDirectoryExist(a)||jsb.fileUtils.createDirectory(a),jsb.fileUtils.writeDataToFile(new Uint8Array(e),r)?(cc.log("Remote write file succeed."),i()):cc.log("Remote write file failed.")):cc.log("Remote download file failed.")},c=new XMLHttpRequest;c.onreadystatechange=function(){cc.log("xhr.readyState  "+c.readyState),cc.log("xhr.status  "+c.status),4===c.readyState&&(200===c.status?s(c.response):s(null))}.bind(this),c.responseType="arraybuffer",c.open("GET",e,!0),c.send()}else t.loadRemoteImage({url:e,view:o})}converPosition(e,t){var n=e.parent.convertToWorldSpaceAR(e.position),o=t.parent.convertToNodeSpaceAR(n);return new cc.Vec2(o.x,o.y)}getLocalHeadPicName(){return this.LocalHeadPicName||null}_arrayBufferToBase64(e){for(var t,n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=e.byteLength,a=i%3,r=i-a,s=0;s<r;s+=3)n+=o[(16515072&(t=e[s]<<16|e[s+1]<<8|e[s+2]))>>18]+o[(258048&t)>>12]+o[(4032&t)>>6]+o[63&t];return 1==a?n+=o[(252&(t=e[r]))>>2]+o[(3&t)<<4]+"==":2==a&&(n+=o[(16128&(t=e[r]<<8|e[r+1]))>>8]+o[(1008&t)>>4]+o[(15&t)<<2]+"="),"data:image/jpeg;base64,"+n}getUpLoadPhotoBase64(e){}checkGameInstall(e){}getGameManifestVersion(e){return null}captureTexture(e){let t=this.getCatureUitl();t&&e&&t.capture(e)}getCatureUitl(){return c.default.Instance()}pushWindows(e){-1==l.User._popWindows.findIndex(t=>t[0]==e[0])&&l.User._popWindows.push(e)}popWindows(e){l.User._popWindows.length&&(l.User._popWindows=l.User._popWindows.sort((e,t)=>e[2]-t[2]),dispatch(l.User._popWindows[0][0],l.User._popWindows[0][1]),l.User._popWindows.splice(0,1))}},cc._RF.pop()},{"../common/component/CaptureUtil":"CaptureUtil","../common/config/Config":"Config","../common/manager/Manager":"Manager","../framework/base/Defines":"Defines","../framework/extentions/Operation":"Operation","./User":"User"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"4b839bYlRdMVqgOZ6FF4A6j","Utils");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createNodeWithPrefab=n.setSkeletonSkeletonData=n.setLabelFont=n.setParticleSystemFile=n.setButtonSpriteFrame=n.ButtonSpriteMemberName=n.setSpriteSpriteFrame=n.getBundle=n.addRemoteLoadResource=n.addExtraLoadResource=void 0;const i=o(e("../ui/UIView")),a=e("../base/Defines"),r=e("../Framework");function s(e,t){let n=r.Manager.uiManager;e==n.retainMemory?n.retainMemory.addLocal(t):e&&e instanceof i.default?n.addLocal(t,e.className):n.garbage.addLocal(t)}function c(e,t){let n=r.Manager.uiManager;e==n.retainMemory?n.retainMemory.addRemote(t):e&&e instanceof i.default?n.addRemote(t,e.className):n.garbage.addRemote(t)}function l(e){let t=a.BUNDLE_RESOURCES;return e.bundle!=a.BUNDLE_RESOURCES&&e.view&&(t=e.view.bundle),t}function d(e){return!!(cc.isValid(e)&&e.node&&cc.isValid(e.node))}var h;function u(e,t,n,o,i,r,c,l){if(!c){let n=new a.ResourceInfo;n.url=t,n.type=cc.SpriteFrame,n.data=o,n.bundle=l,s(e,n)}if(o&&d(n)){let e=n[i];try{let a=cc.isValid(o)?o:null;a&&(n[i]=a),r&&r(i,a)}catch(h){let o=cc.isValid(e)?e:null;n[i]=o,r&&r(i,null),cc.error(`${t} : ${h||"replace spriteframe error"}`)}}else r&&d(n)&&r(i,o)}function p(e,t,n,o,i,a,r,s=!1){i&&d(e)?u(n,o,e,i,t,a,s,r):a&&d(e)&&a(t,i)}function g(e,t,n,o,i,a){o&&("string"==typeof o?r.Manager.cacheManager.getCacheByAsync(o,cc.SpriteFrame,a).then(r=>{p(e,t,n,o,r,i,a)}):r.Manager.cacheManager.getSpriteFrameByAsync(o.urls,o.key,n,s,a).then(o=>{o&&o.isTryReload||p(e,t,n,o.url,o.spriteFrame,i,a,!0)}))}n.addExtraLoadResource=s,n.addRemoteLoadResource=c,n.getBundle=l,n.setSpriteSpriteFrame=function(e,t,n,o,i,r,l=a.ResourceType.Local,h=!1,u=!1){if(!u){let n=new a.ResourceInfo;n.url=t,n.type=cc.SpriteFrame,n.data=o,n.retain=h,n.bundle=r,l==a.ResourceType.Remote?c(e,n):s(e,n)}if(o&&d(n)){let e=n.spriteFrame,a=cc.isValid(o)?o:null;try{a&&(n.spriteFrame=a),i&&i(a)}catch(p){let o=cc.isValid(e)?e:null;n.spriteFrame=o,i&&i(null),cc.error(`${t} : ${p||"replace spriteframe error"}`)}}else i&&d(n)&&i(o)},function(e){e.Norml="normalSprite",e.Pressed="pressedSprite",e.Hover="hoverSprite",e.Disable="disabledSprite"}(h=n.ButtonSpriteMemberName||(n.ButtonSpriteMemberName={})),n.setButtonSpriteFrame=function(e,t){let n=l(t);g(e,h.Norml,t.view,t.normalSprite,t.completeCallback,n),g(e,h.Pressed,t.view,t.pressedSprite,t.completeCallback,n),g(e,h.Hover,t.view,t.hoverSprite,t.completeCallback,n),g(e,h.Disable,t.view,t.disabledSprite,t.completeCallback,n)},n.setParticleSystemFile=function(e,t,n){let o=new a.ResourceInfo;if(o.url=t.url,o.type=cc.ParticleAsset,o.data=n,o.bundle=l(t),s(t.view,o),n&&d(e)){let o=e.file;try{let a=cc.isValid(n)?n:null;a&&(e.file=a),t.completeCallback&&t.completeCallback(a)}catch(i){let n=cc.isValid(o)?o:null;e.file=n,t.completeCallback&&t.completeCallback(null),cc.error(`${t.url} : ${i||"replace file error"}`)}}else t.completeCallback&&d(e)&&t.completeCallback(n)},n.setLabelFont=function(e,t,n){let o=new a.ResourceInfo;if(o.url=t.font,o.type=cc.Font,o.data=n,o.bundle=l(t),s(t.view,o),n&&d(e)){let o=e.font;try{let a=cc.isValid(n)?n:null;a&&(e.font=a),t.completeCallback&&t.completeCallback(a)}catch(i){let n=cc.isValid(o)?o:null;e.font=n,t.completeCallback&&t.completeCallback(null),cc.error(`${t.font} : ${i||"replace font error"}`)}}else t.completeCallback&&d(e)&&t.completeCallback(n)},n.setSkeletonSkeletonData=function(e,t,n,o=a.ResourceType.Local){let i="",r=!1;if(o==a.ResourceType.Remote){let e=t;i=`${e.path}/${e.name}`,r=!!e.retain}else i=t.url;let h=new a.ResourceInfo;if(h.url=i,h.type=sp.SkeletonData,h.data=n,h.retain=r,h.bundle=l(t),o==a.ResourceType.Remote?c(t.view,h):s(t.view,h),n&&d(e)){let o=e.skeletonData;try{let a=cc.isValid(n)?n:null;a&&(e.skeletonData=a),t.completeCallback&&t.completeCallback(a)}catch(u){let n=cc.isValid(o)?o:null;e.skeletonData=n,t.completeCallback&&t.completeCallback(null),cc.error(`${i} : ${u||"replace skeletonData error"}`)}}else t.completeCallback&&d(e)&&t.completeCallback(n)},n.createNodeWithPrefab=function(e,t){let n=new a.ResourceInfo;if(n.url=e.url,n.type=cc.Prefab,n.data=t,n.bundle=l(e),s(e.view,n),t&&d(e.view)&&e.completeCallback){let n=cc.instantiate(t);e.completeCallback(n)}},cc._RF.pop()},{"../Framework":"Framework","../base/Defines":"Defines","../ui/UIView":"UIView"}],Validator:[function(e,t,n){"use strict";cc._RF.push(t,"4d4a3bmWn1IP4nG6XoNmM3p","Validator");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=o(e("./Strategies"));n.default=class{constructor(){this.cache=[];let e=new i.default;this.strategies=e}add(e,t){let n=this;for(let o,i=0;o=t[i++];)(function(t){let o=t.strategy.split(":"),i=t.errorMsg;n.cache.push(function(){let t=o.shift();return o.push(i),n.strategies[t].call(n,e,o)})})(o)}start(){for(let e,t=0;e=this.cache[t++];){let t=e();if(t)return t}}},cc._RF.pop()},{"./Strategies":"Strategies"}],WalletView:[function(e,t,n){"use strict";cc._RF.push(t,"089efqFpOVMCpO5GDI4BqCc","WalletView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/manager/Manager"),r=e("../common/net/LobbyService"),s=e("../framework/base/Defines"),c=e("../framework/decorator/Decorators"),l=i(e("../framework/ui/UIView")),d=i(e("../akun/AkunView")),h=i(e("../hall/HallNewView")),u=i(e("../login/LoginNewView")),p=i(e("../activity/MissionView")),g=i(e("./RechargeNewView")),m=i(e("./AttractNewView")),f=e("../framework/external/protoc"),b=i(e("./AttractRecordView")),y=i(e("../common/utils/NumberUtils")),_=i(e("../data/UserData")),v=i(e("./DepositRecordView")),{ccclass:w,property:C}=cc._decorator;let R=class extends l.default{constructor(){super(...arguments),this.labRp=null}static getPrefabUrl(){return"wallet/prefabes/walletView"}onLoad(){super.onLoad()}bindingEvents(){super.bindingEvents(),this.registerEvent("updateUserInfo",this.refreshUser)}show(){this.initData(),this.requestGetBankList(),this.requestWithLimit(),this.refreshUser()}initData(){let e=G.DataMgr.get(_.default);this._userData=e}refreshUser(){this._userData.isLogined()&&(this.labRp.string=y.default.converToC(Number(this._userData.info.Gold)))}requestWithLimit(){let e=f.MST.C2L_GetWithdrawLimit_Req.create({RpcId:a.Manager.netManager.getNewSeqId()}),t=f.MST.C2L_GetWithdrawLimit_Req.encode(e).finish();r.LobbyService.instance.sendMsg(f.MST.C2L_GetWithdrawLimit_Req,f.MST.OuterOpcode_Lobby.C2L_GetWithdrawLimit_Req,t)}requestGetBankList(){let e=f.MST.C2L_GetBankList_Req.create({RpcId:a.Manager.netManager.getNewSeqId(),index:0,limit:6}),t=f.MST.C2L_GetBankList_Req.encode(e).finish();r.LobbyService.instance.sendMsg(f.MST.C2L_GetBankList_Req,f.MST.OuterOpcode_Lobby.C2L_GetBankList_Req,t)}onClick(e,t){switch(e){case"btnHome":a.Manager.uiManager.open({type:h.default,bundle:s.BUNDLE_RESOURCES}),this.close();break;case"btnDompet":break;case"btnLogin":a.Manager.uiManager.open({type:u.default,bundle:s.BUNDLE_RESOURCES}),this.close();break;case"btnEvent":a.Manager.uiManager.open({type:p.default,bundle:s.BUNDLE_RESOURCES}),this.close();break;case"btnAkun":a.Manager.uiManager.open({type:d.default,bundle:s.BUNDLE_RESOURCES}),this.close();break;case"btnRefill":this.checkLogined()&&a.Manager.uiManager.open({type:g.default,bundle:s.BUNDLE_RESOURCES});break;case"btnWithdrawal":this.checkLogined()&&a.Manager.uiManager.open({type:m.default,bundle:s.BUNDLE_RESOURCES});break;case"btnAttrackRecord":this.checkLogined()&&a.Manager.uiManager.open({type:b.default,bundle:s.BUNDLE_RESOURCES});break;case"btnDepositRecord":this.checkLogined()&&a.Manager.uiManager.open({type:v.default,bundle:s.BUNDLE_RESOURCES})}}checkLogined(){return!!this._userData.id||(a.Manager.uiManager.open({type:u.default,bundle:s.BUNDLE_RESOURCES}),!1)}onDestroy(){super.onDestroy()}};o([C(cc.Label)],R.prototype,"labRp",void 0),R=o([w,c.injectService(r.LobbyService.instance)],R),n.default=R,cc._RF.pop()},{"../activity/MissionView":"MissionView","../akun/AkunView":"AkunView","../common/manager/Manager":"Manager","../common/net/LobbyService":"LobbyService","../common/utils/NumberUtils":"NumberUtils","../data/UserData":"UserData","../framework/base/Defines":"Defines","../framework/decorator/Decorators":"Decorators","../framework/external/protoc":"protoc","../framework/ui/UIView":"UIView","../hall/HallNewView":"HallNewView","../login/LoginNewView":"LoginNewView","./AttractNewView":"AttractNewView","./AttractRecordView":"AttractRecordView","./DepositRecordView":"DepositRecordView","./RechargeNewView":"RechargeNewView"}],WebEditBoxImpl:[function(e,t,n){"use strict";cc._RF.push(t,"6b85ddpujtPSp3HN9JmW+36","WebEditBoxImpl"),Object.defineProperty(n,"__esModule",{value:!0});const o=e("../Framework");class i{constructor(){this.input=null,this.textarea=null,this.div=null}static get instance(){return this._instance||(this._instance=new i)}init(){if(null==this.div){let e=window.document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.margin="0px",e.style.position="absolute",e.style.zIndex="1000",e.style.bottom="0px",e.style.left="0px",e.style.backgroundColor="#000",e.style.opacity="0.5",e.style.visibility="hidden",e.id="input_background",cc.game.container.appendChild(e),this.div=e}if(null==this.input){let e=window.document.createElement("input");e.style.zIndex="1001",e.id="EditBox_Input",e.style.visibility="hidden",e.style.width="98%",e.style.height="30px",e.style.border="2px",e.style.borderColor="blue",e.style.position="absolute",e.style.top="5px",e.style.left="1%",e.style.borderRadius="5px",e.style.fontSize="25px",e.style.type="text",e.style["-moz-appearance"]="textfield",cc.game.container.appendChild(e),this.input=e}if(null==this.textarea){let e=window.document.createElement("textarea");e.style.zIndex="1001",e.id="EditBox_Textarea",e.style.visibility="hidden",e.style.width="98%",e.style.height="50px",e.style.border="2px",e.style.borderColor="blue",e.style.position="absolute",e.style.top="5px",e.style.left="1%",e.style.borderRadius="5px",e.style.resize="none",e.style.fontSize="25px",e.style.overflow_y="scroll",e.style.overflowY="scroll",cc.game.container.appendChild(e),this.textarea=e}window.addEventListener("orientationchange",this.onOrientationChange.bind(this),!1),this.hideDom()}onOrientationChange(){this.input&&this.input.blur(),this.textarea&&this.textarea.blur()}adjust(e){if(0==e||180==e){let e=.9*parseInt(cc.game.container.style.height);this.input&&(this.input.style.width=`${e}px`,this.input.style.top=`${e/2}px`,this.input.style.transform="rotate(-90deg)",this.input.style.left=`-${e/2-30}px`),this.textarea&&(this.textarea.style.width=`${e}px`,this.textarea.style.top=`${e/2}px`,this.textarea.style.transform="rotate(-90deg)",this.textarea.style.left=`-${e-50}px`)}else this.input&&(this.input.style.width="98%",this.input.style.top="5px",this.input.style.transform="rotate(0deg)",this.input.style.left="1%"),this.textarea&&(this.textarea.style.width="98%",this.textarea.style.top="5px",this.textarea.style.transform="rotate(0deg)",this.textarea.style.left="1%")}createTextArea(){return this.textarea}createInput(){return this.input}hideDom(){this.div&&(this.div.style.visibility="hidden"),this.input&&(this.input.style.visibility="hidden"),this.textarea&&(this.textarea.style.visibility="hidden")}showDom(e){this.input&&this.textarea&&(this.div&&(this.div.style.visibility="visible"),this.input.style.visibility=e?"hidden":"visible",this.textarea.style.visibility=e?"visible":"hidden",this.adjust(window.orientation))}}i._instance=null,n.default=class{constructor(){this._delegate=null,this._elem=null,this._isTextArea=!1,this._eventListeners={},this._isFocus=!1}init(e){e&&(this._delegate=e,i.instance.init(),e.inputMode===cc.EditBox.InputMode.ANY?this._createTextArea():this._createInput())}enable(){}disable(){this._isFocus&&this._elem.blur()}clear(){this._isFocus&&(this._removeEventListeners(),i.instance.hideDom())}update(){}setTabIndex(e){}setSize(e,t){}setFocus(e){e?this.beginEditing():this._isFocus=!1}isFocused(){return this._isFocus}beginEditing(){this._isFocus=!0,o.Manager.adaptor.isShowKeyboard=!0,this._showDom(),this._registerEventListeners(),this._elem.focus(),this._delegate.editBoxEditingDidBegan()}endEditing(){}_createTextArea(){this._isTextArea=!0,this._elem=i.instance.createTextArea()}_createInput(){this._isTextArea=!1,this._elem=i.instance.createInput()}_showDom(){i.instance.showDom(this._isTextArea),this._updateMaxLength(),this._updateInputType(),this._updateStyleSheet()}_hideDom(){this._isFocus&&i.instance.hideDom()}_updateInputType(){let e=this._delegate,t=e.inputMode,n=e.inputFlag,o=e.returnType,i=this._elem;if(this._isTextArea){let e="none";return n===cc.EditBox.InputFlag.INITIAL_CAPS_ALL_CHARACTERS?e="uppercase":n===cc.EditBox.InputFlag.INITIAL_CAPS_WORD&&(e="capitalize"),void(i.style.textTransform=e)}if(n===cc.EditBox.InputFlag.PASSWORD)return void(i.type="password");let a=i.type;t===cc.EditBox.InputMode.EMAIL_ADDR?a="email":t===cc.EditBox.InputMode.NUMERIC||t===cc.EditBox.InputMode.DECIMAL?a="number":t===cc.EditBox.InputMode.PHONE_NUMBER?(a="number",i.pattern="[0-9]*"):t===cc.EditBox.InputMode.URL?a="url":(a="text",o===cc.EditBox.KeyboardReturnType.SEARCH&&(a="search")),i.type=a;let r="none";n===cc.EditBox.InputFlag.INITIAL_CAPS_ALL_CHARACTERS?r="uppercase":n===cc.EditBox.InputFlag.INITIAL_CAPS_WORD&&(r="capitalize"),i.style.textTransform=r}_updateMaxLength(){let e=this._delegate.maxLength;e<0&&(e=65535),this._elem.maxLength=e}_updateStyleSheet(){let e=this._delegate,t=this._elem;t.value=e.string,t.placeholder=e.placeholder}_registerEventListeners(){let e=this,t=this._elem,n=!1,i=this._eventListeners;i.compositionStart=function(){n=!0},i.compositionEnd=function(){n=!1,e._delegate.editBoxTextChanged(t.value)},i.onInput=function(){if(n)return;let o=t;o.value.length>o.maxLength&&(o.value=o.value.slice(0,o.maxLength)),e._delegate.editBoxTextChanged(t.value)},i.onKeydown=function(n){n.keyCode===cc.macro.KEY.enter?(n.stopPropagation(),e._delegate.editBoxEditingReturn(),e._isTextArea||t.blur()):n.keyCode===cc.macro.KEY.tab&&(n.stopPropagation(),n.preventDefault())},i.onBlur=function(){e._hideDom(),e._isFocus=!1,o.Manager.adaptor.isShowKeyboard=!1,e._removeEventListeners(),e._delegate.editBoxEditingDidEnded()},t.addEventListener("compositionstart",i.compositionStart),t.addEventListener("compositionend",i.compositionEnd),t.addEventListener("input",i.onInput),t.addEventListener("keydown",i.onKeydown),t.addEventListener("blur",i.onBlur),t.addEventListener("touchstart",i.onClick)}_removeEventListeners(){let e=this._elem,t=this._eventListeners;Object.keys(t).length>0&&(e.removeEventListener("compositionstart",t.compositionStart),e.removeEventListener("compositionend",t.compositionEnd),e.removeEventListener("input",t.onInput),e.removeEventListener("keydown",t.onKeydown),e.removeEventListener("blur",t.onBlur),e.removeEventListener("touchstart",t.onClick),t.compositionStart=null,t.compositionEnd=null,t.onInput=null,t.onKeydown=null,t.onBlur=null,t.onClick=null,this._eventListeners={})}},cc._RF.pop()},{"../Framework":"Framework"}],WebPopUpToolTip:[function(e,t,n){"use strict";cc._RF.push(t,"05c7bUshJZH643jVpcyss3Z","WebPopUpToolTip"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebPopUpTipTool=void 0,n.WebPopUpTipTool=new class{constructor(){this.contentWindow=null}init(e){}showTip(e){this.postMessage({key:"showTip",msg:e})}showDialog(e,t,n,o,i,a,r=!0,s=!0){this.postMessage({key:"showDialog",msgobj:{title:e,content:t,next:n,cancel:o,cancleText:i,conmfirmText:a}})}showMsgBox(e,t,n,o,i=!0,a=!0){this.showDialog(e,t,n,null,void 0,o)}showLoading(e,t=1e4){}hideLoading(){}showDisconnectWait(){}hideDisconnectWait(){}postMessage(e){this.contentWindow.postMessage(e,"*")}initHtmlHuanJin(){var e=document.getElementsByTagName("iframe")[1];e.src="data:text/html;charset=utf-8,"+escape('\nHTMLResult Skip Results Iframe\nEDIT ON\n<!DOCTYPE html>\n<html>\n\n<head>\n  <meta charset="UTF-8">\n  \x3c!-- import CSS --\x3e\n  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">\n  <style tpe="text/css">\n    .el-message-box {\n      width: 55%\n    }\n\n    .el-message-box__title {\n      font-size: 3rem;\n    }\n\n    .el-message-box__message p {\n      font-size: 2rem;\n      margin: 0.5rem;\n      line-height: 130%\n    }\n\n    .el-button span {\n      font-size: 2rem;\n    }\n  </style>\n</head>\n\n<body>\n  <div id="app">\n    <el-button @click="showDialog()">Button</el-button>\n\n  </div>\n</body>\n\x3c!-- import Vue before Element --\x3e\n<script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n\x3c!-- import JavaScript --\x3e\n<script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n<script>\n  window.vueTool = new Vue({\n    el: \'#app\',\n    data: function () {\n      return { visible: false }\n    },\n    mounted(){\n        window.addEventListener(\'message\', (msg) => {\n            let data = msg ? msg.data : null;\n            if (!data) return;\n            switch (data.key) {\n                case "showTip":\n                    this.showTip(data.msg)\n                    break;\n                case "showDialog":\n                    let { title, content, next, cancel, cancleText, conmfirmText } = data.msgobj\n                    this.showDialog(title, content, next, cancel, cancleText, conmfirmText );\n                    break;\n            }\n            console.log(\'aaaaaaaaaa\', data);\n        })\n\n    },\n    methods: {\n      showTip(str) {\n        this.$message(str);\n      },\n      showDialog(title, content, next, cancel, cancleText, conmfirmText) {\n        this.$confirm(content, title, {\n          confirmButtonText: conmfirmText,\n          cancelButtonText: cancleText,\n          // type: \'warning\'\n        }).then(() => {\n          next && next();\n        }).catch(() => {\n          cancel && cancel();\n        });\n      }\n    }\n  })\n\n<\/script>\n\n</html>'),e.style.pointerEvents="none"}},cc._RF.pop()},{}],WebSocketClient:[function(e,t,n){"use strict";cc._RF.push(t,"608bdGOEl5HpLe/v5W2tS4u","WebSocketClient"),Object.defineProperty(n,"__esModule",{value:!0});const o=e("../event/EventApi");n.default=class{constructor(){this._tag="[WebSocketClinet]",this._ip="",this._port=null,this._protocol="ws",this._dataArr=[],this._isWaitingConnect=!1,this._conTimeOut=10,this._sendTimeOut=10,this._ws=null,this._onOpen=null,this._onClose=null,this._onMessage=null,this._onError=null,this._closeEvent=null}set connectTimeOut(e){this._conTimeOut=e}get connectTimeOut(){return this._conTimeOut}set sendTimeOut(e){this._sendTimeOut=e}get sendTimeOut(){return this._sendTimeOut}set onOpen(e){this._onOpen=e}get onOpen(){return this._onOpen}set onClose(e){this._onClose=e}get onClose(){return this._onClose}set onMessage(e){this._onMessage=e}get onMessage(){return this._onMessage}set onError(e){this._onError=e}get onError(){return this._onError}init(e,t,n){this._ip=e,this._port=t,this._protocol=n,this._dataArr=[],this._conTimeOut=10,this._sendTimeOut=10,this._closeEvent=null}connectWebSocket(e,t,n){if(this.init(e,t,n),!this._ip)return;let o=`${n}://${this._ip}`;this._port&&(o+=`:${this._port}`),this._ws=new WebSocket(o),this._ws.binaryType="arraybuffer",this._ws.onopen=this.__onConected.bind(this),this._ws.onmessage=this.__onMessage.bind(this),this._ws.onclose=this.__onClose.bind(this),this._ws.onerror=this.__onError.bind(this)}initWebSocket(e,t,n){if(!(null==e||null==e||e.length<0))if(this._ws)if(this._ws.readyState==WebSocket.CONNECTING){if(this._ip==e&&this._port==t)return}else this._ws.readyState==WebSocket.OPEN?this._ip==e&&this._port==t&&dispatch("webSocketIsOpen"):this._ws.readyState==WebSocket.CLOSING?(this._isWaitingConnect=!0,this._ip=e,this._port=t):(this._ws=null,this.connectWebSocket(e,t,n));else this.connectWebSocket(e,t,n)}__onConected(e){if(this._ws,this._dataArr.length>0){for(let e=0;e<this._dataArr.length;e++)this.send(this._dataArr[e]);this._dataArr=[]}this.onOpen&&this.onOpen()}__onMessage(e){let t=new Uint8Array(e.data);this.onMessage&&this.onMessage(t)}__onClose(e){this._ws=null,this._closeEvent&&(e=this._closeEvent,this._closeEvent=null),this._isWaitingConnect?(this._closeEvent=null,this.connectWebSocket(this._ip,this._port,this._protocol),this._isWaitingConnect=!1):this.onClose&&this.onClose(e)}__onError(e){this.onError&&this.onError(e)}send(e){this._ws&&e&&(this._ws.readyState===WebSocket.OPEN?this._ws.send(e):this._ws.readyState==WebSocket.CONNECTING?this._dataArr.push(e):(this._ws.readyState,WebSocket.CLOSING))}close(){this._ws&&(this._closeEvent={type:o.CustomNetEventType.CLOSE},this._ws.close()),this._dataArr=[]}},cc._RF.pop()},{"../event/EventApi":"EventApi"}],WelfareCenterView:[function(e,t,n){"use strict";cc._RF.push(t,"8df3e2vZv9Aa7o7yTT5eNl7","WelfareCenterView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=i(e("../msgbox/PanelHelp")),{ccclass:u,property:p}=cc._decorator;let g=class extends d.default{constructor(){super(...arguments),this.scrollView=null,this.item=null,this.itemSprite=null,this.noTip=null,this.loadNode=null,this.welfareCentersData=null,this.selectData=null}static getPrefabUrl(){return"WelfareCenter/prefabs/WelfareCenterView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.noTip.getComponent(cc.Label).language=a.i18n.WelfareCenter.noTip}bindingEvents(){super.bindingEvents(),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_WelfareCenter),this.refreshWelfareCenter)}refreshWelfareCenter(e){G.Logger.log(e,"WelfareCenter"),e&&(0==e.statusMsg.status?e.welfareCenters&&e.welfareCenters.length&&(this.welfareCentersData=e.welfareCenters,this.noTip.active=!1,this.loadWelfareCentersView(e.welfareCenters)):h.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}loadWelfareCentersView(e){let t=r.Manager.language.getLanguage();for(let n=0;n<e.length;n++){const o=e[n];let i=o.welfareCenter.find(e=>1==e.index);if(t==cc.sys.LANGUAGE_ENGLISH?i=o.welfareCenter.find(e=>1==e.index):t==cc.sys.LANGUAGE_HINDI&&(i=o.welfareCenter.find(e=>2==e.index)),i){let e=cc.instantiate(this.item);e.active=!0,e.x=0,e.name=i.name,e.getChildByName("Label").getComponent(cc.Label).string=i.name,e.parent=this.scrollView.content,!this.selectData&&i.imgUrl&&(this.loadNode.parent.active=!0,this.itemSprite.loadRemoteImage({url:i.imgUrl,view:this,completeCallback:e=>{console.log(e),e&&(this.loadNode.parent.active=!1)}}),this.selectData=i)}}}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"itemSprite":this.openSpriteURL();break;default:{let t=r.Manager.language.getLanguage(),n=1;t==cc.sys.LANGUAGE_ENGLISH?n=1:t==cc.sys.LANGUAGE_HINDI&&(n=2);for(let o=0;o<this.welfareCentersData.length;o++){let t=this.welfareCentersData[o].welfareCenter.find(t=>t.name==e&&t.index==n);t&&(this.selectData=t,this.loadNode.parent.active=!0,this.itemSprite.loadRemoteImage({url:t.imgUrl,view:this,completeCallback:e=>{e&&(this.loadNode.parent.active=!1)}}))}}}}openSpriteURL(){if(this.selectData)if(0==this.selectData.jumpType){if(this.selectData.jumpValue&&"empty"!=this.selectData.jumpValue){let e=r.Manager.uiManager.getView("HallView");if(e){let t=this.selectData.jumpValue;this.closeWithAction(),e.then(e=>{e&&e.onClickByWelfareCenter(t)})}}}else 1==this.selectData.jumpType&&this.selectData.imgUrl&&window.platformUtil.openURL(this.selectData.jumpValue)}start(){this.reqWelfareCenterList(),cc.tween(this.loadNode).repeatForever(cc.tween().by(.2,{angle:30}).delay(.01)).start()}reqWelfareCenterList(){this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_WelfareCenter,null)}show(e){super.show(e),this.showWithAction(!0)}};o([p(cc.ScrollView)],g.prototype,"scrollView",void 0),o([p(cc.Node)],g.prototype,"item",void 0),o([p(cc.Sprite)],g.prototype,"itemSprite",void 0),o([p(cc.Node)],g.prototype,"noTip",void 0),o([p(cc.Node)],g.prototype,"loadNode",void 0),g=o([u,l.injectService(c.LobbyService.instance)],g),n.default=g,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../msgbox/PanelHelp":"PanelHelp"}],WithdrawalItem:[function(e,t,n){"use strict";cc._RF.push(t,"b27a1R3i7RGtqA+sbOJAXgz","WithdrawalItem");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../framework/Framework"),a=e("../global/UtilMgr"),{ccclass:r,property:s}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.bankName=null,this.account=null,this.checkToggle=null,this._itemClickCallback=null,this._itemId=0,this._changeId=null}onLoad(){}init(e,t,n){this._itemId=t,this._changeId=e.id,this._data=e,this._itemClickCallback=n,this.bankName.string=e.bankName,this.account.string=a.UtilMgr.setBankCardStringCover(e.bankCard);let o=i.Manager.localStorage.getItem("selectBankIndex");o?this.checkToggle.isChecked=t==o:(this.checkToggle.isChecked=0==t,0==t&&i.Manager.localStorage.setItem("selectBankIndex",0))}onItemClick(e,t){i.Manager.localStorage.setItem("selectBankIndex",this._itemId),this._itemClickCallback&&this._itemClickCallback(this._itemId)}onClickChangeAccount(e,t){dispatch("openBindChangeWithdrawalAccount",[2,this._data])}};o([s(cc.Label)],c.prototype,"bankName",void 0),o([s(cc.Label)],c.prototype,"account",void 0),o([s(cc.Toggle)],c.prototype,"checkToggle",void 0),c=o([r],c),n.default=c,cc._RF.pop()},{"../framework/Framework":"Framework","../global/UtilMgr":"UtilMgr"}],WithdrawalView:[function(e,t,n){"use strict";cc._RF.push(t,"c6c1fpVKcVCub64Eumy/GnO","WithdrawalView");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=e("../common/language/LanguageImpl"),r=e("../common/manager/Manager"),s=e("../common/net/CommonService"),c=e("../common/net/LobbyService"),l=e("../framework/decorator/Decorators"),d=i(e("../framework/ui/UIView")),h=e("../global/User"),u=e("../global/UtilMgr"),p=i(e("../msgbox/PanelHelp")),g=i(e("./WithdrawalItem")),{ccclass:m,property:f}=cc._decorator;let b=class extends d.default{constructor(){super(...arguments),this.managementTip=null,this.withdrawalTip=null,this.managementContent=null,this.withdrawalContent=null,this.withdrawalLogsContent=null,this.accountLayout=null,this.accountItem=null,this.nextBtn=null,this.withdrawalNext=null,this.carried=null,this.bank=null,this.witharawalRate=null,this.minWithdrawalAmount=null,this.amountEditbox=null,this.withdrawalLogsItem=null,this.withdrawalLogsLayout=null,this.pageText=null,this.addBankCard=null,this.addBankCardLabel=null,this.infoNode=null,this.infoAmountText=null,this.infoFeeText=null,this.infoBankText=null,this.infoAccountText=null,this.pwdEditbox=null,this.carriedLab=null,this.bankLab=null,this._userBankList=[],this._minWithdrawalAmount=0,this._maxAccountCount=3,this._clickItemId=0,this._page=1,this._pageTotal=1,this._pageSize=5,this._maxWithdrawalAmount=0,this._insufficientBetAmount=0}static getPrefabUrl(){return"withdrawal/prefabs/WithdrawalView"}onLoad(){super.onLoad(),this.content=this.node.getChildByName("content"),this.managementTip.active=!0,this.managementContent.active=!0,this.withdrawalTip.active=!1,this.withdrawalContent.active=!1,this.withdrawalLogsContent.active=!1,this.infoNode.active=!1,this.amountEditbox.node.on("text-changed",this.bankEditChanged,this),this.addBankCardLabel.string=a.i18n.WITHDRAWAL.ADDBANKCARD,this.amountEditbox.placeholder=r.Manager.getLanguage("WITHDRAWAL.WITHDRAWALAMOUNT"),this.carriedLab.string=a.i18n.BANK.CARRIED,this.bankLab.string=a.i18n.BANK.BANK,this.pwdEditbox.placeholder=r.Manager.getLanguage("WITHDRAWAL.SECONDARYPASSWORD")}bankEditChanged(e){e.string&&parseFloat(e.string)!=parseInt(e.string)&&(e.string=parseInt(e.string));let t=u.UtilMgr.formatFloat(1e4*u.UtilMgr.recoverMoney(e.string));e.string=u.UtilMgr.changeMoney(t)}bindingEvents(){super.bindingEvents(),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_GetBankInfo),this.refreshManagement),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.REFRESH_SAFETY_BOX),this.refreshSafetyBox),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_WithdrawalConfig),this.refreshWithdrawalConfig),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_Withdrawal),this.withdrawalCallback),this.registerEvent(l.makeKey(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_WithdrawalRecord),this.refreshWithdrawalRecord),this.registerEvent("reqBankList",this.reqBankList)}refreshWithdrawalRecord(e){cc.log(e,"WithdrawalRecord"),e&&(0==e.statusMsg.status?e.recordList.length>0?(this._page=e.currPage,this._pageTotal=e.total,this.witharawalRecordView(e.recordList)):this.pageText.string=this._page+"/"+this._pageTotal:p.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}withdrawalCallback(e){cc.log(e,"Withdrawal"),0==e.status?(this.reqSafetyBox(),this.reqWithdrawalConfig(),this.amountEditbox.string="",this.withdrawalNext.interactable=!1,p.default.showTip(a.i18n.WITHDRAWAL.SUCCESS),this.infoNode.active=!1):309==e.status?p.default.showMsgBox("",r.Manager.makeLanguage("WITHDRAWAL.WithdrawalStatus."+e.status)):p.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.status))}refreshWithdrawalConfig(e){cc.log(e,"WithdrawalConfig"),e&&(0==e.statusMsg.status?(this.withdrawalConfig=e,this._minWithdrawalAmount=e.minWithdrawalAmount,0!=e.chargeRate?this.witharawalRate.language=String.format(a.i18n.WITHDRAWAL.RATE,e.chargeRate):this.witharawalRate.language=a.i18n.WITHDRAWAL.RATELimited,this._maxWithdrawalAmount=e.maxWithdrawalAmount,this._insufficientBetAmount=e.insufficientBetAmount,this.minWithdrawalAmount.language=a.i18n.WITHDRAWAL.MINAMOUNT+u.UtilMgr.changeMoney(this._minWithdrawalAmount)+"/"+u.UtilMgr.changeMoney(this._maxWithdrawalAmount)):p.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}refreshSafetyBox(e){cc.log(e,"SafetyBox"),e&&(0==e.statusMsg.status?(h.User._gold=e.gold,h.User._bank=e.safetyBoxGold,this.carried.string=u.UtilMgr.changeMoney(e.gold),this.bank.string=u.UtilMgr.changeMoney(e.safetyBoxGold)):p.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}refreshManagement(e){cc.log(e,"Withdrawal"),e&&(0==e.statusMsg.status?e.userBankInfoList.length>0?(this._userBankList=e.userBankInfoList,this.managementView(),this.nextBtn.node.active=!0,this.nextBtn.interactable=!0):(this.nextBtn.node.active=!0,this.nextBtn.interactable=!1):p.default.showMsgBox("",r.Manager.makeLanguage("ERRORCODE."+e.statusMsg.status)))}witharawalRecordView(e){this.withdrawalLogsLayout.removeAllChildren();for(let t=0;t<e.length;t++){let n=cc.instantiate(this.withdrawalLogsItem);n.active=!0,n.parent=this.withdrawalLogsLayout,n.getChildByName("account").getComponent(cc.Label).string="****"+e[t].bankCard.substring(e[t].bankCard.length-4),n.getChildByName("amount").getComponent(cc.Label).string=u.UtilMgr.changeMoney(e[t].drawingGlod),n.getChildByName("details").getComponent(cc.Label).string=a.i18n.WITHDRAWAL.WithdrawalStatus[e[t].drawingStatus];let o=new Date(e[t].applyTime).format("MM-dd hh:mm");n.getChildByName("time").getComponent(cc.Label).string=o}this.pageText.string=this._page+"/"+this._pageTotal}getBankAccByName(){let e={};for(let t=0;t<this._userBankList.length;t++){let n=this._userBankList[t].bankName;e[n]||(e[n]=[]),e[n].push(this._userBankList[t])}return e}managementView(){this.accountLayout.removeAllChildren();for(let t=0;t<this._userBankList.length;t++){h.User._bankList[t]=this._userBankList[t].bankCard;let e=cc.instantiate(this.accountItem);e.active=!0,e.parent=this.accountLayout,e.getComponent(g.default).init(this._userBankList[t],t,this.onClickAccountItemCallback.bind(this))}this.addBankCard.active=this._userBankList.length<this._maxAccountCount;let e=r.Manager.localStorage.getItem("selectBankIndex");this._clickItemId=e}show(e){super.show(e),this.showWithAction(!0)}onClick(e,t){switch(e){case"close":this.closeWithAction();break;case"infoClose":this.infoNode.active=!1;break;case"management":case"withdrawal":case"withdrawalLogs":this.onClickToggle(e);break;case"addCardBtn":this.onClickBindAccount();break;case"managementNextBtn":this.onClickManagementNextBtn();break;case"withdrawalNext":this.onClickWithdrawalNextBtn();break;case"confirm":this.onClickConfirm();break;case"lastPage":this.onClicklastPage();break;case"nextPage":this.onClicknextPage();break;default:G.Logger.error("no find button name -> %s",e)}}onClickWithdrawalNextBtn(){let e=this.amountEditbox.string;if(""==e)return void p.default.showTip(a.i18n.BIND.INPUTAMOUNT);let t=u.UtilMgr.formatFloat(1e4*u.UtilMgr.recoverMoney(e));this._minWithdrawalAmount>t?p.default.showTip(a.i18n.WITHDRAWAL.INPUTMINAMOUNT):this._maxWithdrawalAmount<t&&t<=this._insufficientBetAmount?p.default.showTip(a.i18n.WITHDRAWAL.IWBBET):t>this._insufficientBetAmount?p.default.showTip(a.i18n.WITHDRAWAL.IWB):(this.infoNode.active=!0,this.infoAmountText.string=e,0==this.withdrawalConfig.chargeRate?this.infoFeeText.language=a.i18n.WITHDRAWAL.Limitedfree:this.infoFeeText.string=u.UtilMgr.changeMoney(t*this.withdrawalConfig.chargeRate/100),this.infoBankText.string=this._userBankList[this._clickItemId].bankName,this.infoAccountText.string=u.UtilMgr.setBankCardStringCover(this._userBankList[this._clickItemId].bankCard),this.pwdEditbox.string="")}onEditboxEnd(e,t){let n=e.string;""==n||0==parseInt(n)?(e.string="",this.withdrawalNext.interactable=!1):this.withdrawalNext.interactable=!0}onClickManagementNextBtn(){this.resetVeiw(),this.reqSafetyBox(),this.reqWithdrawalConfig(),this.withdrawalTip.active=!0,this.withdrawalContent.active=!0}onClickCheck(e){e.active?cc.tween(e).set({scaleY:1}).to(.1,{scaleY:0}).call(()=>{e.active=!1}).start():(e.active=!0,cc.tween(e).set({scaleY:0}).to(.1,{scaleY:1}).start())}onClicknextPage(){this._page!=this._pageTotal&&(this._page=this._page+1,this.reqWithdrawalRecord())}onClicklastPage(){1!=this._page&&(this._page=this._page-1,this.reqWithdrawalRecord())}onClickAccountItemCallback(e){this._clickItemId=e,this.accountLayout.children.forEach((t,n)=>{t.getComponent(g.default).checkToggle.isChecked=e==n})}onClickConfirm(){let e=this.amountEditbox.string;if(""==e)return void p.default.showTip(a.i18n.BIND.INPUTACCOUNT);let t=u.UtilMgr.formatFloat(1e4*u.UtilMgr.recoverMoney(e)),n=this.pwdEditbox.string;""!=n?this.reqWithdrawal(t,n):p.default.showTip(a.i18n.WITHDRAWAL.ERROR.EMPTY_PWD)}onClickBindAccount(){}resetVeiw(){this.managementTip.active=!1,this.managementContent.active=!1,this.withdrawalTip.active=!1,this.withdrawalContent.active=!1,this.withdrawalLogsContent.active=!1}onClickToggle(e){this.resetVeiw(),"management"==e?(this.managementTip.active=!0,this.managementContent.active=!0):"withdrawal"==e?this.managementContent.active=!0:"withdrawalLogs"==e&&(this.withdrawalLogsContent.active=!0,this.reqWithdrawalRecord())}reqWithdrawalRecord(){let e=s.protoPackage.hall.base.WithdrawalRecordReq.create({userId:h.User._userID,page:this._page,size:this._pageSize}),t=s.protoPackage.hall.base.WithdrawalRecordReq.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_WithdrawalRecord,t)}reqWithdrawal(e,t){let n=this._userBankList[this._clickItemId].id,o=s.protoPackage.hall.base.WithdrawalReq.create({userId:h.User._userID,drawingGlod:e,bankInfoId:n,realName:n.realName,phone:h.User._phone,passwd:base64Encrypt(t)}),i=s.protoPackage.hall.base.WithdrawalReq.encode(o).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_Withdrawal,i)}reqWithdrawalConfig(){this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_WithdrawalConfig,null)}reqSafetyBox(){let e=s.protoPackage.hall.RefreshSafetyBox.create({userId:h.User._userID}),t=s.protoPackage.hall.RefreshSafetyBox.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.REFRESH_SAFETY_BOX,t)}reqBankList(){let e=s.protoPackage.hall.base.GetBankInfoReq.create({userId:h.User._userID}),t=s.protoPackage.hall.base.GetBankInfoReq.encode(e).finish();this.service.sendMsg(s.serverType.Lobby,s.protoPackage.hall.HallCmd.CMD_GetBankInfo,t)}start(){this.reqBankList()}};o([f(cc.Node)],b.prototype,"managementTip",void 0),o([f(cc.Node)],b.prototype,"withdrawalTip",void 0),o([f(cc.Node)],b.prototype,"managementContent",void 0),o([f(cc.Node)],b.prototype,"withdrawalContent",void 0),o([f(cc.Node)],b.prototype,"withdrawalLogsContent",void 0),o([f(cc.Node)],b.prototype,"accountLayout",void 0),o([f(cc.Prefab)],b.prototype,"accountItem",void 0),o([f(cc.Button)],b.prototype,"nextBtn",void 0),o([f(cc.Button)],b.prototype,"withdrawalNext",void 0),o([f(cc.Label)],b.prototype,"carried",void 0),o([f(cc.Label)],b.prototype,"bank",void 0),o([f(cc.Label)],b.prototype,"witharawalRate",void 0),o([f(cc.Label)],b.prototype,"minWithdrawalAmount",void 0),o([f(cc.EditBox)],b.prototype,"amountEditbox",void 0),o([f(cc.Node)],b.prototype,"withdrawalLogsItem",void 0),o([f(cc.Node)],b.prototype,"withdrawalLogsLayout",void 0),o([f(cc.Label)],b.prototype,"pageText",void 0),o([f(cc.Node)],b.prototype,"addBankCard",void 0),o([f(cc.Label)],b.prototype,"addBankCardLabel",void 0),o([f(cc.Node)],b.prototype,"infoNode",void 0),o([f(cc.Label)],b.prototype,"infoAmountText",void 0),o([f(cc.Label)],b.prototype,"infoFeeText",void 0),o([f(cc.Label)],b.prototype,"infoBankText",void 0),o([f(cc.Label)],b.prototype,"infoAccountText",void 0),o([f(cc.EditBox)],b.prototype,"pwdEditbox",void 0),o([f(cc.Label)],b.prototype,"carriedLab",void 0),o([f(cc.Label)],b.prototype,"bankLab",void 0),b=o([m,l.injectService(c.LobbyService.instance)],b),n.default=b,cc._RF.pop()},{"../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../common/net/CommonService":"CommonService","../common/net/LobbyService":"LobbyService","../framework/decorator/Decorators":"Decorators","../framework/ui/UIView":"UIView","../global/User":"User","../global/UtilMgr":"UtilMgr","../msgbox/PanelHelp":"PanelHelp","./WithdrawalItem":"WithdrawalItem"}],android:[function(e,t,n){"use strict";cc._RF.push(t,"53af5UKwnlP1b7K9MrRzaxX","android");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.android=n.shareType=void 0,e("../common/base/HotUpdate");const i=e("../common/language/LanguageImpl"),a=e("../common/manager/Manager"),r=e("../login/LoginView"),s=o(e("../msgbox/PanelHelp"));let c="org/cocos2dx/javascript/AppActivity";(function(e){e[e.LINK=0]="LINK",e[e.PHOTO=1]="PHOTO"})(n.shareType||(n.shareType={})),n.android=new class{loginToFacebook(e){jsb.reflection.callStaticMethod("com/threeoctopus/facebookapi/FacebookSDK","loginFacebook","(Ljava/lang/String;)V",e?"login":"bind")}loginToFacebookCB(e){G.Logger.log("facebook \u767b\u5f55\u56de\u8c03 isSuccess",e),e&&"true"==e&&(G.Logger.log("getUserInfo",e),jsb.reflection.callStaticMethod("com/threeoctopus/facebookapi/FacebookSDK","getUserInfo","(Ljava/lang/String;)V",""))}getFacebookUserInfoToLogin(e,t,n){dispatch(r.LoginEvent.FACEBOOK,{fbId:e,fbName:t,fbHeadImg:n})}shareToFacebook(e,t,n){let o={shareType:e,shareUrl:t,imgPath:n},i=JSON.stringify(o);jsb.reflection.callStaticMethod("com/threeoctopus/facebookapi/FacebookSDK","shareFacebook","(Ljava/lang/String;)V",i)}shareToFacebookCB(e){G.Logger.log("facebook \u5206\u4eab\u56de\u8c03 isSuccess",e),e&&"true"==e?s.default.showTip(i.i18n.TIPS.SHARESUCCESS):s.default.showTip(i.i18n.TIPS.SHAREFAILED)}copyToClip(e,t){G.Logger.error("copyToClip : ",e),jsb.reflection.callStaticMethod(c,"copyToClip","(Ljava/lang/String;)V",e.toString());let n=a.Manager.makeLanguage("Tips.CopySuccess");return t&&(n=t),s.default.showTip(n)}getDeviceUUID(){G.Logger.log("android : getDeviceUUID");let e=jsb.reflection.callStaticMethod(c,"getDeviceUUID","()Ljava/lang/String;");return e||(e=Date.now()).toString()}openURL(e){cc.sys.openURL(e)}getVersionName(){G.Logger.log("android : getVersionName");let e=jsb.reflection.callStaticMethod(c,"getAPPVersionName","()Ljava/lang/String;");return G.Logger.log("android : getVersionName",e),e}getResVersionName(){return 1}handleKeyBackClicked(){dispatch("handleKeyBackClicked")}handleUpLoadPhoto(e){dispatch("handleUpLoadPhoto",e)}localPhotoMethod(){jsb.reflection.callStaticMethod(c,"localPhotoMethod","()V")}takePhotoMethod(){jsb.reflection.callStaticMethod(c,"takePhotoMethod","()V")}getAppQuDaoId(){let e=jsb.reflection.callStaticMethod(c,"getAppQuDaoId","()I");return G.Logger.log("android : getAppQuDaoId",e),e||0}openEmail(e){jsb.reflection.callStaticMethod(c,"openEmail","(Ljava/lang/String;)V",e.toString())}saveTextureToLocal(e){jsb.reflection.callStaticMethod(c,"saveTextureToLocal","(Ljava/lang/String;)V",e)}shareImageToLocal(e){jsb.reflection.callStaticMethod(c,"shareImageToLocal","(Ljava/lang/String;)V",e)}handleSaveImageToLocal(e){dispatch("handleSaveImageToLocal",e)}getAllContact(){jsb.reflection.callStaticMethod(c,"getAllContact","()V")}phoneInfo(e){dispatch("phoneInfo",e)}getContactsPermission(e){dispatch("getContactsPermission",e)}getClipBoardStr(){return jsb.reflection.callStaticMethod(c,"getClipBoardStr","()V")||null}handleClipBoardStr(e){dispatch("handleClipBoardStr",e)}setRequestedOrientation(e){jsb.reflection.callStaticMethod(c,"setRequestedOrientation","(Z)V",e)}setSurfaceViewZOrderOnTop(e){}getRoomIdOnShare(){return jsb.reflection.callStaticMethod(c,"getRoomIdOnShare","()Ljava/lang/String;")||null}sendBuyInfoToAF(e){let t={revenue:+e.amount,content_type:e.productName,content_id:e.orderId,currency:e.currency},n=JSON.stringify(t);G.Logger.log("send data",t,n),jsb.reflection.callStaticMethod("com/flyer/AFActivity","AFBuyInfoInApp","(Ljava/lang/String;)V",n)}isInAppSuccess(e){G.Logger.log("isInApp orderId",e),e&&dispatch("IN_AFAPP_SUCCESS",e)}},cc._RF.pop()},{"../common/base/HotUpdate":"HotUpdate","../common/language/LanguageImpl":"LanguageImpl","../common/manager/Manager":"Manager","../login/LoginView":"LoginView","../msgbox/PanelHelp":"PanelHelp"}],fbsdk:[function(e,t,n){"use strict";cc._RF.push(t,"22e745v0/xIfpSiSpvCtHQB","fbsdk"),Object.defineProperty(n,"__esModule",{value:!0});class o{constructor(){}static get instance(){return this._instance||(this._instance=new o)}FB_Load(){var e,t,n,o,i;t="script",n="facebook-jssdk",i=(e=document).getElementsByTagName(t)[0],e.getElementById(n)||((o=e.createElement(t)).id=n,o.src="https://connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i)),window.fbAsyncInit=function(){}}init(){let e=window.FB;e&&e.init({appId:"740652370264994",autoLogAppEvents:!0,xfbml:!0,version:"v13.0"})}FB_SignOut(e){let t=window.FB;t&&t.logout(function(t){console.log("FB.logout\u767b\u51fa",t),e&&e()})}FB_Login(e){let t=window.FB;t&&t.login(function(n){if(n.authResponse){let o=n.authResponse;console.log("Welcome!  Fetching your information.... "),t.api("/me",function(t){console.log("Good to see you, "+t.name+"."),o.id=t.id,o.name=t.name,console.log(`Good To See You : ${o.name}`),e&&e(o)})}else console.log("User cancelled login or did not fully authorize.")})}destroy(){}}n.default=o,o._instance=null,cc._RF.pop()},{}],googlesdk:[function(e,t,n){"use strict";cc._RF.push(t,"abc79pAdzBJGpNzpQHABMW1","googlesdk"),Object.defineProperty(n,"__esModule",{value:!0});class o{constructor(){}static get instance(){return this._instance||(this._instance=new o)}Google_Load(){var e,t,n,o,i;t="script",n="google-jssdk",i=(e=document).getElementsByTagName(t)[0],e.getElementById(n)||((o=e.createElement(t)).id=n,o.src="https://accounts.google.com/gsi/client",i.parentNode.insertBefore(o,i)),window.fbAsyncInit=function(){}}Google_SignOut(){let e=window.google;e&&e.accounts.id.disableAutoSelect()}Google_Login(e){window.gapi;let t=window.google;t&&t.accounts.oauth2.initCodeClient({client_id:"370002132573-m6b7j5b4poakr6r7r3lfbuicudn8v6ej.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.readonly       https://www.googleapis.com/auth/contacts.readonly",callback:t=>{if(console.log(t),t.error)return;let n=t.result;n&&(n.id=n.names[0].metadata.source.id,n.name=n.names[0].displayName,console.log(`Good To See You : ${n.name}`),e&&e(n))}}).requestCode()}destroy(){}}n.default=o,o._instance=null,cc._RF.pop()},{}],ios:[function(e,t,n){"use strict";cc._RF.push(t,"746b4Vb2Q1FH5qwHaD2UnVt","ios");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ios=void 0;const i=e("../common/manager/Manager"),a=o(e("../msgbox/PanelHelp"));n.ios=new class{loginToFacebook(e){}shareToFacebook(e,t,n){}copyToClip(e,t){G.Logger.log("ios copyToClip:",e),jsb.reflection.callStaticMethod("AppController","copyToClip:",e.toString());let n=i.Manager.makeLanguage("Tips.CopySuccess");return t&&(n=t),a.default.showTip(n)}getDeviceUUID(){return jsb.reflection.callStaticMethod("BGKeychainTool","getDeviceIDInKeychain","")}openURL(e){cc.sys.openURL(e)}openEmail(e){}saveTextureToLocal(e){}shareImageToLocal(e){}getAllContact(){}getClipBoardStr(){}handleClipBoardStr(){}getRoomIdOnShare(){return null}sendBuyInfoToAF(e){}isInAppSuccess(e){}},cc._RF.pop()},{"../common/manager/Manager":"Manager","../msgbox/PanelHelp":"PanelHelp"}],openAppHelpder:[function(e,t,n){"use strict";var o;cc._RF.push(t,"8a4c8RZTeRI7o/2tfcSwWgb","openAppHelpder"),Object.defineProperty(n,"__esModule",{value:!0}),n.OpenAppHelpder=void 0,function(e){e.telegram="org.telegram.messenger",e.whatsApp="com.whatsapp",e.ins="com.instagram.android",e.facebook="com.facebook.katana",e.test="com.tencent.mm"}(o||(o={}));n.OpenAppHelpder=new class{constructor(){this.APP_NAMES=o}openApp(e){cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("openAppHelpder","openApp",""):cc.sys.os===cc.sys.OS_ANDROID&&(console.log("openApp:js:"+e),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","openApp","(Ljava/lang/String;)V",e))}},cc._RF.pop()},{}],protoc:[function(e,t){"use strict";cc._RF.push(t,"489e8whLTZAzL2PBH5SgugR","protoc");var n,o,i,a=protobuf,r=a.Reader,s=a.Writer,c=a.util,l=a.roots.default||(a.roots.default={});l.MST=((i={}).ErrorCodeGame=(n={},(o=Object.create(n))[n[0]="ERR_SUCCESS"]=0,o[n[300002]="ERR_LoginError"]=300002,o[n[300003]="ERR_FunctionRepeatedCall"]=300003,o[n[300004]="ERR_LoginLockError"]=300004,o[n[300005]="ERR_TransferMapError"]=300005,o[n[300006]="ERR_LoginUnitDBError"]=300006,o[n[300007]="ERR_ChangeUnitNotFound"]=300007,o[n[300008]="ERR_PlayerNotAuth"]=300008,o[n[300009]="ERR_RoomLost"]=300009,o[n[300010]="ERR_CannotBet"]=300010,o[n[300011]="ERR_BetError"]=300011,o[n[300012]="ERR_Subscription"]=300012,o[n[300013]="ERR_CrashAutoBetLimit"]=300013,o[n[300014]="ERR_BetCountLimit"]=300014,o[n[300015]="ERR_AddAutoBetLimit"]=300015,o[n[300016]="ERR_CrashAutoBetStopLose"]=300016,o[n[300017]="ERR_CrashAutoBetStopProfit"]=300017,o[n[300018]="ERR_CrashAutoBetFinish"]=300018,o[n[300019]="ERR_CrashAutoBetNotExist"]=300019,o[n[300020]="ERR_SubScriptionRepeated"]=300020,o[n[300021]="ERR_GetHashRecordParam"]=300021,o[n[300022]="ERR_GetHashRecordNotExit"]=300022,o[n[300023]="ERR_InvalidToken"]=300023,o[n[300024]="ERR_LogoutFailed"]=300024,o[n[300025]="ERR_ChipsInsufficient"]=300025,o[n[300026]="ERR_DepositFailed"]=300026,o[n[300027]="ERR_WithdrawFailed"]=300027,o[n[300028]="ERR_GetBankListFailed"]=300028,o[n[300029]="ERR_SignInFailed"]=300029,o[n[300030]="ERR_InvalidPhoneNoOrEmail"]=300030,o[n[300031]="ERR_InvalidParam"]=300031,o[n[300032]="ERR_InvalidCheckCode"]=300032,o[n[300033]="ERR_PhoneNoExist"]=300033,o[n[300034]="ERR_EmailExist"]=300034,o[n[300035]="ERR_ImeiExist"]=300035,o[n[300036]="ERR_RegisterFailed"]=300036,o[n[300037]="ERR_ResetPasswordFailed"]=300037,o[n[300038]="ERR_PlayTinyGameFailed"]=300038,o[n[300039]="ERR_ClaimMissionFailed"]=300039,o[n[300040]="ERR_ServerIsClosing"]=300040,o),i.HashInfoCell=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ServerSeed="",e.prototype.ServerHashSeed="",e.prototype.PublicSeed=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.GameNo=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.RoundHash="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.ServerSeed&&Object.hasOwnProperty.call(e,"ServerSeed")&&t.uint32(10).string(e.ServerSeed),null!=e.ServerHashSeed&&Object.hasOwnProperty.call(e,"ServerHashSeed")&&t.uint32(18).string(e.ServerHashSeed),null!=e.PublicSeed&&Object.hasOwnProperty.call(e,"PublicSeed")&&t.uint32(24).int64(e.PublicSeed),null!=e.GameNo&&Object.hasOwnProperty.call(e,"GameNo")&&t.uint32(32).int64(e.GameNo),null!=e.RoundHash&&Object.hasOwnProperty.call(e,"RoundHash")&&t.uint32(42).string(e.RoundHash),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.HashInfoCell;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.ServerSeed=e.string();break;case 2:o.ServerHashSeed=e.string();break;case 3:o.PublicSeed=e.int64();break;case 4:o.GameNo=e.int64();break;case 5:o.RoundHash=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.RankInfoCell=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.AccountId=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Nick="",e.prototype.Score=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.headUrl="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.AccountId&&Object.hasOwnProperty.call(e,"AccountId")&&t.uint32(8).int64(e.AccountId),null!=e.Nick&&Object.hasOwnProperty.call(e,"Nick")&&t.uint32(18).string(e.Nick),null!=e.Score&&Object.hasOwnProperty.call(e,"Score")&&t.uint32(24).int64(e.Score),null!=e.headUrl&&Object.hasOwnProperty.call(e,"headUrl")&&t.uint32(34).string(e.headUrl),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.RankInfoCell;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.AccountId=e.int64();break;case 2:o.Nick=e.string();break;case 3:o.Score=e.int64();break;case 4:o.headUrl=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.CrashBetInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.player=null,e.prototype.BetGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Multiple=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.player&&Object.hasOwnProperty.call(e,"player")&&l.MST.UnitInfo.encode(e.player,t.uint32(10).fork()).ldelim(),null!=e.BetGold&&Object.hasOwnProperty.call(e,"BetGold")&&t.uint32(16).int64(e.BetGold),null!=e.Multiple&&Object.hasOwnProperty.call(e,"Multiple")&&t.uint32(24).int64(e.Multiple),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.CrashBetInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.player=l.MST.UnitInfo.decode(e,e.uint32());break;case 2:o.BetGold=e.int64();break;case 3:o.Multiple=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.CrashStatus=function(){var e={},t=Object.create(e);return t[e[0]="StartBet"]=0,t[e[1]="StopBet"]=1,t[e[2]="GameBegin"]=2,t[e[3]="GameOver"]=3,t}(),i.CrashMode=function(){var e={},t=Object.create(e);return t[e[0]="Manual"]=0,t[e[1]="Auto"]=1,t}(),i.CrashAutoBetInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.BetGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.BetMultiple=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.AutoRound=0,e.prototype.StopProfit=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.StopLoss=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.BetGold&&Object.hasOwnProperty.call(e,"BetGold")&&t.uint32(8).int64(e.BetGold),null!=e.BetMultiple&&Object.hasOwnProperty.call(e,"BetMultiple")&&t.uint32(16).int64(e.BetMultiple),null!=e.AutoRound&&Object.hasOwnProperty.call(e,"AutoRound")&&t.uint32(24).int32(e.AutoRound),null!=e.StopProfit&&Object.hasOwnProperty.call(e,"StopProfit")&&t.uint32(32).int64(e.StopProfit),null!=e.StopLoss&&Object.hasOwnProperty.call(e,"StopLoss")&&t.uint32(40).int64(e.StopLoss),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.CrashAutoBetInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.BetGold=e.int64();break;case 2:o.BetMultiple=e.int64();break;case 3:o.AutoRound=e.int32();break;case 4:o.StopProfit=e.int64();break;case 5:o.StopLoss=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.CrashSeedInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ServerSeed="",e.prototype.ServerSeedHash="",e.prototype.PublicSeed="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.ServerSeed&&Object.hasOwnProperty.call(e,"ServerSeed")&&t.uint32(10).string(e.ServerSeed),null!=e.ServerSeedHash&&Object.hasOwnProperty.call(e,"ServerSeedHash")&&t.uint32(18).string(e.ServerSeedHash),null!=e.PublicSeed&&Object.hasOwnProperty.call(e,"PublicSeed")&&t.uint32(82).string(e.PublicSeed),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.CrashSeedInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.ServerSeed=e.string();break;case 2:o.ServerSeedHash=e.string();break;case 10:o.PublicSeed=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.CrashRecordInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ID=0,e.prototype.GameNo=0,e.prototype.Timestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Multiple=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.RoundHashCell=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.ID&&Object.hasOwnProperty.call(e,"ID")&&t.uint32(8).int32(e.ID),null!=e.GameNo&&Object.hasOwnProperty.call(e,"GameNo")&&t.uint32(16).int32(e.GameNo),null!=e.Timestamp&&Object.hasOwnProperty.call(e,"Timestamp")&&t.uint32(24).int64(e.Timestamp),null!=e.Multiple&&Object.hasOwnProperty.call(e,"Multiple")&&t.uint32(32).int64(e.Multiple),null!=e.RoundHashCell&&Object.hasOwnProperty.call(e,"RoundHashCell")&&l.MST.CrashRoudHashCell.encode(e.RoundHashCell,t.uint32(42).fork()).ldelim(),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.CrashRecordInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.ID=e.int32();break;case 2:o.GameNo=e.int32();break;case 3:o.Timestamp=e.int64();break;case 4:o.Multiple=e.int64();break;case 5:o.RoundHashCell=l.MST.CrashRoudHashCell.decode(e,e.uint32());break;default:e.skipType(7&i)}}return o},e}(),i.MyRecordInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.gameNo=0,e.prototype.betTimestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.betMulti=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.betGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.incomeGold=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.gameNo&&Object.hasOwnProperty.call(e,"gameNo")&&t.uint32(16).int32(e.gameNo),null!=e.betTimestamp&&Object.hasOwnProperty.call(e,"betTimestamp")&&t.uint32(24).int64(e.betTimestamp),null!=e.betMulti&&Object.hasOwnProperty.call(e,"betMulti")&&t.uint32(32).int64(e.betMulti),null!=e.betGold&&Object.hasOwnProperty.call(e,"betGold")&&t.uint32(40).int64(e.betGold),null!=e.incomeGold&&Object.hasOwnProperty.call(e,"incomeGold")&&t.uint32(48).int64(e.incomeGold),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.MyRecordInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int32();break;case 2:o.gameNo=e.int32();break;case 3:o.betTimestamp=e.int64();break;case 4:o.betMulti=e.int64();break;case 5:o.betGold=e.int64();break;case 6:o.incomeGold=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_GetCrashInfo_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_GetCrashInfo_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_GetCrashInfo_Res=function(){function e(e){if(this.Bets=[],this.MultipleRecord=[],this.MyBet=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Bets=c.emptyArray,e.prototype.Status=0,e.prototype.StartTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.MultipleRecord=c.emptyArray,e.prototype.TotalGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.MyBet=c.emptyArray,e.prototype.TotalPlayer=0,e.prototype.AtuoBetInfo=null,e.prototype.SeedInfo=null,e.prototype.GameNo=0,e.prototype.Multi=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Bets&&e.Bets.length)for(var n=0;n<e.Bets.length;++n)l.MST.CrashBetInfo.encode(e.Bets[n],t.uint32(10).fork()).ldelim();if(null!=e.Status&&Object.hasOwnProperty.call(e,"Status")&&t.uint32(16).int32(e.Status),null!=e.StartTimeStamp&&Object.hasOwnProperty.call(e,"StartTimeStamp")&&t.uint32(24).int64(e.StartTimeStamp),null!=e.MultipleRecord&&e.MultipleRecord.length){for(t.uint32(34).fork(),n=0;n<e.MultipleRecord.length;++n)t.int64(e.MultipleRecord[n]);t.ldelim()}if(null!=e.TotalGold&&Object.hasOwnProperty.call(e,"TotalGold")&&t.uint32(40).int64(e.TotalGold),null!=e.MyBet&&e.MyBet.length)for(n=0;n<e.MyBet.length;++n)l.MST.CrashBetInfo.encode(e.MyBet[n],t.uint32(50).fork()).ldelim();return null!=e.TotalPlayer&&Object.hasOwnProperty.call(e,"TotalPlayer")&&t.uint32(56).int32(e.TotalPlayer),null!=e.AtuoBetInfo&&Object.hasOwnProperty.call(e,"AtuoBetInfo")&&l.MST.CrashAutoBetInfo.encode(e.AtuoBetInfo,t.uint32(66).fork()).ldelim(),null!=e.SeedInfo&&Object.hasOwnProperty.call(e,"SeedInfo")&&l.MST.CrashSeedInfo.encode(e.SeedInfo,t.uint32(74).fork()).ldelim(),null!=e.GameNo&&Object.hasOwnProperty.call(e,"GameNo")&&t.uint32(80).int32(e.GameNo),null!=e.Multi&&Object.hasOwnProperty.call(e,"Multi")&&t.uint32(88).int64(e.Multi),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_GetCrashInfo_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Bets&&o.Bets.length||(o.Bets=[]),o.Bets.push(l.MST.CrashBetInfo.decode(e,e.uint32()));break;case 2:o.Status=e.int32();break;case 3:o.StartTimeStamp=e.int64();break;case 4:if(o.MultipleRecord&&o.MultipleRecord.length||(o.MultipleRecord=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)o.MultipleRecord.push(e.int64());else o.MultipleRecord.push(e.int64());break;case 5:o.TotalGold=e.int64();break;case 6:o.MyBet&&o.MyBet.length||(o.MyBet=[]),o.MyBet.push(l.MST.CrashBetInfo.decode(e,e.uint32()));break;case 7:o.TotalPlayer=e.int32();break;case 8:o.AtuoBetInfo=l.MST.CrashAutoBetInfo.decode(e,e.uint32());break;case 9:o.SeedInfo=l.MST.CrashSeedInfo.decode(e,e.uint32());break;case 10:o.GameNo=e.int32();break;case 11:o.Multi=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashStart_mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.StartTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Multi=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.StartTimeStamp&&Object.hasOwnProperty.call(e,"StartTimeStamp")&&t.uint32(8).int64(e.StartTimeStamp),null!=e.Multi&&Object.hasOwnProperty.call(e,"Multi")&&t.uint32(16).int64(e.Multi),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashStart_mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.StartTimeStamp=e.int64();break;case 2:o.Multi=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_MyCrashBet_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.BetMode=0,e.prototype.BetGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.BetMultiple=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.AutoRound=0,e.prototype.StopProfit=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.StopLoss=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.BetMode&&Object.hasOwnProperty.call(e,"BetMode")&&t.uint32(8).int32(e.BetMode),null!=e.BetGold&&Object.hasOwnProperty.call(e,"BetGold")&&t.uint32(16).int64(e.BetGold),null!=e.BetMultiple&&Object.hasOwnProperty.call(e,"BetMultiple")&&t.uint32(24).int64(e.BetMultiple),null!=e.AutoRound&&Object.hasOwnProperty.call(e,"AutoRound")&&t.uint32(32).int32(e.AutoRound),null!=e.StopProfit&&Object.hasOwnProperty.call(e,"StopProfit")&&t.uint32(40).int64(e.StopProfit),null!=e.StopLoss&&Object.hasOwnProperty.call(e,"StopLoss")&&t.uint32(48).int64(e.StopLoss),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_MyCrashBet_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.BetMode=e.int32();break;case 2:o.BetGold=e.int64();break;case 3:o.BetMultiple=e.int64();break;case 4:o.AutoRound=e.int32();break;case 5:o.StopProfit=e.int64();break;case 6:o.StopLoss=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_MyCrashBet_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Gold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Multiple=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.BetMode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Gold&&Object.hasOwnProperty.call(e,"Gold")&&t.uint32(8).int64(e.Gold),null!=e.Multiple&&Object.hasOwnProperty.call(e,"Multiple")&&t.uint32(16).int64(e.Multiple),null!=e.BetMode&&Object.hasOwnProperty.call(e,"BetMode")&&t.uint32(24).int32(e.BetMode),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_MyCrashBet_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Gold=e.int64();break;case 2:o.Multiple=e.int64();break;case 3:o.BetMode=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashBet_Mes=function(){function e(e){if(this.Bets=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Bets=c.emptyArray,e.prototype.TotalGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.TotalPlayer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Bets&&e.Bets.length)for(var n=0;n<e.Bets.length;++n)l.MST.CrashBetInfo.encode(e.Bets[n],t.uint32(10).fork()).ldelim();return null!=e.TotalGold&&Object.hasOwnProperty.call(e,"TotalGold")&&t.uint32(16).int64(e.TotalGold),null!=e.TotalPlayer&&Object.hasOwnProperty.call(e,"TotalPlayer")&&t.uint32(24).int32(e.TotalPlayer),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashBet_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Bets&&o.Bets.length||(o.Bets=[]),o.Bets.push(l.MST.CrashBetInfo.decode(e,e.uint32()));break;case 2:o.TotalGold=e.int64();break;case 3:o.TotalPlayer=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.CrashEscape=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.UnitId=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Nick="",e.prototype.Multiples=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.UnitId&&Object.hasOwnProperty.call(e,"UnitId")&&t.uint32(8).int64(e.UnitId),null!=e.Nick&&Object.hasOwnProperty.call(e,"Nick")&&t.uint32(18).string(e.Nick),null!=e.Multiples&&Object.hasOwnProperty.call(e,"Multiples")&&t.uint32(24).int64(e.Multiples),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.CrashEscape;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.UnitId=e.int64();break;case 2:o.Nick=e.string();break;case 3:o.Multiples=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashStop_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Multiples=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.ExplosionTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.HashResult="",e.prototype.Acak=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Multiples&&Object.hasOwnProperty.call(e,"Multiples")&&t.uint32(8).int64(e.Multiples),null!=e.ExplosionTimeStamp&&Object.hasOwnProperty.call(e,"ExplosionTimeStamp")&&t.uint32(16).int64(e.ExplosionTimeStamp),null!=e.HashResult&&Object.hasOwnProperty.call(e,"HashResult")&&t.uint32(26).string(e.HashResult),null!=e.Acak&&Object.hasOwnProperty.call(e,"Acak")&&t.uint32(33).double(e.Acak),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashStop_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Multiples=e.int64();break;case 2:o.ExplosionTimeStamp=e.int64();break;case 3:o.HashResult=e.string();break;case 4:o.Acak=e.double();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashStartBet_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.StopBetTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.GameNo=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.StopBetTimeStamp&&Object.hasOwnProperty.call(e,"StopBetTimeStamp")&&t.uint32(8).int64(e.StopBetTimeStamp),null!=e.GameNo&&Object.hasOwnProperty.call(e,"GameNo")&&t.uint32(80).int32(e.GameNo),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashStartBet_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.StopBetTimeStamp=e.int64();break;case 10:o.GameNo=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashEscape_Mes=function(){function e(e){if(this.Players=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Players=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Players&&e.Players.length)for(var n=0;n<e.Players.length;++n)l.MST.CrashEscape.encode(e.Players[n],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashEscape_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Players&&o.Players.length||(o.Players=[]),o.Players.push(l.MST.CrashEscape.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashStopBet_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashStopBet_Mes;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return o},e}(),i.C2M_CrashCancelAutoBet_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_CrashCancelAutoBet_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashCancelAutoBet_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashCancelAutoBet_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashCancelAutoBet_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Error=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(8).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashCancelAutoBet_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Error=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashHash_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.SeedInfo=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.SeedInfo&&Object.hasOwnProperty.call(e,"SeedInfo")&&l.MST.CrashSeedInfo.encode(e.SeedInfo,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashHash_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.SeedInfo=l.MST.CrashSeedInfo.decode(e,e.uint32());break;default:e.skipType(7&i)}}return o},e}(),i.CrashRoudHashCell=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RoundHash="",e.prototype.Acak=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RoundHash&&Object.hasOwnProperty.call(e,"RoundHash")&&t.uint32(10).string(e.RoundHash),null!=e.Acak&&Object.hasOwnProperty.call(e,"Acak")&&t.uint32(17).double(e.Acak),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.CrashRoudHashCell;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.RoundHash=e.string();break;case 2:o.Acak=e.double();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_CrashHashRecord_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Date="",e.prototype.ID=0,e.prototype.PageNumber=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Date&&Object.hasOwnProperty.call(e,"Date")&&t.uint32(10).string(e.Date),null!=e.ID&&Object.hasOwnProperty.call(e,"ID")&&t.uint32(16).int32(e.ID),null!=e.PageNumber&&Object.hasOwnProperty.call(e,"PageNumber")&&t.uint32(24).int32(e.PageNumber),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_CrashHashRecord_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.Date=e.string();break;case 2:o.ID=e.int32();break;case 3:o.PageNumber=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CrashHashRecord_Res=function(){function e(e){if(this.RecordInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Date="",e.prototype.ID=0,e.prototype.SeedInfo=null,e.prototype.RecordInfo=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Date&&Object.hasOwnProperty.call(e,"Date")&&t.uint32(10).string(e.Date),null!=e.ID&&Object.hasOwnProperty.call(e,"ID")&&t.uint32(16).int32(e.ID),null!=e.SeedInfo&&Object.hasOwnProperty.call(e,"SeedInfo")&&l.MST.CrashSeedInfo.encode(e.SeedInfo,t.uint32(26).fork()).ldelim(),null!=e.RecordInfo&&e.RecordInfo.length)for(var n=0;n<e.RecordInfo.length;++n)l.MST.CrashRecordInfo.encode(e.RecordInfo[n],t.uint32(34).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CrashHashRecord_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Date=e.string();break;case 2:o.ID=e.int32();break;case 3:o.SeedInfo=l.MST.CrashSeedInfo.decode(e,e.uint32());break;case 4:o.RecordInfo&&o.RecordInfo.length||(o.RecordInfo=[]),o.RecordInfo.push(l.MST.CrashRecordInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2S_CrashMyRecord=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.id=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(16).int32(e.id),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(24).int32(e.count),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_CrashMyRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.id=e.int32();break;case 3:o.count=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_CrashMyRecord=function(){function e(e){if(this.myRecordInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.id=0,e.prototype.myRecordInfo=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(24).int32(e.id),null!=e.myRecordInfo&&e.myRecordInfo.length)for(var n=0;n<e.myRecordInfo.length;++n)l.MST.MyRecordInfo.encode(e.myRecordInfo[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_CrashMyRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.id=e.int32();break;case 4:o.myRecordInfo&&o.myRecordInfo.length||(o.myRecordInfo=[]),o.myRecordInfo.push(l.MST.MyRecordInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2G_EnterMap_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2G_EnterMap_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.G2C_EnterMap_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.MyId=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.MyId&&Object.hasOwnProperty.call(e,"MyId")&&t.uint32(32).int64(e.MyId),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.G2C_EnterMap_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 4:o.MyId=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.UnitInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.UnitId=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Nick="",e.prototype.Gold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.HeaderUrl="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.UnitId&&Object.hasOwnProperty.call(e,"UnitId")&&t.uint32(8).int64(e.UnitId),null!=e.Nick&&Object.hasOwnProperty.call(e,"Nick")&&t.uint32(18).string(e.Nick),null!=e.Gold&&Object.hasOwnProperty.call(e,"Gold")&&t.uint32(24).int64(e.Gold),null!=e.HeaderUrl&&Object.hasOwnProperty.call(e,"HeaderUrl")&&t.uint32(34).string(e.HeaderUrl),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.UnitInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.UnitId=e.int64();break;case 2:o.Nick=e.string();break;case 3:o.Gold=e.int64();break;case 4:o.HeaderUrl=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.RoomInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.Name&&Object.hasOwnProperty.call(e,"Name")&&t.uint32(18).string(e.Name),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.RoomInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int64();break;case 2:o.Name=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2G_Ping_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2G_Ping_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.G2C_Ping_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Time=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Time&&Object.hasOwnProperty.call(e,"Time")&&t.uint32(8).int64(e.Time),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.G2C_Ping_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Time=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2G_LoginGate_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.MachineCode="",e.prototype.OS=0,e.prototype.Description="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.MachineCode&&Object.hasOwnProperty.call(e,"MachineCode")&&t.uint32(10).string(e.MachineCode),null!=e.OS&&Object.hasOwnProperty.call(e,"OS")&&t.uint32(16).int32(e.OS),null!=e.Description&&Object.hasOwnProperty.call(e,"Description")&&t.uint32(26).string(e.Description),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2G_LoginGate_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.MachineCode=e.string();break;case 2:o.OS=e.int32();break;case 3:o.Description=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.G2C_LoginGate_Res=function(){function e(e){if(this.Rooms=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Token="",e.prototype.Rooms=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Token&&Object.hasOwnProperty.call(e,"Token")&&t.uint32(10).string(e.Token),null!=e.Rooms&&e.Rooms.length)for(var n=0;n<e.Rooms.length;++n)l.MST.RoomInfo.encode(e.Rooms[n],t.uint32(34).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.G2C_LoginGate_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Token=e.string();break;case 4:o.Rooms&&o.Rooms.length||(o.Rooms=[]),o.Rooms.push(l.MST.RoomInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.G2C_SystemError_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Error=0,e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.G2C_SystemError_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_BindMailBox_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.MailAddress="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.MailAddress&&Object.hasOwnProperty.call(e,"MailAddress")&&t.uint32(18).string(e.MailAddress),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_BindMailBox_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 2:o.MailAddress=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_BindMailBox_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_BindMailBox_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_BindPhone_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Phone="",e.prototype.Code="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Phone&&Object.hasOwnProperty.call(e,"Phone")&&t.uint32(18).string(e.Phone),null!=e.Code&&Object.hasOwnProperty.call(e,"Code")&&t.uint32(26).string(e.Code),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_BindPhone_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 2:o.Phone=e.string();break;case 3:o.Code=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_BindPhone_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_BindPhone_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.UnitRankInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.AccountId=0,e.prototype.NickName="",e.prototype.gold=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.AccountId&&Object.hasOwnProperty.call(e,"AccountId")&&t.uint32(8).int32(e.AccountId),null!=e.NickName&&Object.hasOwnProperty.call(e,"NickName")&&t.uint32(18).string(e.NickName),null!=e.gold&&Object.hasOwnProperty.call(e,"gold")&&t.uint32(24).int64(e.gold),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.UnitRankInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.AccountId=e.int32();break;case 2:o.NickName=e.string();break;case 3:o.gold=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GoldRankDay_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GoldRankDay_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GoldRankDay_Res=function(){function e(e){if(this.Units=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Units=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Units&&e.Units.length)for(var n=0;n<e.Units.length;++n)l.MST.UnitRankInfo.encode(e.Units[n],t.uint32(10).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GoldRankDay_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Units&&o.Units.length||(o.Units=[]),o.Units.push(l.MST.UnitRankInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.BetInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.AccountId=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Nick="",e.prototype.Score=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.headUrl="",e.prototype.gameName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.AccountId&&Object.hasOwnProperty.call(e,"AccountId")&&t.uint32(8).int64(e.AccountId),null!=e.Nick&&Object.hasOwnProperty.call(e,"Nick")&&t.uint32(18).string(e.Nick),null!=e.Score&&Object.hasOwnProperty.call(e,"Score")&&t.uint32(24).int64(e.Score),null!=e.headUrl&&Object.hasOwnProperty.call(e,"headUrl")&&t.uint32(34).string(e.headUrl),null!=e.gameName&&Object.hasOwnProperty.call(e,"gameName")&&t.uint32(42).string(e.gameName),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.BetInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.AccountId=e.int64();break;case 2:o.Nick=e.string();break;case 3:o.Score=e.int64();break;case 4:o.headUrl=e.string();break;case 5:o.gameName=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_BetRank_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_BetRank_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_BetRank_Res=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.infos=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.infos&&e.infos.length)for(var n=0;n<e.infos.length;++n)l.MST.BetInfo.encode(e.infos[n],t.uint32(10).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_BetRank_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.infos&&o.infos.length||(o.infos=[]),o.infos.push(l.MST.BetInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2L_WinDayRank_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_WinDayRank_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_WinDayRank_Res=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.infos=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.infos&&e.infos.length)for(var n=0;n<e.infos.length;++n)l.MST.RankInfoCell.encode(e.infos[n],t.uint32(10).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_WinDayRank_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.infos&&o.infos.length||(o.infos=[]),o.infos.push(l.MST.RankInfoCell.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2L_WinWeekRank_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_WinWeekRank_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_WinWeekRank_Res=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.infos=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.infos&&e.infos.length)for(var n=0;n<e.infos.length;++n)l.MST.RankInfoCell.encode(e.infos[n],t.uint32(10).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_WinWeekRank_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.infos&&o.infos.length||(o.infos=[]),o.infos.push(l.MST.RankInfoCell.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2L_WinMonthRank_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_WinMonthRank_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_WinMonthRank_Res=function(){function e(e){if(this.infos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.infos=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.infos&&e.infos.length)for(var n=0;n<e.infos.length;++n)l.MST.RankInfoCell.encode(e.infos[n],t.uint32(10).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_WinMonthRank_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.infos&&o.infos.length||(o.infos=[]),o.infos.push(l.MST.RankInfoCell.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GetGameList_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GetGameList_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GetGameList_Res=function(){function e(e){if(this.games=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.games=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.games&&e.games.length)for(var n=0;n<e.games.length;++n)t.uint32(10).string(e.games[n]);return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GetGameList_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.games&&o.games.length||(o.games=[]),o.games.push(e.string());break;default:e.skipType(7&i)}}return o},e}(),i.L2C_ChipsChange_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sourceType=0,e.prototype.gold=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.sourceType&&Object.hasOwnProperty.call(e,"sourceType")&&t.uint32(8).int32(e.sourceType),null!=e.gold&&Object.hasOwnProperty.call(e,"gold")&&t.uint32(16).int64(e.gold),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_ChipsChange_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.sourceType=e.int32();break;case 2:o.gold=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_Deposit_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.platType=0,e.prototype.depositType=0,e.prototype.idOrMoney=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.platType&&Object.hasOwnProperty.call(e,"platType")&&t.uint32(8).int32(e.platType),null!=e.depositType&&Object.hasOwnProperty.call(e,"depositType")&&t.uint32(16).int32(e.depositType),null!=e.idOrMoney&&Object.hasOwnProperty.call(e,"idOrMoney")&&t.uint32(24).int64(e.idOrMoney),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_Deposit_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.platType=e.int32();break;case 2:o.depositType=e.int32();break;case 3:o.idOrMoney=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_Deposit_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.paymentUrl="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.paymentUrl&&Object.hasOwnProperty.call(e,"paymentUrl")&&t.uint32(10).string(e.paymentUrl),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_Deposit_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.paymentUrl=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_Withdraw_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.chips=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.bankNo="",e.prototype.bankCode="",e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.chips&&Object.hasOwnProperty.call(e,"chips")&&t.uint32(8).int64(e.chips),null!=e.bankNo&&Object.hasOwnProperty.call(e,"bankNo")&&t.uint32(18).string(e.bankNo),null!=e.bankCode&&Object.hasOwnProperty.call(e,"bankCode")&&t.uint32(26).string(e.bankCode),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(34).string(e.name),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_Withdraw_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.chips=e.int64();break;case 2:o.bankNo=e.string();break;case 3:o.bankCode=e.string();break;case 4:o.name=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_Withdraw_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_Withdraw_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GetWithdrawReocrds_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.index=0,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(8).int32(e.index),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(16).int32(e.limit),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GetWithdrawReocrds_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.index=e.int32();break;case 2:o.limit=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.WithDrawRecord=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.backNo="",e.prototype.amount=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.orderMessage="",e.prototype.chips=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.orderId="",e.prototype.fee=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.auditStatus=0,e.prototype.withdrawTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.bankCode="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.backNo&&Object.hasOwnProperty.call(e,"backNo")&&t.uint32(10).string(e.backNo),null!=e.amount&&Object.hasOwnProperty.call(e,"amount")&&t.uint32(16).int64(e.amount),null!=e.orderMessage&&Object.hasOwnProperty.call(e,"orderMessage")&&t.uint32(26).string(e.orderMessage),null!=e.chips&&Object.hasOwnProperty.call(e,"chips")&&t.uint32(32).int64(e.chips),null!=e.orderId&&Object.hasOwnProperty.call(e,"orderId")&&t.uint32(42).string(e.orderId),null!=e.fee&&Object.hasOwnProperty.call(e,"fee")&&t.uint32(48).int64(e.fee),null!=e.auditStatus&&Object.hasOwnProperty.call(e,"auditStatus")&&t.uint32(56).int32(e.auditStatus),null!=e.withdrawTime&&Object.hasOwnProperty.call(e,"withdrawTime")&&t.uint32(64).int64(e.withdrawTime),null!=e.bankCode&&Object.hasOwnProperty.call(e,"bankCode")&&t.uint32(74).string(e.bankCode),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.WithDrawRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.backNo=e.string();break;case 2:o.amount=e.int64();break;case 3:o.orderMessage=e.string();break;case 4:o.chips=e.int64();break;case 5:o.orderId=e.string();break;case 6:o.fee=e.int64();break;case 7:o.auditStatus=e.int32();break;case 8:o.withdrawTime=e.int64();break;case 9:o.bankCode=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GetWithdrawRecords_Res=function(){function e(e){if(this.records=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.records=c.emptyArray,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.records&&e.records.length)for(var n=0;n<e.records.length;++n)l.MST.WithDrawRecord.encode(e.records[n],t.uint32(10).fork()).ldelim();return null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(16).int32(e.index),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GetWithdrawRecords_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.records&&o.records.length||(o.records=[]),o.records.push(l.MST.WithDrawRecord.decode(e,e.uint32()));break;case 2:o.index=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GetDepositLimit_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GetDepositLimit_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GetDepositLimit_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.minAmount=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.maxAmount=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.minAmount&&Object.hasOwnProperty.call(e,"minAmount")&&t.uint32(8).int64(e.minAmount),null!=e.maxAmount&&Object.hasOwnProperty.call(e,"maxAmount")&&t.uint32(16).int64(e.maxAmount),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GetDepositLimit_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.minAmount=e.int64();break;case 2:o.maxAmount=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GetWithdrawLimit_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GetWithdrawLimit_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GetWithdrawLimit_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.minAmount=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.maxAmount=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.minAmount&&Object.hasOwnProperty.call(e,"minAmount")&&t.uint32(8).int64(e.minAmount),null!=e.maxAmount&&Object.hasOwnProperty.call(e,"maxAmount")&&t.uint32(16).int64(e.maxAmount),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GetWithdrawLimit_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.minAmount=e.int64();break;case 2:o.maxAmount=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GetStoreList_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GetStoreList_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.StoreInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.chips=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.price=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.giftChips=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.chips&&Object.hasOwnProperty.call(e,"chips")&&t.uint32(16).int64(e.chips),null!=e.price&&Object.hasOwnProperty.call(e,"price")&&t.uint32(24).int64(e.price),null!=e.giftChips&&Object.hasOwnProperty.call(e,"giftChips")&&t.uint32(32).int64(e.giftChips),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.StoreInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int32();break;case 2:o.chips=e.int64();break;case 3:o.price=e.int64();break;case 4:o.giftChips=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GetStoreList_Res=function(){function e(e){if(this.info=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.info=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.info&&e.info.length)for(var n=0;n<e.info.length;++n)l.MST.StoreInfo.encode(e.info[n],t.uint32(10).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GetStoreList_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.info&&o.info.length||(o.info=[]),o.info.push(l.MST.StoreInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GetBankList_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.index=0,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(8).int32(e.index),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(16).int32(e.limit),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GetBankList_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.index=e.int32();break;case 2:o.limit=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.BankInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.bankName="",e.prototype.bankCode="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.bankName&&Object.hasOwnProperty.call(e,"bankName")&&t.uint32(10).string(e.bankName),null!=e.bankCode&&Object.hasOwnProperty.call(e,"bankCode")&&t.uint32(18).string(e.bankCode),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.BankInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.bankName=e.string();break;case 2:o.bankCode=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GetBankList_Res=function(){function e(e){if(this.info=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.info=c.emptyArray,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.info&&e.info.length)for(var n=0;n<e.info.length;++n)l.MST.BankInfo.encode(e.info[n],t.uint32(10).fork()).ldelim();return null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(16).int32(e.index),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GetBankList_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.info&&o.info.length||(o.info=[]),o.info.push(l.MST.BankInfo.decode(e,e.uint32()));break;case 2:o.index=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_BindBankCard_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.bankCode="",e.prototype.name="",e.prototype.bankNo="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.bankCode&&Object.hasOwnProperty.call(e,"bankCode")&&t.uint32(10).string(e.bankCode),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.bankNo&&Object.hasOwnProperty.call(e,"bankNo")&&t.uint32(26).string(e.bankNo),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_BindBankCard_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.bankCode=e.string();break;case 2:o.name=e.string();break;case 3:o.bankNo=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_BindBankCard_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_BindBankCard_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2L_GetBankCardInfo_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2L_GetBankCardInfo_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.L2C_GetBankCardInfo_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.bankCode="",e.prototype.name="",e.prototype.bankNo="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.bankCode&&Object.hasOwnProperty.call(e,"bankCode")&&t.uint32(10).string(e.bankCode),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.bankNo&&Object.hasOwnProperty.call(e,"bankNo")&&t.uint32(26).string(e.bankNo),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.L2C_GetBankCardInfo_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.bankCode=e.string();break;case 2:o.name=e.string();break;case 3:o.bankNo=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_MinigameInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_MinigameInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_MinigameInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.isFinishGame=!1,e.prototype.todayBonus=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.isReceiveBonus=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.isFinishGame&&Object.hasOwnProperty.call(e,"isFinishGame")&&t.uint32(24).bool(e.isFinishGame),null!=e.todayBonus&&Object.hasOwnProperty.call(e,"todayBonus")&&t.uint32(32).int64(e.todayBonus),null!=e.isReceiveBonus&&Object.hasOwnProperty.call(e,"isReceiveBonus")&&t.uint32(40).bool(e.isReceiveBonus),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_MinigameInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.isFinishGame=e.bool();break;case 4:o.todayBonus=e.int64();break;case 5:o.isReceiveBonus=e.bool();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_MinigameLottery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.boxIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.boxIndex&&Object.hasOwnProperty.call(e,"boxIndex")&&t.uint32(16).int32(e.boxIndex),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_MinigameLottery;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.boxIndex=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_MinigameLottery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.boxIndex=0,e.prototype.award=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.boxIndex&&Object.hasOwnProperty.call(e,"boxIndex")&&t.uint32(24).int32(e.boxIndex),null!=e.award&&Object.hasOwnProperty.call(e,"award")&&t.uint32(32).int64(e.award),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_MinigameLottery;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.boxIndex=e.int32();break;case 4:o.award=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_GetSignedInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_GetSignedInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_GetSignedInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.signedType=0,e.prototype.signedDays=0,e.prototype.isSigned=!1,e.prototype.reward=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.deadLine=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.signedType&&Object.hasOwnProperty.call(e,"signedType")&&t.uint32(24).int32(e.signedType),null!=e.signedDays&&Object.hasOwnProperty.call(e,"signedDays")&&t.uint32(32).int32(e.signedDays),null!=e.isSigned&&Object.hasOwnProperty.call(e,"isSigned")&&t.uint32(40).bool(e.isSigned),null!=e.reward&&Object.hasOwnProperty.call(e,"reward")&&t.uint32(48).int64(e.reward),null!=e.deadLine&&Object.hasOwnProperty.call(e,"deadLine")&&t.uint32(56).int64(e.deadLine),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_GetSignedInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.signedType=e.int32();break;case 4:o.signedDays=e.int32();break;case 5:o.isSigned=e.bool();break;case 6:o.reward=e.int64();break;case 7:o.deadLine=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_Signed=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_Signed;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_Signed=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.reward=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.signedCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.reward&&Object.hasOwnProperty.call(e,"reward")&&t.uint32(24).int64(e.reward),null!=e.signedCount&&Object.hasOwnProperty.call(e,"signedCount")&&t.uint32(32).int32(e.signedCount),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_Signed;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.reward=e.int64();break;case 4:o.signedCount=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_Register=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.username="",e.prototype.password="",e.prototype.imei="",e.prototype.checkCode="",e.prototype.extentCode="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(18).string(e.username),null!=e.password&&Object.hasOwnProperty.call(e,"password")&&t.uint32(26).string(e.password),null!=e.imei&&Object.hasOwnProperty.call(e,"imei")&&t.uint32(34).string(e.imei),null!=e.checkCode&&Object.hasOwnProperty.call(e,"checkCode")&&t.uint32(42).string(e.checkCode),null!=e.extentCode&&Object.hasOwnProperty.call(e,"extentCode")&&t.uint32(50).string(e.extentCode),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_Register;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.username=e.string();break;case 3:o.password=e.string();break;case 4:o.imei=e.string();break;case 5:o.checkCode=e.string();break;case 6:o.extentCode=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_Register=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_Register;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_ResetPassword=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.username="",e.prototype.password="",e.prototype.checkCode="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(18).string(e.username),null!=e.password&&Object.hasOwnProperty.call(e,"password")&&t.uint32(26).string(e.password),null!=e.checkCode&&Object.hasOwnProperty.call(e,"checkCode")&&t.uint32(34).string(e.checkCode),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_ResetPassword;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.username=e.string();break;case 3:o.password=e.string();break;case 4:o.checkCode=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_ResetPassword=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_ResetPassword;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_GetCheckCode=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.username="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(18).string(e.username),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_GetCheckCode;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.username=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_GetCheckCode=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_GetCheckCode;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_BindPhone=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.phoneNo="",e.prototype.checkCode="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.phoneNo&&Object.hasOwnProperty.call(e,"phoneNo")&&t.uint32(18).string(e.phoneNo),null!=e.checkCode&&Object.hasOwnProperty.call(e,"checkCode")&&t.uint32(34).string(e.checkCode),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_BindPhone;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.phoneNo=e.string();break;case 4:o.checkCode=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_BindPhone=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.phoneNo="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.phoneNo&&Object.hasOwnProperty.call(e,"phoneNo")&&t.uint32(26).string(e.phoneNo),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_BindPhone;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.phoneNo=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_BindEmail=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.email="",e.prototype.checkCode="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.email&&Object.hasOwnProperty.call(e,"email")&&t.uint32(18).string(e.email),null!=e.checkCode&&Object.hasOwnProperty.call(e,"checkCode")&&t.uint32(26).string(e.checkCode),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_BindEmail;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.email=e.string();break;case 3:o.checkCode=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_BindEmail=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.email="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.email&&Object.hasOwnProperty.call(e,"email")&&t.uint32(26).string(e.email),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_BindEmail;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.email=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_GetRegisterRewardConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_GetRegisterRewardConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_GetRegisterRewordConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.firstDepositReward=0,e.prototype.chips=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.registerChips=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.isGetFirstDepositReward=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.firstDepositReward&&Object.hasOwnProperty.call(e,"firstDepositReward")&&t.uint32(24).int32(e.firstDepositReward),null!=e.chips&&Object.hasOwnProperty.call(e,"chips")&&t.uint32(32).int64(e.chips),null!=e.registerChips&&Object.hasOwnProperty.call(e,"registerChips")&&t.uint32(40).int64(e.registerChips),null!=e.isGetFirstDepositReward&&Object.hasOwnProperty.call(e,"isGetFirstDepositReward")&&t.uint32(48).bool(e.isGetFirstDepositReward),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_GetRegisterRewordConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.firstDepositReward=e.int32();break;case 4:o.chips=e.int64();break;case 5:o.registerChips=e.int64();break;case 6:o.isGetFirstDepositReward=e.bool();break;default:e.skipType(7&i)}}return o},e}(),i.PromotionDataInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.totalIncomeGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.totalWithdrawGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.ayerIncomeGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.ayerInvitationCount=0,e.prototype.totalInvitationCount=0,e.prototype.lastUpdateTime=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.totalIncomeGold&&Object.hasOwnProperty.call(e,"totalIncomeGold")&&t.uint32(8).int64(e.totalIncomeGold),null!=e.totalWithdrawGold&&Object.hasOwnProperty.call(e,"totalWithdrawGold")&&t.uint32(16).int64(e.totalWithdrawGold),null!=e.ayerIncomeGold&&Object.hasOwnProperty.call(e,"ayerIncomeGold")&&t.uint32(24).int64(e.ayerIncomeGold),null!=e.ayerInvitationCount&&Object.hasOwnProperty.call(e,"ayerInvitationCount")&&t.uint32(32).int32(e.ayerInvitationCount),null!=e.totalInvitationCount&&Object.hasOwnProperty.call(e,"totalInvitationCount")&&t.uint32(40).int32(e.totalInvitationCount),null!=e.lastUpdateTime&&Object.hasOwnProperty.call(e,"lastUpdateTime")&&t.uint32(48).int64(e.lastUpdateTime),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.PromotionDataInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.totalIncomeGold=e.int64();break;case 2:o.totalWithdrawGold=e.int64();break;case 3:o.ayerIncomeGold=e.int64();break;case 4:o.ayerInvitationCount=e.int32();break;case 5:o.totalInvitationCount=e.int32();break;case 6:o.lastUpdateTime=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.PromotionRankInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.userInfo=null,e.prototype.incomeGold=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.userInfo&&Object.hasOwnProperty.call(e,"userInfo")&&l.MST.UnitInfo.encode(e.userInfo,t.uint32(10).fork()).ldelim(),null!=e.incomeGold&&Object.hasOwnProperty.call(e,"incomeGold")&&t.uint32(16).int64(e.incomeGold),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.PromotionRankInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.userInfo=l.MST.UnitInfo.decode(e,e.uint32());break;case 2:o.incomeGold=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.PromotionLevel=function(){var e={},t=Object.create(e);return t[e[0]="Level0"]=0,t[e[1]="Level1"]=1,t[e[2]="Level2"]=2,t}(),i.C2S_PromotionInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_PromotionInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_PromotionInfo=function(){function e(e){if(this.incomeList=[],this.registerCountList=[],this.validCountList=[],this.promotionRankInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.level=0,e.prototype.levelPercent=0,e.prototype.promotionDataInfo=null,e.prototype.incomeList=c.emptyArray,e.prototype.registerCountList=c.emptyArray,e.prototype.validCountList=c.emptyArray,e.prototype.promotionRankInfo=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.level&&Object.hasOwnProperty.call(e,"level")&&t.uint32(24).int32(e.level),null!=e.levelPercent&&Object.hasOwnProperty.call(e,"levelPercent")&&t.uint32(32).int32(e.levelPercent),null!=e.promotionDataInfo&&Object.hasOwnProperty.call(e,"promotionDataInfo")&&l.MST.PromotionDataInfo.encode(e.promotionDataInfo,t.uint32(42).fork()).ldelim(),null!=e.incomeList&&e.incomeList.length){t.uint32(50).fork();for(var n=0;n<e.incomeList.length;++n)t.int64(e.incomeList[n]);t.ldelim()}if(null!=e.registerCountList&&e.registerCountList.length){for(t.uint32(58).fork(),n=0;n<e.registerCountList.length;++n)t.int32(e.registerCountList[n]);t.ldelim()}if(null!=e.validCountList&&e.validCountList.length){for(t.uint32(66).fork(),n=0;n<e.validCountList.length;++n)t.int32(e.validCountList[n]);t.ldelim()}if(null!=e.promotionRankInfo&&e.promotionRankInfo.length)for(n=0;n<e.promotionRankInfo.length;++n)l.MST.PromotionRankInfo.encode(e.promotionRankInfo[n],t.uint32(74).fork()).ldelim();return t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_PromotionInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.level=e.int32();break;case 4:o.levelPercent=e.int32();break;case 5:o.promotionDataInfo=l.MST.PromotionDataInfo.decode(e,e.uint32());break;case 6:if(o.incomeList&&o.incomeList.length||(o.incomeList=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)o.incomeList.push(e.int64());else o.incomeList.push(e.int64());break;case 7:if(o.registerCountList&&o.registerCountList.length||(o.registerCountList=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)o.registerCountList.push(e.int32());else o.registerCountList.push(e.int32());break;case 8:if(o.validCountList&&o.validCountList.length||(o.validCountList=[]),2==(7&i))for(a=e.uint32()+e.pos;e.pos<a;)o.validCountList.push(e.int32());else o.validCountList.push(e.int32());break;case 9:o.promotionRankInfo&&o.promotionRankInfo.length||(o.promotionRankInfo=[]),o.promotionRankInfo.push(l.MST.PromotionRankInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2S_ModifyAvartar=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.avartar="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.avartar&&Object.hasOwnProperty.call(e,"avartar")&&t.uint32(18).string(e.avartar),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_ModifyAvartar;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.avartar=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_ModifyAvartar=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.avartar="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.avartar&&Object.hasOwnProperty.call(e,"avartar")&&t.uint32(26).string(e.avartar),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_ModifyAvartar;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.avartar=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_GetDepositList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.index=0,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(16).int32(e.index),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(24).int32(e.limit),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_GetDepositList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.index=e.int32();break;case 3:o.limit=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.DepositRecord=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.orderId="",e.prototype.amount=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.chips=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.fee=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.status="",e.prototype.depositTime=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.orderId&&Object.hasOwnProperty.call(e,"orderId")&&t.uint32(10).string(e.orderId),null!=e.amount&&Object.hasOwnProperty.call(e,"amount")&&t.uint32(16).int64(e.amount),null!=e.chips&&Object.hasOwnProperty.call(e,"chips")&&t.uint32(24).int64(e.chips),null!=e.fee&&Object.hasOwnProperty.call(e,"fee")&&t.uint32(32).int64(e.fee),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(42).string(e.status),null!=e.depositTime&&Object.hasOwnProperty.call(e,"depositTime")&&t.uint32(48).int64(e.depositTime),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.DepositRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.orderId=e.string();break;case 2:o.amount=e.int64();break;case 3:o.chips=e.int64();break;case 4:o.fee=e.int64();break;case 5:o.status=e.string();break;case 6:o.depositTime=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_GetDepositList=function(){function e(e){if(this.records=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.records=c.emptyArray,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.records&&e.records.length)for(var n=0;n<e.records.length;++n)l.MST.DepositRecord.encode(e.records[n],t.uint32(26).fork()).ldelim();return null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(32).int32(e.index),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_GetDepositList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.records&&o.records.length||(o.records=[]),o.records.push(l.MST.DepositRecord.decode(e,e.uint32()));break;case 4:o.index=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_GetMissionList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_GetMissionList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.MissionType=function(){var e={},t=Object.create(e);return t[e[0]="MissionSevenSignInType"]=0,t[e[1]="MissionThirtySignInType"]=1,t[e[2]="MissionDepositType"]=2,t[e[3]="MissionPromotionType"]=3,t[e[4]="MissionPromotionDepositType"]=4,t}(),i.MissionInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.missionId=0,e.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.targetProgress=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.curProgress=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.reward=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.iconUrl="",e.prototype.beginTime=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.missionId&&Object.hasOwnProperty.call(e,"missionId")&&t.uint32(8).int32(e.missionId),null!=e.endTime&&Object.hasOwnProperty.call(e,"endTime")&&t.uint32(16).int64(e.endTime),null!=e.targetProgress&&Object.hasOwnProperty.call(e,"targetProgress")&&t.uint32(24).int64(e.targetProgress),null!=e.curProgress&&Object.hasOwnProperty.call(e,"curProgress")&&t.uint32(32).int64(e.curProgress),null!=e.reward&&Object.hasOwnProperty.call(e,"reward")&&t.uint32(40).int64(e.reward),null!=e.iconUrl&&Object.hasOwnProperty.call(e,"iconUrl")&&t.uint32(50).string(e.iconUrl),null!=e.beginTime&&Object.hasOwnProperty.call(e,"beginTime")&&t.uint32(56).int64(e.beginTime),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.MissionInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.missionId=e.int32();break;case 2:o.endTime=e.int64();break;case 3:o.targetProgress=e.int64();break;case 4:o.curProgress=e.int64();break;case 5:o.reward=e.int64();break;case 6:o.iconUrl=e.string();break;case 7:o.beginTime=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_GetMissionList=function(){function e(e){if(this.info=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.info=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.info&&e.info.length)for(var n=0;n<e.info.length;++n)l.MST.MissionInfo.encode(e.info[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_GetMissionList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.info&&o.info.length||(o.info=[]),o.info.push(l.MST.MissionInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2S_MissionClaim=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.missionId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.missionId&&Object.hasOwnProperty.call(e,"missionId")&&t.uint32(16).int32(e.missionId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_MissionClaim;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.missionId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_MissionClaim=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.reward=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.missionId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.reward&&Object.hasOwnProperty.call(e,"reward")&&t.uint32(24).int64(e.reward),null!=e.missionId&&Object.hasOwnProperty.call(e,"missionId")&&t.uint32(32).int32(e.missionId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_MissionClaim;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.reward=e.int64();break;case 4:o.missionId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_MessageNotify=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.message="",e.prototype.type=0,e.prototype.isLoop=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).string(e.message),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.isLoop&&Object.hasOwnProperty.call(e,"isLoop")&&t.uint32(24).bool(e.isLoop),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_MessageNotify;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.message=e.string();break;case 2:o.type=e.int32();break;case 3:o.isLoop=e.bool();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CreateUnits_Mes=function(){function e(e){if(this.Units=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Units=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Units&&e.Units.length)for(var n=0;n<e.Units.length;++n)l.MST.UnitInfo.encode(e.Units[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CreateUnits_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 2:o.Units&&o.Units.length||(o.Units=[]),o.Units.push(l.MST.UnitInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.M2C_CreateMyUnit_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Unit=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Unit&&Object.hasOwnProperty.call(e,"Unit")&&l.MST.UnitInfo.encode(e.Unit,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_CreateMyUnit_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Unit=l.MST.UnitInfo.decode(e,e.uint32());break;default:e.skipType(7&i)}}return o},e}(),i.M2C_StartSceneChange_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RoomScene=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RoomScene&&Object.hasOwnProperty.call(e,"RoomScene")&&l.MST.RoomInfo.encode(e.RoomScene,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_StartSceneChange_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.RoomScene=l.MST.RoomInfo.decode(e,e.uint32());break;default:e.skipType(7&i)}}return o},e}(),i.M2C_RemoveUnits_Mes=function(){function e(e){if(this.Units=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Units=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Units&&e.Units.length){t.uint32(18).fork();for(var n=0;n<e.Units.length;++n)t.int64(e.Units[n]);t.ldelim()}return t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_RemoveUnits_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 2:if(o.Units&&o.Units.length||(o.Units=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)o.Units.push(e.int64());else o.Units.push(e.int64());break;default:e.skipType(7&i)}}return o},e}(),i.C2M_TransferMap_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.RoomName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RoomName&&Object.hasOwnProperty.call(e,"RoomName")&&t.uint32(10).string(e.RoomName),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_TransferMap_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.RoomName=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_TransferMap_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.RoomName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RoomName&&Object.hasOwnProperty.call(e,"RoomName")&&t.uint32(10).string(e.RoomName),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_TransferMap_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.RoomName=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.LoginType=function(){var e={},t=Object.create(e);return t[e[0]="Anonymous"]=0,t[e[1]="Telephone"]=1,t[e[2]="Goggle"]=2,t[e[3]="FaceBook"]=3,t[e[4]="Twittwer"]=4,t[e[5]="Telegram"]=5,t[e[6]="Fast"]=6,t[e[7]="Token"]=7,t}(),i.C2M_Auth_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.AuthKey="",e.prototype.Password="",e.prototype.AuthType=0,e.prototype.ThirdId="",e.prototype.imei="",e.prototype.invcode="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.AuthKey&&Object.hasOwnProperty.call(e,"AuthKey")&&t.uint32(18).string(e.AuthKey),null!=e.Password&&Object.hasOwnProperty.call(e,"Password")&&t.uint32(26).string(e.Password),null!=e.AuthType&&Object.hasOwnProperty.call(e,"AuthType")&&t.uint32(32).int32(e.AuthType),null!=e.ThirdId&&Object.hasOwnProperty.call(e,"ThirdId")&&t.uint32(42).string(e.ThirdId),null!=e.imei&&Object.hasOwnProperty.call(e,"imei")&&t.uint32(50).string(e.imei),null!=e.invcode&&Object.hasOwnProperty.call(e,"invcode")&&t.uint32(58).string(e.invcode),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_Auth_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 2:o.AuthKey=e.string();break;case 3:o.Password=e.string();break;case 4:o.AuthType=e.int32();break;case 5:o.ThirdId=e.string();break;case 6:o.imei=e.string();break;case 7:o.invcode=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_Auth_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.FastAuthToken="",e.prototype.AccountId=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.PlayerInfo=null,e.prototype.RoomName="",e.prototype.BindEmail="",e.prototype.phonoNo="",e.prototype.extendCode="",e.prototype.loginType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.FastAuthToken&&Object.hasOwnProperty.call(e,"FastAuthToken")&&t.uint32(10).string(e.FastAuthToken),null!=e.AccountId&&Object.hasOwnProperty.call(e,"AccountId")&&t.uint32(16).int64(e.AccountId),null!=e.PlayerInfo&&Object.hasOwnProperty.call(e,"PlayerInfo")&&l.MST.UnitInfo.encode(e.PlayerInfo,t.uint32(26).fork()).ldelim(),null!=e.RoomName&&Object.hasOwnProperty.call(e,"RoomName")&&t.uint32(34).string(e.RoomName),null!=e.BindEmail&&Object.hasOwnProperty.call(e,"BindEmail")&&t.uint32(42).string(e.BindEmail),null!=e.phonoNo&&Object.hasOwnProperty.call(e,"phonoNo")&&t.uint32(50).string(e.phonoNo),null!=e.extendCode&&Object.hasOwnProperty.call(e,"extendCode")&&t.uint32(58).string(e.extendCode),null!=e.loginType&&Object.hasOwnProperty.call(e,"loginType")&&t.uint32(64).int32(e.loginType),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_Auth_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.FastAuthToken=e.string();break;case 2:o.AccountId=e.int64();break;case 3:o.PlayerInfo=l.MST.UnitInfo.decode(e,e.uint32());break;case 4:o.RoomName=e.string();break;case 5:o.BindEmail=e.string();break;case 6:o.phonoNo=e.string();break;case 7:o.extendCode=e.string();break;case 8:o.loginType=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_AuthOut_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_AuthOut_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_AuthOut_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_AuthOut_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_KickOut_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_KickOut_Mes;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return o},e}(),i.M2C_GoldChange_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Gold=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Gold&&Object.hasOwnProperty.call(e,"Gold")&&t.uint32(8).int64(e.Gold),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_GoldChange_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Gold=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.RouletteBetInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.player=null,e.prototype.BetGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Color=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.player&&Object.hasOwnProperty.call(e,"player")&&l.MST.UnitInfo.encode(e.player,t.uint32(10).fork()).ldelim(),null!=e.BetGold&&Object.hasOwnProperty.call(e,"BetGold")&&t.uint32(16).int64(e.BetGold),null!=e.Color&&Object.hasOwnProperty.call(e,"Color")&&t.uint32(24).int32(e.Color),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.RouletteBetInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.player=l.MST.UnitInfo.decode(e,e.uint32());break;case 2:o.BetGold=e.int64();break;case 3:o.Color=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.RouletteColor=function(){var e={},t=Object.create(e);return t[e[0]="RoulettePurple"]=0,t[e[1]="RouletteRed"]=1,t[e[2]="RouletteGreen"]=2,t}(),i.RouletteStatus=function(){var e={},t=Object.create(e);return t[e[0]="BetPhase"]=0,t[e[1]="AnimationPhase"]=1,t[e[2]="PaybackPhase"]=2,t}(),i.TotalBetRecord=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.color=0,e.prototype.chips=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(8).int32(e.color),null!=e.chips&&Object.hasOwnProperty.call(e,"chips")&&t.uint32(16).int64(e.chips),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.TotalBetRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.color=e.int32();break;case 2:o.chips=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_GetRouletteInfo_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_GetRouletteInfo_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_GetRouletteInfo_Res=function(){function e(e){if(this.Bets=[],this.MultipleRecord=[],this.betRecord=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Bets=c.emptyArray,e.prototype.Status=0,e.prototype.EndTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.MultipleRecord=c.emptyArray,e.prototype.betRecord=c.emptyArray,e.prototype.roundHash="",e.prototype.hashSalt="",e.prototype.randomNo=0,e.prototype.color=0,e.prototype.round=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Bets&&e.Bets.length)for(var n=0;n<e.Bets.length;++n)l.MST.RouletteBetInfo.encode(e.Bets[n],t.uint32(10).fork()).ldelim();if(null!=e.Status&&Object.hasOwnProperty.call(e,"Status")&&t.uint32(16).int32(e.Status),null!=e.EndTimeStamp&&Object.hasOwnProperty.call(e,"EndTimeStamp")&&t.uint32(24).int64(e.EndTimeStamp),null!=e.MultipleRecord&&e.MultipleRecord.length){for(t.uint32(34).fork(),n=0;n<e.MultipleRecord.length;++n)t.int64(e.MultipleRecord[n]);t.ldelim()}if(null!=e.betRecord&&e.betRecord.length)for(n=0;n<e.betRecord.length;++n)l.MST.TotalBetRecord.encode(e.betRecord[n],t.uint32(42).fork()).ldelim();return null!=e.roundHash&&Object.hasOwnProperty.call(e,"roundHash")&&t.uint32(50).string(e.roundHash),null!=e.hashSalt&&Object.hasOwnProperty.call(e,"hashSalt")&&t.uint32(58).string(e.hashSalt),null!=e.randomNo&&Object.hasOwnProperty.call(e,"randomNo")&&t.uint32(64).int32(e.randomNo),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(72).int32(e.color),null!=e.round&&Object.hasOwnProperty.call(e,"round")&&t.uint32(80).int32(e.round),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_GetRouletteInfo_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Bets&&o.Bets.length||(o.Bets=[]),o.Bets.push(l.MST.RouletteBetInfo.decode(e,e.uint32()));break;case 2:o.Status=e.int32();break;case 3:o.EndTimeStamp=e.int64();break;case 4:if(o.MultipleRecord&&o.MultipleRecord.length||(o.MultipleRecord=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)o.MultipleRecord.push(e.int64());else o.MultipleRecord.push(e.int64());break;case 5:o.betRecord&&o.betRecord.length||(o.betRecord=[]),o.betRecord.push(l.MST.TotalBetRecord.decode(e,e.uint32()));break;case 6:o.roundHash=e.string();break;case 7:o.hashSalt=e.string();break;case 8:o.randomNo=e.int32();break;case 9:o.color=e.int32();break;case 10:o.round=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_RouletteStartBet_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.StopBetTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.randHash="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.StopBetTimeStamp&&Object.hasOwnProperty.call(e,"StopBetTimeStamp")&&t.uint32(8).int64(e.StopBetTimeStamp),null!=e.randHash&&Object.hasOwnProperty.call(e,"randHash")&&t.uint32(18).string(e.randHash),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_RouletteStartBet_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.StopBetTimeStamp=e.int64();break;case 2:o.randHash=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_RouletteStart_mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.StartTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.StopTimeStamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.endIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.StartTimeStamp&&Object.hasOwnProperty.call(e,"StartTimeStamp")&&t.uint32(8).int64(e.StartTimeStamp),null!=e.StopTimeStamp&&Object.hasOwnProperty.call(e,"StopTimeStamp")&&t.uint32(16).int64(e.StopTimeStamp),null!=e.endIndex&&Object.hasOwnProperty.call(e,"endIndex")&&t.uint32(24).int32(e.endIndex),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_RouletteStart_mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.StartTimeStamp=e.int64();break;case 2:o.StopTimeStamp=e.int64();break;case 3:o.endIndex=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_MyRouletteBet_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.BetGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.BetIndex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.BetIndex&&Object.hasOwnProperty.call(e,"BetIndex")&&t.uint32(8).int32(e.BetIndex),null!=e.BetGold&&Object.hasOwnProperty.call(e,"BetGold")&&t.uint32(16).int64(e.BetGold),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_MyRouletteBet_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 2:o.BetGold=e.int64();break;case 1:o.BetIndex=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_MyRouletteBet_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Gold=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Gold&&Object.hasOwnProperty.call(e,"Gold")&&t.uint32(8).int64(e.Gold),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_MyRouletteBet_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Gold=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2R_GetBetRankInfo_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2R_GetBetRankInfo_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.R2C_GetBetRandInfo_Res=function(){function e(e){if(this.records=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.records=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.records&&e.records.length)for(var n=0;n<e.records.length;++n)l.MST.RouletteBetInfo.encode(e.records[n],t.uint32(10).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.R2C_GetBetRandInfo_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.records&&o.records.length||(o.records=[]),o.records.push(l.MST.RouletteBetInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.C2R_GetGameRecords_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.limit=0,e.prototype.round=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(8).int32(e.limit),null!=e.round&&Object.hasOwnProperty.call(e,"round")&&t.uint32(16).int32(e.round),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2R_GetGameRecords_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.limit=e.int32();break;case 2:o.round=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.RouletteGameRecord=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.round=0,e.prototype.color=0,e.prototype.calcTime=0,e.prototype.roundHash="",e.prototype.hashSalt="",e.prototype.randomNo=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.round&&Object.hasOwnProperty.call(e,"round")&&t.uint32(8).int32(e.round),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(16).int32(e.color),null!=e.calcTime&&Object.hasOwnProperty.call(e,"calcTime")&&t.uint32(24).int32(e.calcTime),null!=e.roundHash&&Object.hasOwnProperty.call(e,"roundHash")&&t.uint32(34).string(e.roundHash),null!=e.hashSalt&&Object.hasOwnProperty.call(e,"hashSalt")&&t.uint32(42).string(e.hashSalt),null!=e.randomNo&&Object.hasOwnProperty.call(e,"randomNo")&&t.uint32(48).int32(e.randomNo),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.RouletteGameRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.round=e.int32();break;case 2:o.color=e.int32();break;case 3:o.calcTime=e.int32();break;case 4:o.roundHash=e.string();break;case 5:o.hashSalt=e.string();break;case 6:o.randomNo=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.R2C_GetGameRecords_Res=function(){function e(e){if(this.records=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.records=c.emptyArray,e.prototype.round=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.records&&e.records.length)for(var n=0;n<e.records.length;++n)l.MST.RouletteGameRecord.encode(e.records[n],t.uint32(10).fork()).ldelim();return null!=e.round&&Object.hasOwnProperty.call(e,"round")&&t.uint32(16).int32(e.round),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.R2C_GetGameRecords_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.records&&o.records.length||(o.records=[]),o.records.push(l.MST.RouletteGameRecord.decode(e,e.uint32()));break;case 2:o.round=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2R_GetBetInfo_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.index=0,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(8).int32(e.index),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(16).int32(e.limit),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2R_GetBetInfo_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.index=e.int32();break;case 2:o.limit=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.RouletteBetDetail=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.round=0,e.prototype.betChips=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.color=0,e.prototype.winChips=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.round&&Object.hasOwnProperty.call(e,"round")&&t.uint32(8).int32(e.round),null!=e.betChips&&Object.hasOwnProperty.call(e,"betChips")&&t.uint32(16).int64(e.betChips),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(24).int32(e.color),null!=e.winChips&&Object.hasOwnProperty.call(e,"winChips")&&t.uint32(32).int64(e.winChips),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.RouletteBetDetail;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.round=e.int32();break;case 2:o.betChips=e.int64();break;case 3:o.color=e.int32();break;case 4:o.winChips=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.R2C_GetBetInfo_Res=function(){function e(e){if(this.records=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.records=c.emptyArray,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.records&&e.records.length)for(var n=0;n<e.records.length;++n)l.MST.RouletteBetDetail.encode(e.records[n],t.uint32(10).fork()).ldelim();return null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(16).int32(e.index),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.R2C_GetBetInfo_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 1:o.records&&o.records.length||(o.records=[]),o.records.push(l.MST.RouletteBetDetail.decode(e,e.uint32()));break;case 2:o.index=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.R2C_Calc_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chips=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.chips&&Object.hasOwnProperty.call(e,"chips")&&t.uint32(8).int64(e.chips),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.R2C_Calc_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.chips=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.R2C_Bet_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.info=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.info&&Object.hasOwnProperty.call(e,"info")&&l.MST.RouletteBetInfo.encode(e.info,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.R2C_Bet_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.info=l.MST.RouletteBetInfo.decode(e,e.uint32());break;default:e.skipType(7&i)}}return o},e}(),i.R2C_PaybackPhase_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nextRound=0,e.prototype.hashSalt="",e.prototype.randomNum=0,e.prototype.color=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.nextRound&&Object.hasOwnProperty.call(e,"nextRound")&&t.uint32(8).int32(e.nextRound),null!=e.hashSalt&&Object.hasOwnProperty.call(e,"hashSalt")&&t.uint32(18).string(e.hashSalt),null!=e.randomNum&&Object.hasOwnProperty.call(e,"randomNum")&&t.uint32(24).int32(e.randomNum),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(32).int32(e.color),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.R2C_PaybackPhase_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.nextRound=e.int32();break;case 2:o.hashSalt=e.string();break;case 3:o.randomNum=e.int32();break;case 4:o.color=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.WingoMode=function(){var e={},t=Object.create(e);return t[e[0]="CepatPlus"]=0,t[e[1]="Cepat"]=1,t[e[2]="Standar"]=2,t}(),i.WingoColor=function(){var e={},t=Object.create(e);return t[e[0]="Green"]=0,t[e[1]="Purple"]=1,t[e[2]="Red"]=2,t[e[3]="Azure"]=3,t[e[4]="Yellow"]=4,t[e[5]="Blue"]=5,t[e[6]="AR"]=6,t[e[7]="AG"]=7,t[e[8]="BR"]=8,t[e[9]="BG"]=9,t}(),i.WingoBetGoldType=function(){var e={},t=Object.create(e);return t[e[0]="Gold2000"]=0,t[e[1]="Gold20000"]=1,t[e[2]="Half"]=2,t[e[3]="AllIn"]=3,t}(),i.WingoBetType=function(){var e={},t=Object.create(e);return t[e[0]="Num"]=0,t[e[1]="Color"]=1,t}(),i.WingoHistoryInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Issue=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Num=0,e.prototype.Harga=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Issue&&Object.hasOwnProperty.call(e,"Issue")&&t.uint32(8).int64(e.Issue),null!=e.Num&&Object.hasOwnProperty.call(e,"Num")&&t.uint32(16).int32(e.Num),null!=e.Harga&&Object.hasOwnProperty.call(e,"Harga")&&t.uint32(24).int32(e.Harga),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.WingoHistoryInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Issue=e.int64();break;case 2:o.Num=e.int32();break;case 3:o.Harga=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_GetWingoInfo_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_GetWingoInfo_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_GetWingoInfo_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.CepatPlusTimestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.CepatTimestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.StandarTimestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.Cost=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.CepatPlusTimestamp&&Object.hasOwnProperty.call(e,"CepatPlusTimestamp")&&t.uint32(8).int64(e.CepatPlusTimestamp),null!=e.CepatTimestamp&&Object.hasOwnProperty.call(e,"CepatTimestamp")&&t.uint32(16).int64(e.CepatTimestamp),null!=e.StandarTimestamp&&Object.hasOwnProperty.call(e,"StandarTimestamp")&&t.uint32(24).int64(e.StandarTimestamp),null!=e.Cost&&Object.hasOwnProperty.call(e,"Cost")&&t.uint32(32).int32(e.Cost),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_GetWingoInfo_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.CepatPlusTimestamp=e.int64();break;case 2:o.CepatTimestamp=e.int64();break;case 3:o.StandarTimestamp=e.int64();break;case 4:o.Cost=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_GetWingoHistory_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Mode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Mode&&Object.hasOwnProperty.call(e,"Mode")&&t.uint32(8).int32(e.Mode),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_GetWingoHistory_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.Mode=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_GetWingoHistory_Res=function(){function e(e){if(this.HistoryInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.prototype.Mode=0,e.prototype.CurrIssue=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.HistoryInfo=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.Mode&&Object.hasOwnProperty.call(e,"Mode")&&t.uint32(8).int32(e.Mode),null!=e.CurrIssue&&Object.hasOwnProperty.call(e,"CurrIssue")&&t.uint32(16).int64(e.CurrIssue),null!=e.HistoryInfo&&e.HistoryInfo.length)for(var n=0;n<e.HistoryInfo.length;++n)l.MST.WingoHistoryInfo.encode(e.HistoryInfo[n],t.uint32(26).fork()).ldelim();return null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_GetWingoHistory_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;case 1:o.Mode=e.int32();break;case 2:o.CurrIssue=e.int64();break;case 3:o.HistoryInfo&&o.HistoryInfo.length||(o.HistoryInfo=[]),o.HistoryInfo.push(l.MST.WingoHistoryInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.M2C_WingoLottery_Mes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Mode=0,e.prototype.LotteryInfo=null,e.prototype.NextTimestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.NextIssue=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Mode&&Object.hasOwnProperty.call(e,"Mode")&&t.uint32(8).int32(e.Mode),null!=e.LotteryInfo&&Object.hasOwnProperty.call(e,"LotteryInfo")&&l.MST.WingoHistoryInfo.encode(e.LotteryInfo,t.uint32(18).fork()).ldelim(),null!=e.NextTimestamp&&Object.hasOwnProperty.call(e,"NextTimestamp")&&t.uint32(24).int64(e.NextTimestamp),null!=e.NextIssue&&Object.hasOwnProperty.call(e,"NextIssue")&&t.uint32(32).int64(e.NextIssue),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_WingoLottery_Mes;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.Mode=e.int32();break;case 2:o.LotteryInfo=l.MST.WingoHistoryInfo.decode(e,e.uint32());break;case 3:o.NextTimestamp=e.int64();break;case 4:o.NextIssue=e.int64();break;default:e.skipType(7&i)}}return o},e}(),i.C2M_WingoBet_Req=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Mode=0,e.prototype.BetType=0,e.prototype.BetValue=0,e.prototype.Multi=0,e.prototype.GoldType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.Mode&&Object.hasOwnProperty.call(e,"Mode")&&t.uint32(8).int32(e.Mode),null!=e.BetType&&Object.hasOwnProperty.call(e,"BetType")&&t.uint32(16).int32(e.BetType),null!=e.BetValue&&Object.hasOwnProperty.call(e,"BetValue")&&t.uint32(24).int32(e.BetValue),null!=e.Multi&&Object.hasOwnProperty.call(e,"Multi")&&t.uint32(32).int32(e.Multi),null!=e.GoldType&&Object.hasOwnProperty.call(e,"GoldType")&&t.uint32(40).int32(e.GoldType),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2M_WingoBet_Req;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 1:o.Mode=e.int32();break;case 2:o.BetType=e.int32();break;case 3:o.BetValue=e.int32();break;case 4:o.Multi=e.int32();break;case 5:o.GoldType=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.M2C_WingoBet_Res=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.RpcId=0,e.prototype.Error=0,e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.RpcId&&Object.hasOwnProperty.call(e,"RpcId")&&t.uint32(720).int32(e.RpcId),null!=e.Error&&Object.hasOwnProperty.call(e,"Error")&&t.uint32(728).int32(e.Error),null!=e.Message&&Object.hasOwnProperty.call(e,"Message")&&t.uint32(738).string(e.Message),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.M2C_WingoBet_Res;e.pos<n;){var i=e.uint32();switch(i>>>3){case 90:o.RpcId=e.int32();break;case 91:o.Error=e.int32();break;case 92:o.Message=e.string();break;default:e.skipType(7&i)}}return o},e}(),i.WingoMyRecordInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.gameNo=0,e.prototype.betTimestamp=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.incomeGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.betActualGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.costGold=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.betType=0,e.prototype.betValue=0,e.prototype.harga=0,e.prototype.isFinish=!1,e.prototype.num=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int32(e.id),null!=e.gameNo&&Object.hasOwnProperty.call(e,"gameNo")&&t.uint32(16).int32(e.gameNo),null!=e.betTimestamp&&Object.hasOwnProperty.call(e,"betTimestamp")&&t.uint32(24).int64(e.betTimestamp),null!=e.incomeGold&&Object.hasOwnProperty.call(e,"incomeGold")&&t.uint32(32).int64(e.incomeGold),null!=e.betActualGold&&Object.hasOwnProperty.call(e,"betActualGold")&&t.uint32(40).int64(e.betActualGold),null!=e.costGold&&Object.hasOwnProperty.call(e,"costGold")&&t.uint32(48).int64(e.costGold),null!=e.betType&&Object.hasOwnProperty.call(e,"betType")&&t.uint32(56).int32(e.betType),null!=e.betValue&&Object.hasOwnProperty.call(e,"betValue")&&t.uint32(64).int32(e.betValue),null!=e.harga&&Object.hasOwnProperty.call(e,"harga")&&t.uint32(72).int32(e.harga),null!=e.isFinish&&Object.hasOwnProperty.call(e,"isFinish")&&t.uint32(80).bool(e.isFinish),null!=e.num&&Object.hasOwnProperty.call(e,"num")&&t.uint32(88).int32(e.num),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.WingoMyRecordInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int32();break;case 2:o.gameNo=e.int32();break;case 3:o.betTimestamp=e.int64();break;case 4:o.incomeGold=e.int64();break;case 5:o.betActualGold=e.int64();break;case 6:o.costGold=e.int64();break;case 7:o.betType=e.int32();break;case 8:o.betValue=e.int32();break;case 9:o.harga=e.int32();break;case 10:o.isFinish=e.bool();break;case 11:o.num=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.C2S_WingoMyRecord=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.mode=0,e.prototype.id=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(16).int32(e.mode),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(24).int32(e.id),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(32).int32(e.count),t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.C2S_WingoMyRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.mode=e.int32();break;case 3:o.id=e.int32();break;case 4:o.count=e.int32();break;default:e.skipType(7&i)}}return o},e}(),i.S2C_WingoMyRecord=function(){function e(e){if(this.myRecordInfo=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serial=0,e.prototype.code=0,e.prototype.id=0,e.prototype.myRecordInfo=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.serial&&Object.hasOwnProperty.call(e,"serial")&&t.uint32(8).int32(e.serial),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(24).int32(e.id),null!=e.myRecordInfo&&e.myRecordInfo.length)for(var n=0;n<e.myRecordInfo.length;++n)l.MST.WingoMyRecordInfo.encode(e.myRecordInfo[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.MST.S2C_WingoMyRecord;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:o.serial=e.int32();break;case 2:o.code=e.int32();break;case 3:o.id=e.int32();break;case 4:o.myRecordInfo&&o.myRecordInfo.length||(o.myRecordInfo=[]),o.myRecordInfo.push(l.MST.WingoMyRecordInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return o},e}(),i.OuterOpcode_CrashGame=function(){var e={},t=Object.create(e);return t[e[0]="None"]=0,t[e[10402]="C2M_GetCrashInfo_Req"]=10402,t[e[10403]="M2C_GetCrashInfo_Res"]=10403,t[e[10404]="M2C_CrashStart_mes"]=10404,t[e[10405]="C2M_MyCrashBet_Req"]=10405,t[e[10406]="M2C_MyCrashBet_Res"]=10406,t[e[10407]="M2C_CrashBet_Mes"]=10407,t[e[10408]="M2C_CrashStop_Mes"]=10408,t[e[10409]="M2C_CrashStartBet_Mes"]=10409,t[e[10410]="M2C_CrashEscape_Mes"]=10410,t[e[10411]="M2C_CrashStopBet_Mes"]=10411,t[e[10412]="C2M_CrashCancelAutoBet_Req"]=10412,t[e[10413]="M2C_CrashCancelAutoBet_Res"]=10413,t[e[10414]="M2C_CrashCancelAutoBet_Mes"]=10414,t[e[10415]="M2C_CrashHash_Mes"]=10415,t[e[10416]="C2M_CrashHashRecord_Req"]=10416,t[e[10417]="M2C_CrashHashRecord_Res"]=10417,t[e[10418]="C2S_CrashMyRecord"]=10418,t[e[10419]="S2C_CrashMyRecord"]=10419,t}(),i.OuterOpcode_Gate=function(){var e={},t=Object.create(e);return t[e[0]="None"]=0,t[e[10102]="C2G_EnterMap_Req"]=10102,t[e[10103]="G2C_EnterMap_Res"]=10103,t[e[10104]="C2G_Ping_Req"]=10104,t[e[10105]="G2C_Ping_Res"]=10105,t[e[10106]="C2G_LoginGate_Req"]=10106,t[e[10107]="G2C_LoginGate_Res"]=10107,t[e[10110]="G2C_SystemError_Mes"]=10110,t}(),i.OuterOpcode_Lobby=function(){var e={},t=Object.create(e);return t[e[0]="None"]=0,t[e[10302]="C2L_BindMailBox_Req"]=10302,t[e[10303]="L2C_BindMailBox_Res"]=10303,t[e[10304]="C2L_BindPhone_Req"]=10304,t[e[10305]="L2C_BindPhone_Res"]=10305,t[e[10306]="C2L_GoldRankDay_Req"]=10306,t[e[10307]="L2C_GoldRankDay_Res"]=10307,t[e[10308]="C2L_BetRank_Req"]=10308,t[e[10309]="L2C_BetRank_Res"]=10309,t[e[10310]="C2L_WinDayRank_Req"]=10310,t[e[10311]="L2C_WinDayRank_Res"]=10311,t[e[10312]="C2L_WinWeekRank_Req"]=10312,t[e[10313]="L2C_WinWeekRank_Res"]=10313,t[e[10314]="C2L_WinMonthRank_Req"]=10314,t[e[10315]="L2C_WinMonthRank_Res"]=10315,t[e[10316]="C2L_GetGameList_Req"]=10316,t[e[10317]="L2C_GetGameList_Res"]=10317,t[e[10318]="L2C_ChipsChange_Mes"]=10318,t[e[10319]="C2L_Deposit_Req"]=10319,t[e[10320]="L2C_Deposit_Res"]=10320,t[e[10321]="C2L_Withdraw_Req"]=10321,t[e[10322]="L2C_Withdraw_Res"]=10322,t[e[10323]="C2L_GetWithdrawReocrds_Req"]=10323,t[e[10324]="L2C_GetWithdrawRecords_Res"]=10324,t[e[10325]="C2L_GetDepositLimit_Req"]=10325,t[e[10326]="L2C_GetDepositLimit_Res"]=10326,t[e[10327]="C2L_GetWithdrawLimit_Req"]=10327,t[e[10328]="L2C_GetWithdrawLimit_Res"]=10328,t[e[10329]="C2L_GetStoreList_Req"]=10329,t[e[10330]="L2C_GetStoreList_Res"]=10330,t[e[10331]="C2L_GetBankList_Req"]=10331,t[e[10332]="L2C_GetBankList_Res"]=10332,t[e[10333]="C2L_BindBankCard_Req"]=10333,t[e[10334]="L2C_BindBankCard_Res"]=10334,t[e[10335]="C2L_GetBankCardInfo_Req"]=10335,t[e[10336]="L2C_GetBankCardInfo_Res"]=10336,t[e[10337]="C2S_MinigameInfo"]=10337,t[e[10338]="S2C_MinigameInfo"]=10338,t[e[10339]="C2S_MinigameLottery"]=10339,t[e[10340]="S2C_MinigameLottery"]=10340,t[e[10341]="C2S_GetSignedInfo"]=10341,t[e[10342]="S2C_GetSignedInfo"]=10342,t[e[10343]="C2S_Signed"]=10343,t[e[10344]="S2C_Signed"]=10344,t[e[10345]="C2S_Register"]=10345,t[e[10346]="S2C_Register"]=10346,t[e[10347]="C2S_ResetPassword"]=10347,t[e[10348]="S2C_ResetPassword"]=10348,t[e[10349]="C2S_GetCheckCode"]=10349,t[e[10350]="S2C_GetCheckCode"]=10350,t[e[10351]="C2S_BindPhone"]=10351,t[e[10352]="S2C_BindPhone"]=10352,t[e[10353]="C2S_BindEmail"]=10353,t[e[10354]="S2C_BindEmail"]=10354,t[e[10355]="C2S_GetRegisterRewardConfig"]=10355,t[e[10356]="S2C_GetRegisterRewordConfig"]=10356,t[e[10357]="C2S_PromotionInfo"]=10357,t[e[10358]="S2C_PromotionInfo"]=10358,t[e[10359]="C2S_ModifyAvartar"]=10359,t[e[10360]="S2C_ModifyAvartar"]=10360,t[e[10361]="C2S_GetDepositList"]=10361,t[e[10362]="S2C_GetDepositList"]=10362,t[e[10363]="C2S_GetMissionList"]=10363,t[e[10364]="S2C_GetMissionList"]=10364,t[e[10365]="C2S_MissionClaim"]=10365,t[e[10366]="S2C_MissionClaim"]=10366,t[e[10367]="S2C_MessageNotify"]=10367,t}(),i.OuterOpcode_Map=function(){var e={},t=Object.create(e);return t[e[0]="None"]=0,t[e[10202]="M2C_CreateUnits_Mes"]=10202,t[e[10203]="M2C_CreateMyUnit_Mes"]=10203,t[e[10204]="M2C_StartSceneChange_Mes"]=10204,t[e[10205]="M2C_RemoveUnits_Mes"]=10205,t[e[10206]="C2M_TransferMap_Req"]=10206,t[e[10207]="M2C_TransferMap_Res"]=10207,t[e[10208]="C2M_Auth_Req"]=10208,t[e[10209]="M2C_Auth_Res"]=10209,t[e[10210]="C2M_AuthOut_Req"]=10210,t[e[10211]="M2C_AuthOut_Res"]=10211,t[e[10212]="M2C_KickOut_Mes"]=10212,t[e[10213]="M2C_GoldChange_Mes"]=10213,t}(),i.OuterOpcode_Roulette=function(){var e={},t=Object.create(e);return t[e[0]="None"]=0,t[e[10802]="C2M_GetRouletteInfo_Req"]=10802,t[e[10803]="M2C_GetRouletteInfo_Res"]=10803,t[e[10804]="M2C_RouletteStart_mes"]=10804,t[e[10805]="C2M_MyRouletteBet_Req"]=10805,t[e[10806]="M2C_MyRouletteBet_Res"]=10806,t[e[10807]="C2R_GetBetRankInfo_Req"]=10807,t[e[10808]="R2C_GetBetRandInfo_Res"]=10808,t[e[10809]="M2C_RouletteStartBet_Mes"]=10809,t[e[10810]="C2R_GetGameRecords_Req"]=10810,t[e[10811]="R2C_GetGameRecords_Res"]=10811,t[e[10812]="C2R_GetBetInfo_Req"]=10812,t[e[10813]="R2C_GetBetInfo_Res"]=10813,t[e[10814]="R2C_Calc_Mes"]=10814,t[e[10815]="R2C_Bet_Mes"]=10815,t[e[10816]="R2C_PaybackPhase_Mes"]=10816,t}(),i.OuterOpcode_WingoGame=function(){var e={},t=Object.create(e);return t[e[0]="None"]=0,t[e[10702]="C2M_GetWingoInfo_Req"]=10702,t[e[10703]="M2C_GetWingoInfo_Res"]=10703,t[e[10704]="C2M_GetWingoHistory_Req"]=10704,t[e[10705]="M2C_GetWingoHistory_Res"]=10705,t[e[10706]="M2C_WingoLottery_Mes"]=10706,t[e[10707]="C2M_WingoBet_Req"]=10707,t[e[10708]="M2C_WingoBet_Res"]=10708,t[e[10709]="C2S_WingoMyRecord"]=10709,t[e[10710]="S2C_WingoMyRecord"]=10710,t}(),i),t.exports=l,cc._RF.pop()},{}],"telegram-widget":[function(require,module,exports){"use strict";cc._RF.push(module,"8bc50n4dQhK1aMcKLGRjxiq","telegram-widget"),function(window){(function(window){window.__parseFunction=function(__func,__attrs){return __attrs=__attrs||[],__func="(function("+__attrs.join(",")+"){"+__func+"})",window.execScript?window.execScript(__func):eval(__func)}})(window),function(e){function t(e,t,n){for(var o=t.split(/\s+/),i=0;i<o.length;i++)e.addEventListener?e.addEventListener(o[i],n):e.attachEvent("on"+o[i],n)}function n(e,t,n){for(var o=t.split(/\s+/),i=0;i<o.length;i++)e.removeEventListener?e.removeEventListener(o[i],n):e.detachEvent("on"+o[i],n)}function o(t,n){return e.getComputedStyle?e.getComputedStyle(t,"").getPropertyValue(n)||null:t.currentStyle&&t.currentStyle[n]||null}function i(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e instanceof HTMLElement?e:null}var a=function(e,t){var n,o=document.createElement("A");return o.href=document.currentScript&&document.currentScript.src||e,"https://telegram.org"==(n=o.origin||o.protocol+"//"+o.hostname)?n=e:"https://telegram-js.azureedge.net"!=n&&"https://tg.dev"!=n||(n=t),n},r=function(){var e,t,n=document.createElement("A");if(document.querySelector){if((e=document.querySelector('link[rel="canonical"]'))&&(t=e.getAttribute("href")))return n.href=t,n.href}else for(var o=document.getElementsByTagName("LINK"),i=0;i<o.length;i++)if((e=o[i])&&"canonical"==e.getAttribute("rel")&&(t=e.getAttribute("href")))return n.href=t,n.href;return!1};function s(t,n,o,i){if(!t._ready)return t._readyQueue||(t._readyQueue=[]),void t._readyQueue.push([n,o,i]);try{(o=o||{}).event=n,i&&(o._cb=++e.Telegram.__WidgetLastId,e.Telegram.__WidgetCallbacks[o._cb]={iframe:t,callback:i}),t.contentWindow.postMessage(JSON.stringify(o),"*")}catch(a){}}function c(o){var i,c,d,h,u,p,g,m,f,b,y={},_=[],v=!1;if(!o.tagName||!("SCRIPT"==o.tagName.toUpperCase()||"BLOCKQUOTE"==o.tagName.toUpperCase()&&o.classList.contains("telegram-post")))return null;if(o._iframe)return o._iframe;if(i=o.getAttribute("data-telegram-post")){var w=o.getAttribute("data-comment")||"";d=a("https://t.me","https://post.tg.dev"),c="telegram-post-"+i.replace(/[^a-z0-9_]/gi,"-")+(w?"-comment"+w:""),u=d+"/"+i+"?embed=1",_=["comment","userpic","mode","single?","color","dark","dark_color"],p=o.getAttribute("data-width")||"100%",g="",y.minWidth="320px"}else if(i=o.getAttribute("data-telegram-discussion")){d=a("https://t.me","https://post.tg.dev"),c="telegram-discussion-"+i.replace(/[^a-z0-9_]/gi,"-")+"-"+ ++e.Telegram.__WidgetUuid;var C=o.getAttribute("data-page-url");C||(C=r()),u=d+"/"+i+"?embed=1&discussion=1"+(C?"&page_url="+encodeURIComponent(C):""),_=["comments_limit","color","colorful","dark","dark_color","width","height"],p=o.getAttribute("data-width")||"100%",g=o.getAttribute("data-height")||0,y.minWidth="320px",g>0&&(v=!0)}else if(o.hasAttribute("data-telegram-login")){if(i=o.getAttribute("data-telegram-login"),d=a("https://oauth.telegram.org","https://oauth.tg.dev"),c="telegram-login-"+i.replace(/[^a-z0-9_]/gi,"-"),u=d+"/embed/"+i+"?origin="+encodeURIComponent(location.origin||location.protocol+"//"+location.hostname),_=["size","userpic","init_auth","request_access","radius","min_width","max_width","lang"],p=186,g=28,o.hasAttribute("data-size")){var R=o.getAttribute("data-size");"small"==R?(p=148,g=20):"large"==R&&(p=238,g=40)}if(o.hasAttribute("data-onauth"))m=f=__parseFunction(o.getAttribute("data-onauth"),["user"]);else if(o.hasAttribute("data-auth-url")){var L=document.createElement("A");L.href=o.getAttribute("data-auth-url"),f=function(e){var t=L.href;t+=t.indexOf("?")>=0?"&":"?";var n=[];for(var o in e)n.push(o+"="+encodeURIComponent(e[o]));t+=n.join("&"),location.href=t}}o.hasAttribute("data-onunauth")&&(b=__parseFunction(o.getAttribute("data-onunauth")))}else{if(!(i=o.getAttribute("data-telegram-share-url")))return null;d=a("https://t.me","https://post.tg.dev"),c="telegram-share-"+e.btoa(i),u=d+"/share/embed?origin="+encodeURIComponent(location.origin||location.protocol+"//"+location.hostname),_=["telegram-share-url","comment","size","text"],p=60,g=20,"large"==o.getAttribute("data-size")&&(p=76,g=28)}if(h=document.getElementById(c))return h;for(var E=0;E<_.length;E++){var S=_[E],I="?"==S.substr(-1);I&&(S=S.slice(0,-1));var k="data-"+S.replace(/_/g,"-");o.hasAttribute(k)&&(u+="&"+S+"="+(I?"1":encodeURIComponent(o.getAttribute(k))))}function M(t){var n=document.documentElement,o=t.getBoundingClientRect();return{frameTop:o.top,frameBottom:o.bottom,frameLeft:o.left,frameRight:o.right,frameWidth:o.width,frameHeight:o.height,scrollTop:e.pageYOffset,scrollLeft:e.pageXOffset,clientWidth:n.clientWidth,clientHeight:n.clientHeight}}function T(){l(O,50)&&s(O,"visible",{frame:c})}function N(){s(O,"focus",{has_focus:document.hasFocus()})}var O=document.createElement("iframe");for(var P in O.id=c,O.src=u,O.width=p,O.height=g,O.setAttribute("frameborder","0"),v||(O.setAttribute("scrolling","no"),O.style.overflow="hidden"),O.style.border="none",y)O.style[P]=y[P];return o.parentNode&&(o.parentNode.insertBefore(O,o),"BLOCKQUOTE"==o.tagName.toUpperCase()&&o.parentNode.removeChild(o)),O._ready=!1,O._readyQueue=[],o._iframe=O,t(O,"load",function(){n(O,"load",T),t(e,"scroll",T),t(e,"resize",T),T()}),t(e,"focus blur",N),t(e,"message",function(t){if(t.source===O.contentWindow&&t.origin==d){try{var o=JSON.parse(t.data)}catch(c){o={}}if("resize"==o.event)o.height&&(O.style.height=o.height+"px"),o.width&&(O.style.width=o.width+"px");else if("ready"==o.event){O._ready=!0,N();for(var i=0;i<O._readyQueue.length;i++){var a=O._readyQueue[i];s(O,a[0],a[1],a[2])}O._readyQueue=[]}else if("visible_off"==o.event)n(e,"scroll",T),n(e,"resize",T);else if("get_coords"==o.event)s(O,"callback",{_cb:o._cb,value:M(O)});else if("scroll_to"==o.event)try{e.scrollTo(o.x||0,o.y||0)}catch(c){}else if("auth_user"==o.event)o.init?m&&m(o.auth_data):f&&f(o.auth_data);else if("unauthorized"==o.event)b&&b();else if("callback"==o.event){var r=null;(r=e.Telegram.__WidgetCallbacks[o._cb])?r.iframe===O&&(r.callback(o.value),delete e.Telegram.__WidgetCallbacks[o._cb]):console.warn("Callback #"+o._cb+" not found")}}}),O}function l(t,n){var i=t;if("hidden"==o(i,"visibility"))return!1;for(;i&&i!==document.documentElement;){if("none"==o(i,"display"))return!1;var a=o(i,"opacity");if(null!==a&&a<.1)return!1;i=i.parentNode}if(t.getBoundingClientRect){n=+n||0;var r=t.getBoundingClientRect(),s=document.documentElement;if(r.bottom<n||r.right<n||r.top>(e.innerHeight||s.clientHeight)-n||r.left>(e.innerWidth||s.clientWidth)-n)return!1}return!0}function d(){return document.querySelectorAll?document.querySelectorAll("script[data-telegram-post],blockquote.telegram-post,script[data-telegram-discussion],script[data-telegram-login],script[data-telegram-share-url]"):Array.prototype.slice.apply(document.getElementsByTagName("SCRIPT")).concat(Array.prototype.slice.apply(document.getElementsByTagName("BLOCKQUOTE")))}if(e.Telegram||(e.Telegram={}),e.Telegram.__WidgetUuid||(e.Telegram.__WidgetUuid=0),e.Telegram.__WidgetLastId||(e.Telegram.__WidgetLastId=0),e.Telegram.__WidgetCallbacks||(e.Telegram.__WidgetCallbacks={}),!document.currentScript||!c(document.currentScript))for(var h=d(),u=0;u<h.length;u++)c(h[u]);var p={popups:{},auth:function(o,i){var a=parseInt(o.bot_id);if(!a)throw new Error("Bot id required");var r=Math.max(0,(screen.width-550)/2)+(0|screen.availLeft),s=Math.max(0,(screen.height-470)/2)+(0|screen.availTop),c=function(e){try{var t=JSON.parse(e.data)}catch(n){t={}}p.popups[a]&&e.source===p.popups[a].window&&"auth_result"==t.event&&l(t.result)},l=function(t){p.popups[a]&&(p.popups[a].authFinished||(i&&i(t),p.popups[a].authFinished=!0,n(e,"message",c)))},d="https://oauth.telegram.org/auth?bot_id="+encodeURIComponent(o.bot_id)+"&origin="+encodeURIComponent(location.origin||location.protocol+"//"+location.hostname)+(o.request_access?"&request_access="+encodeURIComponent(o.request_access):"")+(o.lang?"&lang="+encodeURIComponent(o.lang):""),h=e.open(d,"telegram_oauth_bot"+a,"width=550,height=470,left="+r+",top="+s+",status=0,location=0,menubar=0,toolbar=0");p.popups[a]={window:h,authFinished:!1},h&&(t(e,"message",c),h.focus(),function e(t){if(p.popups[t])return!p.popups[t].window||p.popups[t].window.closed?p.getAuthData(o,function(e,t){l(t)}):void setTimeout(e,100,t)}(a))},getAuthData:function(e,t){if(!parseInt(e.bot_id))throw new Error("Bot id required");var n="Microsoft Internet Explorer"==navigator.appName?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;n.open("POST","https://oauth.telegram.org/auth/get"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onreadystatechange=function(){if(4==n.readyState)if(void 0===n.responseBody&&n.responseText){try{var e=JSON.parse(n.responseText)}catch(o){e={}}e.user?t(e.origin,e.user):t(e.origin,!1)}else t("*",!1)},n.onerror=function(){t("*",!1)},n.withCredentials=!0,n.send("bot_id="+encodeURIComponent(e.bot_id)+(e.lang?"&lang="+encodeURIComponent(e.lang):""))}};e.Telegram.getWidgetInfo=function(e,t){var n=null;(el=i(e))&&(el.tagName&&"IFRAME"==el.tagName.toUpperCase()?n=el:el._iframe&&(n=el._iframe),n&&t&&s(n,"get_info",{},t))},e.Telegram.setWidgetOptions=function(e,t){var n=null;if(void 0===t)for(var o=d(),a=0;a<o.length;a++)(n=o[a]._iframe)&&s(n,"set_options",{options:e});else(el=i(t))&&(el.tagName&&"IFRAME"==el.tagName.toUpperCase()?n=el:el._iframe&&(n=el._iframe),n&&s(n,"set_options",{options:e}))},e.Telegram.Login={auth:p.auth,widgetsOrigin:a("https://oauth.telegram.org","https://oauth.tg.dev")}}(window)}(window),cc._RF.pop()},{}],twittersdk:[function(e,t,n){"use strict";cc._RF.push(t,"1fdb7iHukBAK5otsFFImOqf","twittersdk"),Object.defineProperty(n,"__esModule",{value:!0});class o{constructor(){}static get instance(){return this._instance||(this._instance=new o)}init(){let e=window.hello;e&&e.init({twitter:"REm8KjWsthsmKXZoVIYXNn1qqy"},{scope:"email",redirect_uri:"http://192.168.2.188:7456/"})}Twitter_SignOut(e){let t=window.hello;t&&t.logout(function(t){console.log("twitter.logout\u767b\u51fa",t),e&&e()})}Twitter_Login(e){let t=window.hello;t&&(t("twitter").login(),t.on("auth.login",function(e){t(e.network).api("/me").then(function(e){window.console.log(e)})}))}destroy(){}}n.default=o,o._instance=null,cc._RF.pop()},{}],web:[function(e,t,n){"use strict";cc._RF.push(t,"38ea6awK0BHU4PvpHcoHXU2","web");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.web=void 0;const i=e("../common/manager/Manager"),a=o(e("../msgbox/PanelHelp"));n.web=new class{loginToFacebook(e){}shareToFacebook(e,t,n){}copyToClip(e,t){let n=document.createElement("textarea");n.style.background="transparent",n.value=e,document.body.appendChild(n),n.select();try{let e=document.execCommand("copy")?i.Manager.makeLanguage("Tips.CopySuccess"):i.Manager.makeLanguage("TIPS.GAMEDOWNLOADCOPYERROR");return t&&(e=t),document.body.removeChild(n),a.default.showTip(e)}catch(o){}}getDeviceUUID(){let e=Date.now();return(e=Math.ceil(e)).toString()}openURL(e){cc.sys.openURL(e)}getVersionName(){return G.Logger.log("android : getVersionName"),"1.1.4"}getResVersionName(){return G.Logger.log("android : getResVersionName"),"241"}localPhotoMethod(){document.getElementById("file").click()}takePhotoMethod(){this.localPhotoMethod()}getAppQuDaoId(){let e=(t=new RegExp("(^|&)ch=([^&]*)(&|$)"),null!=(n=window.location.search.substr(1).match(t))?unescape(n[2]):null);var t,n;return console.log("ch=",e),e||0}getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}openEmail(e){}saveTextureToLocal(e){}shareImageToLocal(e){}setRequestedOrientation(e){}setSurfaceViewZOrderOnTop(e){let t=document.getElementsByClassName("gameCanvas")[0];t.style.position="relative",t.style.zIndex=e?10:""}getAllContact(){}getClipBoardStr(){return navigator.clipboard.readText().then(e=>{G.Logger.log("\u83b7\u53d6\u526a\u8d34\u677f\u6210\u529f\uff1a",e),dispatch("getClipBoardStr",e),setTimeout(()=>{navigator.clipboard.writeText("")},1)}).catch(e=>{G.Logger.log("\u83b7\u53d6\u526a\u8d34\u677f\u5931\u8d25: ",e)}),null}handleClipBoardStr(){}getRoomIdOnShare(){return null}},window.webHandleFiles=function(e){if(e&&e.files&&e.files[0]){var t=e.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(e){let t=new Image;var n=e.target.result;t.src=""+e.target.result,t.onload=function(){let e=document.createElement("canvas"),o=e.getContext("2d");e.width=300,e.height=300,o.drawImage(t,0,0,300,300),n=e.toDataURL("image/jpeg"),dispatch("handleUpLoadPhoto",n)}}}},cc._RF.pop()},{"../common/manager/Manager":"Manager","../msgbox/PanelHelp":"PanelHelp"}]},{},["Application","GlobalAt","ShareBase","ShareHelpder","openAppHelpder","ShareTraceHelpder","EnterRealFieldNotiPanel","GiveGoldNotiPanel","HintRechargePanel","MultiCurrencyIconSwitch","WelfareCenterView","MissionItem","MissionView","AgentPot","AkunView","BannerView","BaseData","BaseWaitPanelEnter","GameData","GameView","HotUpdate","Logic","BindEmailView","BindPhoneView","AreaCode","AreaCodeConfig","AreaCodeItem","AreaCodeList","CaptureUtil","CountDownCode","GlobalAudio","ListView","MoveRepeatForever","NoticeItem","PrefabLoad","ScroViewBaseItem","ScroViewCtrl","ScroViewLogic","ScroViewPlus","ScroViewPlusItem","SendVerificationCode","SendVerificationCodePlus","Config","URLConfig","CommonDefine","ComponentDefine","EventDefine","LocalStorageDefine","SubGameDefine","LogicEvent","AllowEventTistribution","CommonInterface","ComponentInterface","NoneItem","TitleItemPage","TitleItemPageUser","LanguageChange","LanguageEN","LanguageHI","LanguageImpl","LanguageLabel","LanguageSpine","LanguageSprite","LanguageZH","DataManager","GameManager","LogicManager","MainController","Manager","NetManager","URLManager","CmdResStruct","CommonService","GameService","LobbyService","NumberUtils","TypeUtils","GuideExitView","IndicatorView","AppData","DeviceData","HallData","HostData","RechargeData","UserData","Framework","Adaptor","AssetManager","CacheManager","ResourceLoader","AudioComponent","BaseManager","Defines","EventComponent","GameEventInterface","Language","LocalStorage","Service","Singleton","UIManager","Controller","DataBase","ClassDecorator","Decorators","EventApi","EventDispatcher","BitEncrypt","CocosExtention","DateUtils","Extentions","LocalizationUtils","Operation","Utils","WebEditBoxImpl","Base64","protoc","telegram-widget","Log","Logger","HttpClient","JsonMessage","Message","ServerConnector","WebSocketClient","ToastDelegate","UILoadingDelegate","UIView","Global","User","UtilMgr","ClickPlayEffets","HallBetRankItem","HallEvent","HallGameItem","HallGuide","HallLogic","HallMessage","HallNetController","HallNewGameItem","HallNewLogic","HallNewView","HallRankItem","HallTimeRankItem","DataInterface","Loading","ForgetPassView","LoginLogic","LoginNewView","LoginView","RegisterView","RichTextHandler","Strategies","Validator","MinigameDefine","MinigameGoldView","MinigameView","ConfirmBox","LabelTip","NativePopUpToolTip","PanelHelp","PanelHelpSwitch","WebPopUpToolTip","RollNotice","PBChangePasswdView","PBDepositReceiptItemNode","PBDepositReceiptView","PBExtractPasswdView","PBHelpView","PBPasswdComponent","PBSettingPasswdView","PBTransferInView","PiggyBankData","PiggyBankView","android","ios","web","PromotionInterface","PromotionRankItem","PromotionRankListView","PromotionUnView","PromotionView","LeaderBoardItem","LeaderBoardView","RankItem","RankView","RecordItem","RecordView","RuleView","GoodsItem","RechargeChannelItem","RechargeOrderView","RechargePayView","RechargeRecordItem","RechargeRecordPanel","RechargeView","RedPakgeOpenView","RedPakgeReceive","RedPakgeReceiveItem","RedPakgeRecord","RedPakgeRecordDetail","RedPakgeRecordDetailItem","RedPakgeRecordItem","RedPakgeSend","RedPakgeShareView","RedPakgeView","RoomFruitPartyItem","RoomItemBase","RoomItemInterface","RoomListGuide","RoomListView","RoomRedVsBlackItem","RoomTexaCowTableItem","fbsdk","googlesdk","twittersdk","ServiceView","Setting","ShareView","SigninNew","HttpUtils","ConfirmCreateTournament","CreateTournamentView","MyTournamentItem","MyTournamentView","NoticeTournamentView","SignUpPlayerItem","SignUpPlayersView","TournamentData","TournamentDetailView","TournamentEndDetailView ","TournamentEndItem","TournamentItem","TournamentRoomView","AddressView","AwardWinningView","HelpView","MyPrizeView","PrizeItem","PrizeRecordItem","TurntableView","Updating","AreasItem","UserInfo","DisconnectWait","AttractNewView","AttractRecordItem","AttractRecordView","BankItemView","CreateAccountView","DepositRecordItem","DepositRecordView","PhoneVerification","RechargeNewView","WalletView","SecondaryPwdView","SetSecondaryPwdView","WithdrawalItem","WithdrawalView"]);